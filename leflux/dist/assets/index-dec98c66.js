var Us=Object.defineProperty;var Hs=(e,i,s)=>i in e?Us(e,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[i]=s;var Un=(e,i,s)=>(Hs(e,typeof i!="symbol"?i+"":i,s),s),Ar=(e,i,s)=>{if(!i.has(e))throw TypeError("Cannot "+s)};var lt=(e,i,s)=>(Ar(e,i,"read from private field"),s?s.call(e):i.get(e)),Lt=(e,i,s)=>{if(i.has(e))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(e):i.set(e,s)},Kt=(e,i,s,a)=>(Ar(e,i,"write to private field"),a?a.call(e,s):i.set(e,s),s);var rr=(e,i,s,a)=>({set _(o){Kt(e,i,o,s)},get _(){return lt(e,i,a)}}),Bt=(e,i,s)=>(Ar(e,i,"access private method"),s);function _mergeNamespaces(e,i){for(var s=0;s<i.length;s++){const a=i[s];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in e)){const c=Object.getOwnPropertyDescriptor(a,o);c&&Object.defineProperty(e,o,c.get?c:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();const index$2="";var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var i=e.default;if(typeof i=="function"){var s=function a(){return this instanceof a?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};s.prototype=i.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var o=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(s,a,o.get?o:{enumerable:!0,get:function(){return e[a]}})}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(e){return e===null||typeof e!="object"?null:(e=z$1&&e[z$1]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(e,i,s){this.props=e,this.context=i,this.refs=D$1,this.updater=s||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,i){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,i,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(e,i,s){this.props=e,this.context=i,this.refs=D$1,this.updater=s||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(e,i,s){var a,o={},c=null,d=null;if(i!=null)for(a in i.ref!==void 0&&(d=i.ref),i.key!==void 0&&(c=""+i.key),i)J.call(i,a)&&!L$1.hasOwnProperty(a)&&(o[a]=i[a]);var h=arguments.length-2;if(h===1)o.children=s;else if(1<h){for(var g=Array(h),b=0;b<h;b++)g[b]=arguments[b+2];o.children=g}if(e&&e.defaultProps)for(a in h=e.defaultProps,h)o[a]===void 0&&(o[a]=h[a]);return{$$typeof:l$1,type:e,key:c,ref:d,props:o,_owner:K$1.current}}function N$1(e,i){return{$$typeof:l$1,type:e.type,key:i,ref:e.ref,props:e.props,_owner:e._owner}}function O$1(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$1}function escape$1(e){var i={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return i[s]})}var P$1=/\/+/g;function Q$1(e,i){return typeof e=="object"&&e!==null&&e.key!=null?escape$1(""+e.key):i.toString(36)}function R$1(e,i,s,a,o){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case l$1:case n$1:d=!0}}if(d)return d=e,o=o(d),e=a===""?"."+Q$1(d,0):a,I$1(o)?(s="",e!=null&&(s=e.replace(P$1,"$&/")+"/"),R$1(o,i,s,"",function(b){return b})):o!=null&&(O$1(o)&&(o=N$1(o,s+(!o.key||d&&d.key===o.key?"":(""+o.key).replace(P$1,"$&/")+"/")+e)),i.push(o)),1;if(d=0,a=a===""?".":a+":",I$1(e))for(var h=0;h<e.length;h++){c=e[h];var g=a+Q$1(c,h);d+=R$1(c,i,s,g,o)}else if(g=A$1(e),typeof g=="function")for(e=g.call(e),h=0;!(c=e.next()).done;)c=c.value,g=a+Q$1(c,h++),d+=R$1(c,i,s,g,o);else if(c==="object")throw i=String(e),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return d}function S$1(e,i,s){if(e==null)return e;var a=[],o=0;return R$1(e,a,"","",function(c){return i.call(s,c,o++)}),a}function T$1(e){if(e._status===-1){var i=e._result;i=i(),i.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=i)}if(e._status===1)return e._result.default;throw e._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(e,i,s){S$1(e,function(){i.apply(this,arguments)},s)},count:function(e){var i=0;return S$1(e,function(){i++}),i},toArray:function(e){return S$1(e,function(i){return i})||[]},only:function(e){if(!O$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$2;react_production_min.cloneElement=function(e,i,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=C$1({},e.props),o=e.key,c=e.ref,d=e._owner;if(i!=null){if(i.ref!==void 0&&(c=i.ref,d=K$1.current),i.key!==void 0&&(o=""+i.key),e.type&&e.type.defaultProps)var h=e.type.defaultProps;for(g in i)J.call(i,g)&&!L$1.hasOwnProperty(g)&&(a[g]=i[g]===void 0&&h!==void 0?h[g]:i[g])}var g=arguments.length-2;if(g===1)a.children=s;else if(1<g){h=Array(g);for(var b=0;b<g;b++)h[b]=arguments[b+2];a.children=h}return{$$typeof:l$1,type:e.type,key:o,ref:c,props:a,_owner:d}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$1;react_production_min.createFactory=function(e){var i=M$1.bind(null,e);return i.type=e,i};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$1,render:e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:T$1}};react_production_min.memo=function(e,i){return{$$typeof:x,type:e,compare:i===void 0?null:i}};react_production_min.startTransition=function(e){var i=V$1.transition;V$1.transition={};try{e()}finally{V$1.transition=i}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(e,i){return U$1.current.useCallback(e,i)};react_production_min.useContext=function(e){return U$1.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$1.current.useDeferredValue(e)};react_production_min.useEffect=function(e,i){return U$1.current.useEffect(e,i)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(e,i,s){return U$1.current.useImperativeHandle(e,i,s)};react_production_min.useInsertionEffect=function(e,i){return U$1.current.useInsertionEffect(e,i)};react_production_min.useLayoutEffect=function(e,i){return U$1.current.useLayoutEffect(e,i)};react_production_min.useMemo=function(e,i){return U$1.current.useMemo(e,i)};react_production_min.useReducer=function(e,i,s){return U$1.current.useReducer(e,i,s)};react_production_min.useRef=function(e){return U$1.current.useRef(e)};react_production_min.useState=function(e){return U$1.current.useState(e)};react_production_min.useSyncExternalStore=function(e,i,s){return U$1.current.useSyncExternalStore(e,i,s)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$2=getDefaultExportFromCjs(reactExports),React$3=_mergeNamespaces({__proto__:null,default:React$2},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(e,i,s){var a,o={},c=null,d=null;s!==void 0&&(c=""+s),i.key!==void 0&&(c=""+i.key),i.ref!==void 0&&(d=i.ref);for(a in i)m$1.call(i,a)&&!p$1.hasOwnProperty(a)&&(o[a]=i[a]);if(e&&e.defaultProps)for(a in i=e.defaultProps,i)o[a]===void 0&&(o[a]=i[a]);return{$$typeof:k,type:e,key:c,ref:d,props:o,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function i(St,Nt){var bt=St.length;St.push(Nt);e:for(;0<bt;){var Qt=bt-1>>>1,nn=St[Qt];if(0<o(nn,Nt))St[Qt]=Nt,St[bt]=nn,bt=Qt;else break e}}function s(St){return St.length===0?null:St[0]}function a(St){if(St.length===0)return null;var Nt=St[0],bt=St.pop();if(bt!==Nt){St[0]=bt;e:for(var Qt=0,nn=St.length,dt=nn>>>1;Qt<dt;){var ct=2*(Qt+1)-1,mt=St[ct],ht=ct+1,yt=St[ht];if(0>o(mt,bt))ht<nn&&0>o(yt,mt)?(St[Qt]=yt,St[ht]=bt,Qt=ht):(St[Qt]=mt,St[ct]=bt,Qt=ct);else if(ht<nn&&0>o(yt,bt))St[Qt]=yt,St[ht]=bt,Qt=ht;else break e}}return Nt}function o(St,Nt){var bt=St.sortIndex-Nt.sortIndex;return bt!==0?bt:St.id-Nt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();e.unstable_now=function(){return d.now()-h}}var g=[],b=[],_=1,j=null,$=3,_e=!1,rt=!1,nt=!1,st=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function it(St){for(var Nt=s(b);Nt!==null;){if(Nt.callback===null)a(b);else if(Nt.startTime<=St)a(b),Nt.sortIndex=Nt.expirationTime,i(g,Nt);else break;Nt=s(b)}}function pt(St){if(nt=!1,it(St),!rt)if(s(g)!==null)rt=!0,Vt(ot);else{var Nt=s(b);Nt!==null&&Ht(pt,Nt.startTime-St)}}function ot(St,Nt){rt=!1,nt&&(nt=!1,tt(gt),gt=-1),_e=!0;var bt=$;try{for(it(Nt),j=s(g);j!==null&&(!(j.expirationTime>Nt)||St&&!vt());){var Qt=j.callback;if(typeof Qt=="function"){j.callback=null,$=j.priorityLevel;var nn=Qt(j.expirationTime<=Nt);Nt=e.unstable_now(),typeof nn=="function"?j.callback=nn:j===s(g)&&a(g),it(Nt)}else a(g);j=s(g)}if(j!==null)var dt=!0;else{var ct=s(b);ct!==null&&Ht(pt,ct.startTime-Nt),dt=!1}return dt}finally{j=null,$=bt,_e=!1}}var at=!1,xt=null,gt=-1,ut=5,Et=-1;function vt(){return!(e.unstable_now()-Et<ut)}function _t(){if(xt!==null){var St=e.unstable_now();Et=St;var Nt=!0;try{Nt=xt(!0,St)}finally{Nt?jt():(at=!1,xt=null)}}else at=!1}var jt;if(typeof et=="function")jt=function(){et(_t)};else if(typeof MessageChannel<"u"){var kt=new MessageChannel,It=kt.port2;kt.port1.onmessage=_t,jt=function(){It.postMessage(null)}}else jt=function(){st(_t,0)};function Vt(St){xt=St,at||(at=!0,jt())}function Ht(St,Nt){gt=st(function(){St(e.unstable_now())},Nt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(St){St.callback=null},e.unstable_continueExecution=function(){rt||_e||(rt=!0,Vt(ot))},e.unstable_forceFrameRate=function(St){0>St||125<St?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ut=0<St?Math.floor(1e3/St):5},e.unstable_getCurrentPriorityLevel=function(){return $},e.unstable_getFirstCallbackNode=function(){return s(g)},e.unstable_next=function(St){switch($){case 1:case 2:case 3:var Nt=3;break;default:Nt=$}var bt=$;$=Nt;try{return St()}finally{$=bt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(St,Nt){switch(St){case 1:case 2:case 3:case 4:case 5:break;default:St=3}var bt=$;$=St;try{return Nt()}finally{$=bt}},e.unstable_scheduleCallback=function(St,Nt,bt){var Qt=e.unstable_now();switch(typeof bt=="object"&&bt!==null?(bt=bt.delay,bt=typeof bt=="number"&&0<bt?Qt+bt:Qt):bt=Qt,St){case 1:var nn=-1;break;case 2:nn=250;break;case 5:nn=1073741823;break;case 4:nn=1e4;break;default:nn=5e3}return nn=bt+nn,St={id:_++,callback:Nt,priorityLevel:St,startTime:bt,expirationTime:nn,sortIndex:-1},bt>Qt?(St.sortIndex=bt,i(b,St),s(g)===null&&St===s(b)&&(nt?(tt(gt),gt=-1):nt=!0,Ht(pt,bt-Qt))):(St.sortIndex=nn,i(g,St),rt||_e||(rt=!0,Vt(ot))),St},e.unstable_shouldYield=vt,e.unstable_wrapCallback=function(St){var Nt=$;return function(){var bt=$;$=Nt;try{return St.apply(this,arguments)}finally{$=bt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(e){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,i){ha(e,i),ha(e+"Capture",i)}function ha(e,i){for(ea[e]=i,e=0;e<i.length;e++)da.add(i[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function pa(e,i,s,a){if(s!==null&&s.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa(e,i,s,a){if(i===null||typeof i>"u"||pa(e,i,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function v(e,i,s,a,o,c,d){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=a,this.attributeNamespace=o,this.mustUseProperty=s,this.propertyName=e,this.type=i,this.sanitizeURL=c,this.removeEmptyString=d}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new v(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var i=e[0];z[i]=new v(i,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new v(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new v(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new v(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new v(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var i=e.replace(ra,sa);z[i]=new v(i,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var i=e.replace(ra,sa);z[i]=new v(i,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var i=e.replace(ra,sa);z[i]=new v(i,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta(e,i,s,a){var o=z.hasOwnProperty(i)?z[i]:null;(o!==null?o.type!==0:a||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(qa(i,s,o,a)&&(s=null),a||o===null?oa(i)&&(s===null?e.removeAttribute(i):e.setAttribute(i,""+s)):o.mustUseProperty?e[o.propertyName]=s===null?o.type===3?!1:"":s:(i=o.attributeName,a=o.attributeNamespace,s===null?e.removeAttribute(i):(o=o.type,s=o===3||o===4&&s===!0?"":""+s,a?e.setAttributeNS(a,i,s):e.setAttribute(i,s))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,La;function Ma(e){if(La===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);La=i&&i[1]||""}return`
`+La+e}var Na=!1;function Oa(e,i){if(!e||Na)return"";Na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(b){var a=b}Reflect.construct(e,[],i)}else{try{i.call()}catch(b){a=b}e.call(i.prototype)}else{try{throw Error()}catch(b){a=b}e()}}catch(b){if(b&&a&&typeof b.stack=="string"){for(var o=b.stack.split(`
`),c=a.stack.split(`
`),d=o.length-1,h=c.length-1;1<=d&&0<=h&&o[d]!==c[h];)h--;for(;1<=d&&0<=h;d--,h--)if(o[d]!==c[h]){if(d!==1||h!==1)do if(d--,h--,0>h||o[d]!==c[h]){var g=`
`+o[d].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=d&&0<=h);break}}}finally{Na=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Pa(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca:return(e.displayName||"Context")+".Consumer";case Ba:return(e._context.displayName||"Context")+".Provider";case Da:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return i=e.displayName||null,i!==null?i:Qa(e.type)||"Memo";case Ha:i=e._payload,e=e._init;try{return Qa(e(i))}catch{}}return null}function Ra(e){var i=e.type;switch(e.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=i.render,e=e.displayName||e.name||"",i.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(i);case 8:return i===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ua(e){var i=Ta(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),a=""+e[i];if(!e.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,c=s.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return o.call(this)},set:function(d){a=""+d,c.call(this,d)}}),Object.defineProperty(e,i,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(d){a=""+d},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),a="";return e&&(a=Ta(e)?e.checked?"true":"false":e.value),e=a,e!==s?(i.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,i){var s=i.checked;return A({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Za(e,i){var s=i.defaultValue==null?"":i.defaultValue,a=i.checked!=null?i.checked:i.defaultChecked;s=Sa(i.value!=null?i.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ab(e,i){i=i.checked,i!=null&&ta(e,"checked",i,!1)}function bb(e,i){ab(e,i);var s=Sa(i.value),a=i.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}i.hasOwnProperty("value")?cb(e,i.type,s):i.hasOwnProperty("defaultValue")&&cb(e,i.type,Sa(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(e.defaultChecked=!!i.defaultChecked)}function db$1(e,i,s){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var a=i.type;if(!(a!=="submit"&&a!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+e._wrapperState.initialValue,s||i===e.value||(e.value=i),e.defaultValue=i}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function cb(e,i,s){(i!=="number"||Xa(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var eb=Array.isArray;function fb(e,i,s,a){if(e=e.options,i){i={};for(var o=0;o<s.length;o++)i["$"+s[o]]=!0;for(s=0;s<e.length;s++)o=i.hasOwnProperty("$"+e[s].value),e[s].selected!==o&&(e[s].selected=o),o&&a&&(e[s].defaultSelected=!0)}else{for(s=""+Sa(s),i=null,o=0;o<e.length;o++){if(e[o].value===s){e[o].selected=!0,a&&(e[o].defaultSelected=!0);return}i!==null||e[o].disabled||(i=e[o])}i!==null&&(i.selected=!0)}}function gb(e,i){if(i.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},i,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,i){var s=i.value;if(s==null){if(s=i.children,i=i.defaultValue,s!=null){if(i!=null)throw Error(p(92));if(eb(s)){if(1<s.length)throw Error(p(93));s=s[0]}i=s}i==null&&(i=""),s=i}e._wrapperState={initialValue:Sa(s)}}function ib(e,i){var s=Sa(i.value),a=Sa(i.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),i.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function jb(e){var i=e.textContent;i===e._wrapperState.initialValue&&i!==""&&i!==null&&(e.value=i)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,i){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(i):e==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,s,a,o){MSApp.execUnsafeLocalFunction(function(){return e(i,s,a,o)})}:e}(function(e,i){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=i;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;i.firstChild;)e.appendChild(i.firstChild)}});function ob(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(i){i=i+e.charAt(0).toUpperCase()+e.substring(1),pb[i]=pb[e]})});function rb(e,i,s){return i==null||typeof i=="boolean"||i===""?"":s||typeof i!="number"||i===0||pb.hasOwnProperty(e)&&pb[e]?(""+i).trim():i+"px"}function sb(e,i){e=e.style;for(var s in i)if(i.hasOwnProperty(s)){var a=s.indexOf("--")===0,o=rb(s,i[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,o):e[s]=o}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,i){if(i){if(tb[e]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(p(137,e));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(p(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(p(61))}if(i.style!=null&&typeof i.style!="object")throw Error(p(62))}}function vb(e,i){if(e.indexOf("-")===-1)return typeof i.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p(280));var i=e.stateNode;i&&(i=Db(i),yb(e.stateNode,e.type,i))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,i=Ab;if(Ab=zb=null,Bb(e),i)for(e=0;e<i.length;e++)Bb(i[e])}}function Gb(e,i){return e(i)}function Hb(){}var Ib=!1;function Jb(e,i,s){if(Ib)return e(i,s);Ib=!0;try{return Gb(e,i,s)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,i){var s=e.stateNode;if(s===null)return null;var a=Db(s);if(a===null)return null;s=a[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(p(231,i,typeof s));return s}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,i,s,a,o,c,d,h,g){var b=Array.prototype.slice.call(arguments,3);try{i.apply(s,b)}catch(_){this.onError(_)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,i,s,a,o,c,d,h,g){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,i,s,a,o,c,d,h,g){if(Tb.apply(this,arguments),Ob){if(Ob){var b=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=b)}}function Vb(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,i.flags&4098&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function Wb(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p(188))}function Yb(e){var i=e.alternate;if(!i){if(i=Vb(e),i===null)throw Error(p(188));return i!==e?null:e}for(var s=e,a=i;;){var o=s.return;if(o===null)break;var c=o.alternate;if(c===null){if(a=o.return,a!==null){s=a;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===s)return Xb(o),e;if(c===a)return Xb(o),i;c=c.sibling}throw Error(p(188))}if(s.return!==a.return)s=o,a=c;else{for(var d=!1,h=o.child;h;){if(h===s){d=!0,s=o,a=c;break}if(h===a){d=!0,a=o,s=c;break}h=h.sibling}if(!d){for(h=c.child;h;){if(h===s){d=!0,s=c,a=o;break}if(h===a){d=!0,a=c,s=o;break}h=h.sibling}if(!d)throw Error(p(189))}}if(s.alternate!==a)throw Error(p(190))}if(s.tag!==3)throw Error(p(188));return s.stateNode.current===s?e:i}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var i=$b(e);if(i!==null)return i;e=e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(pc(e)/qc|0)|0}var rc=64,sc=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,i){var s=e.pendingLanes;if(s===0)return 0;var a=0,o=e.suspendedLanes,c=e.pingedLanes,d=s&268435455;if(d!==0){var h=d&~o;h!==0?a=tc(h):(c&=d,c!==0&&(a=tc(c)))}else d=s&~o,d!==0?a=tc(d):c!==0&&(a=tc(c));if(a===0)return 0;if(i!==0&&i!==a&&!(i&o)&&(o=a&-a,c=i&-i,o>=c||o===16&&(c&4194240)!==0))return i;if(a&4&&(a|=s&16),i=e.entangledLanes,i!==0)for(e=e.entanglements,i&=a;0<i;)s=31-oc(i),o=1<<s,a|=e[s],i&=~o;return a}function vc(e,i){switch(e){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,i){for(var s=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes;0<c;){var d=31-oc(c),h=1<<d,g=o[d];g===-1?(!(h&s)||h&a)&&(o[d]=vc(h,i)):g<=i&&(e.expiredLanes|=h),c&=~h}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),e}function zc(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function Ac(e,i,s){e.pendingLanes|=i,i!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,i=31-oc(i),e[i]=s}function Bc(e,i){var s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var o=31-oc(s),c=1<<o;i[o]=0,a[o]=-1,e[o]=-1,s&=~c}}function Cc(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var a=31-oc(s),o=1<<a;o&i|e[a]&i&&(e[a]|=i),s&=~o}}var C=0;function Dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,i){switch(e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(i.pointerId)}}function Tc(e,i,s,a,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:i,domEventName:s,eventSystemFlags:a,nativeEvent:c,targetContainers:[o]},i!==null&&(i=Cb(i),i!==null&&Fc(i)),e):(e.eventSystemFlags|=a,i=e.targetContainers,o!==null&&i.indexOf(o)===-1&&i.push(o),e)}function Uc(e,i,s,a,o){switch(i){case"focusin":return Lc=Tc(Lc,e,i,s,a,o),!0;case"dragenter":return Mc=Tc(Mc,e,i,s,a,o),!0;case"mouseover":return Nc=Tc(Nc,e,i,s,a,o),!0;case"pointerover":var c=o.pointerId;return Oc.set(c,Tc(Oc.get(c)||null,e,i,s,a,o)),!0;case"gotpointercapture":return c=o.pointerId,Pc.set(c,Tc(Pc.get(c)||null,e,i,s,a,o)),!0}return!1}function Vc(e){var i=Wc(e.target);if(i!==null){var s=Vb(i);if(s!==null){if(i=s.tag,i===13){if(i=Wb(s),i!==null){e.blockedOn=i,Ic(e.priority,function(){Gc(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=Yc(e.domEventName,e.eventSystemFlags,i[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);wb=a,s.target.dispatchEvent(a),wb=null}else return i=Cb(s),i!==null&&Fc(i),e.blockedOn=s,!1;i.shift()}return!0}function Zc(e,i,s){Xc(e)&&s.delete(i)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(e,i){e.blockedOn===i&&(e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(e){function i(o){return ad(o,e)}if(0<Kc.length){ad(Kc[0],e);for(var s=1;s<Kc.length;s++){var a=Kc[s];a.blockedOn===e&&(a.blockedOn=null)}}for(Lc!==null&&ad(Lc,e),Mc!==null&&ad(Mc,e),Nc!==null&&ad(Nc,e),Oc.forEach(i),Pc.forEach(i),s=0;s<Qc.length;s++)a=Qc[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<Qc.length&&(s=Qc[0],s.blockedOn===null);)Vc(s),s.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(e,i,s,a){var o=C,c=cd.transition;cd.transition=null;try{C=1,fd(e,i,s,a)}finally{C=o,cd.transition=c}}function gd(e,i,s,a){var o=C,c=cd.transition;cd.transition=null;try{C=4,fd(e,i,s,a)}finally{C=o,cd.transition=c}}function fd(e,i,s,a){if(dd){var o=Yc(e,i,s,a);if(o===null)hd(e,i,a,id$2,s),Sc(e,a);else if(Uc(o,e,i,s,a))a.stopPropagation();else if(Sc(e,a),i&4&&-1<Rc.indexOf(e)){for(;o!==null;){var c=Cb(o);if(c!==null&&Ec(c),c=Yc(e,i,s,a),c===null&&hd(e,i,a,id$2,s),c===o)break;o=c}o!==null&&a.stopPropagation()}else hd(e,i,a,null,s)}}var id$2=null;function Yc(e,i,s,a){if(id$2=null,e=xb(a),e=Wc(e),e!==null)if(i=Vb(e),i===null)e=null;else if(s=i.tag,s===13){if(e=Wb(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null);return id$2=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,i=ld,s=i.length,a,o="value"in kd?kd.value:kd.textContent,c=o.length;for(e=0;e<s&&i[e]===o[e];e++);var d=s-e;for(a=1;a<=d&&i[s-a]===o[c-a];a++);return md=o.slice(e,1<a?1-a:void 0)}function od(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function i(s,a,o,c,d){this._reactName=s,this._targetInst=o,this.type=a,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(s=e[h],this[h]=s?s(c):c[h]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),i}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Od[e])?!!i[e]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(e){if(e.key){var i=Md[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(e,i){switch(e){case"keyup":return $d.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie=!1;function je(e,i){switch(e){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(fe=!0,ee);case"textInput":return e=i.data,e===ee&&fe?null:e;default:return null}}function ke(e,i){if(ie)return e==="compositionend"||!ae&&ge(e,i)?(e=nd(),md=ld=kd=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return de&&i.locale!=="ko"?null:i.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!le[e.type]:i==="textarea"}function ne(e,i,s,a){Eb(a),i=oe(i,"onChange"),0<i.length&&(s=new td("onChange","change",null,s,a),e.push({event:s,listeners:i}))}var pe=null,qe=null;function re$1(e){se(e,0)}function te(e){var i=ue(e);if(Wa(i))return e}function ve(e,i){if(e==="change")return i}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(e){if(e.propertyName==="value"&&te(qe)){var i=[];ne(i,qe,e,xb(e)),Jb(re$1,i)}}function Ce(e,i,s){e==="focusin"?(Ae(),pe=i,qe=s,pe.attachEvent("onpropertychange",Be)):e==="focusout"&&Ae()}function De(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te(qe)}function Ee(e,i){if(e==="click")return te(i)}function Fe(e,i){if(e==="input"||e==="change")return te(i)}function Ge(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(e,i){if(He(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),a=Object.keys(i);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var o=s[a];if(!ja.call(i,o)||!He(e[o],i[o]))return!1}return!0}function Je(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke(e,i){var s=Je(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=i&&a>=i)return{node:s,offset:i-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Le(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Me(){for(var e=window,i=Xa();i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=Xa(e.document)}return i}function Ne(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function Oe(e){var i=Me(),s=e.focusedElem,a=e.selectionRange;if(i!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(a!==null&&Ne(s)){if(i=a.start,e=a.end,e===void 0&&(e=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(e,s.value.length);else if(e=(i=s.ownerDocument||document)&&i.defaultView||window,e.getSelection){e=e.getSelection();var o=s.textContent.length,c=Math.min(a.start,o);a=a.end===void 0?c:Math.min(a.end,o),!e.extend&&c>a&&(o=a,a=c,c=o),o=Ke(s,c);var d=Ke(s,a);o&&d&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(i=i.createRange(),i.setStart(o.node,o.offset),e.removeAllRanges(),c>a?(e.addRange(i),e.extend(d.node,d.offset)):(i.setEnd(d.node,d.offset),e.addRange(i)))}}for(i=[],e=s;e=e.parentNode;)e.nodeType===1&&i.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)e=i[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(e,i,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te||Qe==null||Qe!==Xa(a)||(a=Qe,"selectionStart"in a&&Ne(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Se&&Ie(Se,a)||(Se=a,a=oe(Re,"onSelect"),0<a.length&&(i=new td("onSelect","select",null,i,s),e.push({event:i,listeners:a}),i.target=Qe)))}function Ve(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(e){if(Xe[e])return Xe[e];if(!We[e])return e;var i=We[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in Ye)return Xe[e]=i[s];return e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,i){df.set(e,i),fa(i,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,i,s){var a=e.type||"unknown-event";e.currentTarget=s,Ub(a,i,void 0,e),e.currentTarget=null}function se(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],o=a.event;a=a.listeners;e:{var c=void 0;if(i)for(var d=a.length-1;0<=d;d--){var h=a[d],g=h.instance,b=h.currentTarget;if(h=h.listener,g!==c&&o.isPropagationStopped())break e;nf(o,h,b),c=g}else for(d=0;d<a.length;d++){if(h=a[d],g=h.instance,b=h.currentTarget,h=h.listener,g!==c&&o.isPropagationStopped())break e;nf(o,h,b),c=g}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D(e,i){var s=i[of];s===void 0&&(s=i[of]=new Set);var a=e+"__bubble";s.has(a)||(pf(i,e,2,!1),s.add(a))}function qf(e,i,s){var a=0;i&&(a|=4),pf(s,e,a,i)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,e),qf(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[rf]||(i[rf]=!0,qf("selectionchange",!1,i))}}function pf(e,i,s,a){switch(jd(i)){case 1:var o=ed;break;case 4:o=gd;break;default:o=fd}s=o.bind(null,i,s,e),o=void 0,!Lb||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(o=!0),a?o!==void 0?e.addEventListener(i,s,{capture:!0,passive:o}):e.addEventListener(i,s,!0):o!==void 0?e.addEventListener(i,s,{passive:o}):e.addEventListener(i,s,!1)}function hd(e,i,s,a,o){var c=a;if(!(i&1)&&!(i&2)&&a!==null)e:for(;;){if(a===null)return;var d=a.tag;if(d===3||d===4){var h=a.stateNode.containerInfo;if(h===o||h.nodeType===8&&h.parentNode===o)break;if(d===4)for(d=a.return;d!==null;){var g=d.tag;if((g===3||g===4)&&(g=d.stateNode.containerInfo,g===o||g.nodeType===8&&g.parentNode===o))return;d=d.return}for(;h!==null;){if(d=Wc(h),d===null)return;if(g=d.tag,g===5||g===6){a=c=d;continue e}h=h.parentNode}}a=a.return}Jb(function(){var b=c,_=xb(s),j=[];e:{var $=df.get(e);if($!==void 0){var _e=td,rt=e;switch(e){case"keypress":if(od(s)===0)break e;case"keydown":case"keyup":_e=Rd;break;case"focusin":rt="focus",_e=Fd;break;case"focusout":rt="blur",_e=Fd;break;case"beforeblur":case"afterblur":_e=Fd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=Vd;break;case $e:case af:case bf:_e=Hd;break;case cf:_e=Xd;break;case"scroll":_e=vd;break;case"wheel":_e=Zd;break;case"copy":case"cut":case"paste":_e=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=Td}var nt=(i&4)!==0,st=!nt&&e==="scroll",tt=nt?$!==null?$+"Capture":null:$;nt=[];for(var et=b,it;et!==null;){it=et;var pt=it.stateNode;if(it.tag===5&&pt!==null&&(it=pt,tt!==null&&(pt=Kb(et,tt),pt!=null&&nt.push(tf(et,pt,it)))),st)break;et=et.return}0<nt.length&&($=new _e($,rt,null,s,_),j.push({event:$,listeners:nt}))}}if(!(i&7)){e:{if($=e==="mouseover"||e==="pointerover",_e=e==="mouseout"||e==="pointerout",$&&s!==wb&&(rt=s.relatedTarget||s.fromElement)&&(Wc(rt)||rt[uf]))break e;if((_e||$)&&($=_.window===_?_:($=_.ownerDocument)?$.defaultView||$.parentWindow:window,_e?(rt=s.relatedTarget||s.toElement,_e=b,rt=rt?Wc(rt):null,rt!==null&&(st=Vb(rt),rt!==st||rt.tag!==5&&rt.tag!==6)&&(rt=null)):(_e=null,rt=b),_e!==rt)){if(nt=Bd,pt="onMouseLeave",tt="onMouseEnter",et="mouse",(e==="pointerout"||e==="pointerover")&&(nt=Td,pt="onPointerLeave",tt="onPointerEnter",et="pointer"),st=_e==null?$:ue(_e),it=rt==null?$:ue(rt),$=new nt(pt,et+"leave",_e,s,_),$.target=st,$.relatedTarget=it,pt=null,Wc(_)===b&&(nt=new nt(tt,et+"enter",rt,s,_),nt.target=it,nt.relatedTarget=st,pt=nt),st=pt,_e&&rt)t:{for(nt=_e,tt=rt,et=0,it=nt;it;it=vf(it))et++;for(it=0,pt=tt;pt;pt=vf(pt))it++;for(;0<et-it;)nt=vf(nt),et--;for(;0<it-et;)tt=vf(tt),it--;for(;et--;){if(nt===tt||tt!==null&&nt===tt.alternate)break t;nt=vf(nt),tt=vf(tt)}nt=null}else nt=null;_e!==null&&wf(j,$,_e,nt,!1),rt!==null&&st!==null&&wf(j,st,rt,nt,!0)}}e:{if($=b?ue(b):window,_e=$.nodeName&&$.nodeName.toLowerCase(),_e==="select"||_e==="input"&&$.type==="file")var ot=ve;else if(me($))if(we)ot=Fe;else{ot=De;var at=Ce}else(_e=$.nodeName)&&_e.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(ot=Ee);if(ot&&(ot=ot(e,b))){ne(j,ot,s,_);break e}at&&at(e,$,b),e==="focusout"&&(at=$._wrapperState)&&at.controlled&&$.type==="number"&&cb($,"number",$.value)}switch(at=b?ue(b):window,e){case"focusin":(me(at)||at.contentEditable==="true")&&(Qe=at,Re=b,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(j,s,_);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(j,s,_)}var xt;if(ae)e:{switch(e){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else ie?ge(e,s)&&(gt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(gt="onCompositionStart");gt&&(de&&s.locale!=="ko"&&(ie||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&ie&&(xt=nd()):(kd=_,ld="value"in kd?kd.value:kd.textContent,ie=!0)),at=oe(b,gt),0<at.length&&(gt=new Ld(gt,e,null,s,_),j.push({event:gt,listeners:at}),xt?gt.data=xt:(xt=he(s),xt!==null&&(gt.data=xt)))),(xt=ce?je(e,s):ke(e,s))&&(b=oe(b,"onBeforeInput"),0<b.length&&(_=new Ld("onBeforeInput","beforeinput",null,s,_),j.push({event:_,listeners:b}),_.data=xt))}se(j,i)})}function tf(e,i,s){return{instance:e,listener:i,currentTarget:s}}function oe(e,i){for(var s=i+"Capture",a=[];e!==null;){var o=e,c=o.stateNode;o.tag===5&&c!==null&&(o=c,c=Kb(e,s),c!=null&&a.unshift(tf(e,c,o)),c=Kb(e,i),c!=null&&a.push(tf(e,c,o))),e=e.return}return a}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,i,s,a,o){for(var c=i._reactName,d=[];s!==null&&s!==a;){var h=s,g=h.alternate,b=h.stateNode;if(g!==null&&g===a)break;h.tag===5&&b!==null&&(h=b,o?(g=Kb(s,c),g!=null&&d.unshift(tf(s,g,h))):o||(g=Kb(s,c),g!=null&&d.push(tf(s,g,h)))),s=s.return}d.length!==0&&e.push({event:i,listeners:d})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,i,s){if(i=zf(i),zf(e)!==i&&s)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,i){var s=i,a=0;do{var o=s.nextSibling;if(e.removeChild(s),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(a===0){e.removeChild(o),bd(i);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=o}while(s);bd(i)}function Lf(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return e;i--}else s==="/$"&&i++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(e){var i=e[Of];if(i)return i;for(var s=e.parentNode;s;){if(i=s[uf]||s[Of]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=Mf(e);e!==null;){if(s=e[Of])return s;e=Mf(e)}return i}e=s,s=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(e,i){Tf++,Sf[Tf]=e.current,e.current=i}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,i){var s=e.type.contextTypes;if(!s)return Vf;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===i)return a.__reactInternalMemoizedMaskedChildContext;var o={},c;for(c in s)o[c]=i[c];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),o}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E(Wf),E(H)}function ag(e,i,s){if(H.current!==Vf)throw Error(p(168));G(H,i),G(Wf,s)}function bg(e,i,s){var a=e.stateNode;if(i=i.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var o in a)if(!(o in i))throw Error(p(108,Ra(e)||"Unknown",o));return A({},s,a)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,e),G(Wf,Wf.current),!0}function dg(e,i,s){var a=e.stateNode;if(!a)throw Error(p(169));s?(e=bg(e,i,Xf),a.__reactInternalMemoizedMergedChildContext=e,E(Wf),E(H),G(H,e)):E(Wf),G(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,i=C;try{var s=eg;for(C=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}eg=null,fg=!1}catch(o){throw eg!==null&&(eg=eg.slice(e+1)),ac(fc,jg),o}finally{C=i,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,i){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=i}function ug(e,i,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var a=rg;e=sg;var o=32-oc(a)-1;a&=~(1<<o),s+=1;var c=32-oc(i)+o;if(30<c){var d=o-o%5;c=(a&(1<<d)-1).toString(32),a>>=d,o-=d,rg=1<<32-oc(i)+o|s<<o|a,sg=c+e}else rg=1<<c|s<<o|a,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(e,i){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=i,s.return=e,i=e.deletions,i===null?(e.deletions=[s],e.flags|=16):i.push(s)}function Cg(e,i){switch(e.tag){case 5:var s=e.type;return i=i.nodeType!==1||s.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(e.stateNode=i,xg=e,yg=Lf(i.firstChild),!0):!1;case 6:return i=e.pendingProps===""||i.nodeType!==3?null:i,i!==null?(e.stateNode=i,xg=e,yg=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(s=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:i,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=i,s.return=e,e.child=s,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I){var i=yg;if(i){var s=i;if(!Cg(e,i)){if(Dg(e))throw Error(p(418));i=Lf(s.nextSibling);var a=xg;i&&Cg(e,i)?Ag(a,s):(e.flags=e.flags&-4097|2,I=!1,xg=e)}}else{if(Dg(e))throw Error(p(418));e.flags=e.flags&-4097|2,I=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I)return Fg(e),I=!0,!1;var i;if((i=e.tag!==3)&&!(i=e.tag!==5)&&(i=e.type,i=i!=="head"&&i!=="body"&&!Ef(e.type,e.memoizedProps)),i&&(i=yg)){if(Dg(e))throw Hg(),Error(p(418));for(;i;)Ag(e,i),i=Lf(i.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));e:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(i===0){yg=Lf(e.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(e,i,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p(309));var a=s.stateNode}if(!a)throw Error(p(147,e));var o=a,c=""+e;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===c?i.ref:(i=function(d){var h=o.refs;d===null?delete h[c]:h[c]=d},i._stringRef=c,i)}if(typeof e!="string")throw Error(p(284));if(!s._owner)throw Error(p(290,e))}return e}function Mg(e,i){throw e=Object.prototype.toString.call(i),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e))}function Ng(e){var i=e._init;return i(e._payload)}function Og(e){function i(tt,et){if(e){var it=tt.deletions;it===null?(tt.deletions=[et],tt.flags|=16):it.push(et)}}function s(tt,et){if(!e)return null;for(;et!==null;)i(tt,et),et=et.sibling;return null}function a(tt,et){for(tt=new Map;et!==null;)et.key!==null?tt.set(et.key,et):tt.set(et.index,et),et=et.sibling;return tt}function o(tt,et){return tt=Pg(tt,et),tt.index=0,tt.sibling=null,tt}function c(tt,et,it){return tt.index=it,e?(it=tt.alternate,it!==null?(it=it.index,it<et?(tt.flags|=2,et):it):(tt.flags|=2,et)):(tt.flags|=1048576,et)}function d(tt){return e&&tt.alternate===null&&(tt.flags|=2),tt}function h(tt,et,it,pt){return et===null||et.tag!==6?(et=Qg(it,tt.mode,pt),et.return=tt,et):(et=o(et,it),et.return=tt,et)}function g(tt,et,it,pt){var ot=it.type;return ot===ya?_(tt,et,it.props.children,pt,it.key):et!==null&&(et.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===Ha&&Ng(ot)===et.type)?(pt=o(et,it.props),pt.ref=Lg(tt,et,it),pt.return=tt,pt):(pt=Rg(it.type,it.key,it.props,null,tt.mode,pt),pt.ref=Lg(tt,et,it),pt.return=tt,pt)}function b(tt,et,it,pt){return et===null||et.tag!==4||et.stateNode.containerInfo!==it.containerInfo||et.stateNode.implementation!==it.implementation?(et=Sg(it,tt.mode,pt),et.return=tt,et):(et=o(et,it.children||[]),et.return=tt,et)}function _(tt,et,it,pt,ot){return et===null||et.tag!==7?(et=Tg(it,tt.mode,pt,ot),et.return=tt,et):(et=o(et,it),et.return=tt,et)}function j(tt,et,it){if(typeof et=="string"&&et!==""||typeof et=="number")return et=Qg(""+et,tt.mode,it),et.return=tt,et;if(typeof et=="object"&&et!==null){switch(et.$$typeof){case va:return it=Rg(et.type,et.key,et.props,null,tt.mode,it),it.ref=Lg(tt,null,et),it.return=tt,it;case wa:return et=Sg(et,tt.mode,it),et.return=tt,et;case Ha:var pt=et._init;return j(tt,pt(et._payload),it)}if(eb(et)||Ka(et))return et=Tg(et,tt.mode,it,null),et.return=tt,et;Mg(tt,et)}return null}function $(tt,et,it,pt){var ot=et!==null?et.key:null;if(typeof it=="string"&&it!==""||typeof it=="number")return ot!==null?null:h(tt,et,""+it,pt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case va:return it.key===ot?g(tt,et,it,pt):null;case wa:return it.key===ot?b(tt,et,it,pt):null;case Ha:return ot=it._init,$(tt,et,ot(it._payload),pt)}if(eb(it)||Ka(it))return ot!==null?null:_(tt,et,it,pt,null);Mg(tt,it)}return null}function _e(tt,et,it,pt,ot){if(typeof pt=="string"&&pt!==""||typeof pt=="number")return tt=tt.get(it)||null,h(et,tt,""+pt,ot);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:return tt=tt.get(pt.key===null?it:pt.key)||null,g(et,tt,pt,ot);case wa:return tt=tt.get(pt.key===null?it:pt.key)||null,b(et,tt,pt,ot);case Ha:var at=pt._init;return _e(tt,et,it,at(pt._payload),ot)}if(eb(pt)||Ka(pt))return tt=tt.get(it)||null,_(et,tt,pt,ot,null);Mg(et,pt)}return null}function rt(tt,et,it,pt){for(var ot=null,at=null,xt=et,gt=et=0,ut=null;xt!==null&&gt<it.length;gt++){xt.index>gt?(ut=xt,xt=null):ut=xt.sibling;var Et=$(tt,xt,it[gt],pt);if(Et===null){xt===null&&(xt=ut);break}e&&xt&&Et.alternate===null&&i(tt,xt),et=c(Et,et,gt),at===null?ot=Et:at.sibling=Et,at=Et,xt=ut}if(gt===it.length)return s(tt,xt),I&&tg(tt,gt),ot;if(xt===null){for(;gt<it.length;gt++)xt=j(tt,it[gt],pt),xt!==null&&(et=c(xt,et,gt),at===null?ot=xt:at.sibling=xt,at=xt);return I&&tg(tt,gt),ot}for(xt=a(tt,xt);gt<it.length;gt++)ut=_e(xt,tt,gt,it[gt],pt),ut!==null&&(e&&ut.alternate!==null&&xt.delete(ut.key===null?gt:ut.key),et=c(ut,et,gt),at===null?ot=ut:at.sibling=ut,at=ut);return e&&xt.forEach(function(vt){return i(tt,vt)}),I&&tg(tt,gt),ot}function nt(tt,et,it,pt){var ot=Ka(it);if(typeof ot!="function")throw Error(p(150));if(it=ot.call(it),it==null)throw Error(p(151));for(var at=ot=null,xt=et,gt=et=0,ut=null,Et=it.next();xt!==null&&!Et.done;gt++,Et=it.next()){xt.index>gt?(ut=xt,xt=null):ut=xt.sibling;var vt=$(tt,xt,Et.value,pt);if(vt===null){xt===null&&(xt=ut);break}e&&xt&&vt.alternate===null&&i(tt,xt),et=c(vt,et,gt),at===null?ot=vt:at.sibling=vt,at=vt,xt=ut}if(Et.done)return s(tt,xt),I&&tg(tt,gt),ot;if(xt===null){for(;!Et.done;gt++,Et=it.next())Et=j(tt,Et.value,pt),Et!==null&&(et=c(Et,et,gt),at===null?ot=Et:at.sibling=Et,at=Et);return I&&tg(tt,gt),ot}for(xt=a(tt,xt);!Et.done;gt++,Et=it.next())Et=_e(xt,tt,gt,Et.value,pt),Et!==null&&(e&&Et.alternate!==null&&xt.delete(Et.key===null?gt:Et.key),et=c(Et,et,gt),at===null?ot=Et:at.sibling=Et,at=Et);return e&&xt.forEach(function(_t){return i(tt,_t)}),I&&tg(tt,gt),ot}function st(tt,et,it,pt){if(typeof it=="object"&&it!==null&&it.type===ya&&it.key===null&&(it=it.props.children),typeof it=="object"&&it!==null){switch(it.$$typeof){case va:e:{for(var ot=it.key,at=et;at!==null;){if(at.key===ot){if(ot=it.type,ot===ya){if(at.tag===7){s(tt,at.sibling),et=o(at,it.props.children),et.return=tt,tt=et;break e}}else if(at.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===Ha&&Ng(ot)===at.type){s(tt,at.sibling),et=o(at,it.props),et.ref=Lg(tt,at,it),et.return=tt,tt=et;break e}s(tt,at);break}else i(tt,at);at=at.sibling}it.type===ya?(et=Tg(it.props.children,tt.mode,pt,it.key),et.return=tt,tt=et):(pt=Rg(it.type,it.key,it.props,null,tt.mode,pt),pt.ref=Lg(tt,et,it),pt.return=tt,tt=pt)}return d(tt);case wa:e:{for(at=it.key;et!==null;){if(et.key===at)if(et.tag===4&&et.stateNode.containerInfo===it.containerInfo&&et.stateNode.implementation===it.implementation){s(tt,et.sibling),et=o(et,it.children||[]),et.return=tt,tt=et;break e}else{s(tt,et);break}else i(tt,et);et=et.sibling}et=Sg(it,tt.mode,pt),et.return=tt,tt=et}return d(tt);case Ha:return at=it._init,st(tt,et,at(it._payload),pt)}if(eb(it))return rt(tt,et,it,pt);if(Ka(it))return nt(tt,et,it,pt);Mg(tt,it)}return typeof it=="string"&&it!==""||typeof it=="number"?(it=""+it,et!==null&&et.tag===6?(s(tt,et.sibling),et=o(et,it),et.return=tt,tt=et):(s(tt,et),et=Qg(it,tt.mode,pt),et.return=tt,tt=et),d(tt)):s(tt,et)}return st}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(e){var i=Wg.current;E(Wg),e._currentValue=i}function bh(e,i,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,a!==null&&(a.childLanes|=i)):a!==null&&(a.childLanes&i)!==i&&(a.childLanes|=i),e===s)break;e=e.return}}function ch(e,i){Xg=e,Zg=Yg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&i&&(dh=!0),e.firstContext=null)}function eh(e){var i=e._currentValue;if(Zg!==e)if(e={context:e,memoizedValue:i,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=e,Xg.dependencies={lanes:0,firstContext:e}}else Yg=Yg.next=e;return i}var fh=null;function gh(e){fh===null?fh=[e]:fh.push(e)}function hh(e,i,s,a){var o=i.interleaved;return o===null?(s.next=s,gh(i)):(s.next=o.next,o.next=s),i.interleaved=s,ih(e,a)}function ih(e,i){e.lanes|=i;var s=e.alternate;for(s!==null&&(s.lanes|=i),s=e,e=e.return;e!==null;)e.childLanes|=i,s=e.alternate,s!==null&&(s.childLanes|=i),s=e,e=e.return;return s.tag===3?s.stateNode:null}var jh=!1;function kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mh(e,i){return{eventTime:e,lane:i,tag:0,payload:null,callback:null,next:null}}function nh(e,i,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,K&2){var o=a.pending;return o===null?i.next=i:(i.next=o.next,o.next=i),a.pending=i,ih(e,s)}return o=a.interleaved,o===null?(i.next=i,gh(a)):(i.next=o.next,o.next=i),a.interleaved=i,ih(e,s)}function oh(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194240)!==0)){var a=i.lanes;a&=e.pendingLanes,s|=a,i.lanes=s,Cc(e,s)}}function ph(e,i){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var o=null,c=null;if(s=s.firstBaseUpdate,s!==null){do{var d={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};c===null?o=c=d:c=c.next=d,s=s.next}while(s!==null);c===null?o=c=i:c=c.next=i}else o=c=i;s={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}function qh(e,i,s,a){var o=e.updateQueue;jh=!1;var c=o.firstBaseUpdate,d=o.lastBaseUpdate,h=o.shared.pending;if(h!==null){o.shared.pending=null;var g=h,b=g.next;g.next=null,d===null?c=b:d.next=b,d=g;var _=e.alternate;_!==null&&(_=_.updateQueue,h=_.lastBaseUpdate,h!==d&&(h===null?_.firstBaseUpdate=b:h.next=b,_.lastBaseUpdate=g))}if(c!==null){var j=o.baseState;d=0,_=b=g=null,h=c;do{var $=h.lane,_e=h.eventTime;if((a&$)===$){_!==null&&(_=_.next={eventTime:_e,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var rt=e,nt=h;switch($=i,_e=s,nt.tag){case 1:if(rt=nt.payload,typeof rt=="function"){j=rt.call(_e,j,$);break e}j=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=nt.payload,$=typeof rt=="function"?rt.call(_e,j,$):rt,$==null)break e;j=A({},j,$);break e;case 2:jh=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,$=o.effects,$===null?o.effects=[h]:$.push(h))}else _e={eventTime:_e,lane:$,tag:h.tag,payload:h.payload,callback:h.callback,next:null},_===null?(b=_=_e,g=j):_=_.next=_e,d|=$;if(h=h.next,h===null){if(h=o.shared.pending,h===null)break;$=h,h=$.next,$.next=null,o.lastBaseUpdate=$,o.shared.pending=null}}while(1);if(_===null&&(g=j),o.baseState=g,o.firstBaseUpdate=b,o.lastBaseUpdate=_,i=o.shared.interleaved,i!==null){o=i;do d|=o.lane,o=o.next;while(o!==i)}else c===null&&(o.shared.lanes=0);rh|=d,e.lanes=d,e.memoizedState=j}}function sh(e,i,s){if(e=i.effects,i.effects=null,e!==null)for(i=0;i<e.length;i++){var a=e[i],o=a.callback;if(o!==null){if(a.callback=null,a=s,typeof o!="function")throw Error(p(191,o));o.call(a)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(e){if(e===th)throw Error(p(174));return e}function yh(e,i){switch(G(wh,i),G(vh$1,e),G(uh,th),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:lb(null,"");break;default:e=e===8?i.parentNode:i,i=e.namespaceURI||null,e=e.tagName,i=lb(i,e)}E(uh),G(uh,i)}function zh(){E(uh),E(vh$1),E(wh)}function Ah(e){xh(wh.current);var i=xh(uh.current),s=lb(i,e.type);i!==s&&(G(vh$1,e),G(uh,s))}function Bh(e){vh$1.current===e&&(E(uh),E(vh$1))}var L=Uf(0);function Ch(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Dh=[];function Eh(){for(var e=0;e<Dh.length;e++)Dh[e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!He(e[s],i[s]))return!1;return!0}function Nh(e,i,s,a,o,c){if(Hh=c,M=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Fh.current=e===null||e.memoizedState===null?Oh:Ph,e=s(a,o),Jh){c=0;do{if(Jh=!1,Kh=0,25<=c)throw Error(p(301));c+=1,O=N=null,i.updateQueue=null,Fh.current=Qh,e=s(a,o)}while(Jh)}if(Fh.current=Rh,i=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,i)throw Error(p(300));return e}function Sh(){var e=Kh!==0;return Kh=0,e}function Th(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=e:O=O.next=e,O}function Uh(){if(N===null){var e=M.alternate;e=e!==null?e.memoizedState:null}else e=N.next;var i=O===null?M.memoizedState:O.next;if(i!==null)O=i,N=e;else{if(e===null)throw Error(p(310));N=e,e={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=e:O=O.next=e}return O}function Vh(e,i){return typeof i=="function"?i(e):i}function Wh(e){var i=Uh(),s=i.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=e;var a=N,o=a.baseQueue,c=s.pending;if(c!==null){if(o!==null){var d=o.next;o.next=c.next,c.next=d}a.baseQueue=o=c,s.pending=null}if(o!==null){c=o.next,a=a.baseState;var h=d=null,g=null,b=c;do{var _=b.lane;if((Hh&_)===_)g!==null&&(g=g.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),a=b.hasEagerState?b.eagerState:e(a,b.action);else{var j={lane:_,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};g===null?(h=g=j,d=a):g=g.next=j,M.lanes|=_,rh|=_}b=b.next}while(b!==null&&b!==c);g===null?d=a:g.next=h,He(a,i.memoizedState)||(dh=!0),i.memoizedState=a,i.baseState=d,i.baseQueue=g,s.lastRenderedState=a}if(e=s.interleaved,e!==null){o=e;do c=o.lane,M.lanes|=c,rh|=c,o=o.next;while(o!==e)}else o===null&&(s.lanes=0);return[i.memoizedState,s.dispatch]}function Xh(e){var i=Uh(),s=i.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=e;var a=s.dispatch,o=s.pending,c=i.memoizedState;if(o!==null){s.pending=null;var d=o=o.next;do c=e(c,d.action),d=d.next;while(d!==o);He(c,i.memoizedState)||(dh=!0),i.memoizedState=c,i.baseQueue===null&&(i.baseState=c),s.lastRenderedState=c}return[c,a]}function Yh(){}function Zh(e,i){var s=M,a=Uh(),o=i(),c=!He(a.memoizedState,o);if(c&&(a.memoizedState=o,dh=!0),a=a.queue,$h(ai.bind(null,s,a,e),[e]),a.getSnapshot!==i||c||O!==null&&O.memoizedState.tag&1){if(s.flags|=2048,bi(9,ci.bind(null,s,a,o,i),void 0,null),Q===null)throw Error(p(349));Hh&30||di(s,i,o)}return o}function di(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=M.updateQueue,i===null?(i={lastEffect:null,stores:null},M.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function ci(e,i,s,a){i.value=s,i.getSnapshot=a,ei(i)&&fi(e)}function ai(e,i,s){return s(function(){ei(i)&&fi(e)})}function ei(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!He(e,s)}catch{return!0}}function fi(e){var i=ih(e,1);i!==null&&gi(i,e,1,-1)}function hi(e){var i=Th();return typeof e=="function"&&(e=e()),i.memoizedState=i.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:e},i.queue=e,e=e.dispatch=ii.bind(null,M,e),[i.memoizedState,e]}function bi(e,i,s,a){return e={tag:e,create:i,destroy:s,deps:a,next:null},i=M.updateQueue,i===null?(i={lastEffect:null,stores:null},M.updateQueue=i,i.lastEffect=e.next=e):(s=i.lastEffect,s===null?i.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,i.lastEffect=e)),e}function ji(){return Uh().memoizedState}function ki(e,i,s,a){var o=Th();M.flags|=e,o.memoizedState=bi(1|i,s,void 0,a===void 0?null:a)}function li(e,i,s,a){var o=Uh();a=a===void 0?null:a;var c=void 0;if(N!==null){var d=N.memoizedState;if(c=d.destroy,a!==null&&Mh(a,d.deps)){o.memoizedState=bi(i,s,c,a);return}}M.flags|=e,o.memoizedState=bi(1|i,s,c,a)}function mi(e,i){return ki(8390656,8,e,i)}function $h(e,i){return li(2048,8,e,i)}function ni(e,i){return li(4,2,e,i)}function oi(e,i){return li(4,4,e,i)}function pi(e,i){if(typeof i=="function")return e=e(),i(e),function(){i(null)};if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function qi(e,i,s){return s=s!=null?s.concat([e]):null,li(4,4,pi.bind(null,i,e),s)}function ri(){}function si(e,i){var s=Uh();i=i===void 0?null:i;var a=s.memoizedState;return a!==null&&i!==null&&Mh(i,a[1])?a[0]:(s.memoizedState=[e,i],e)}function ti(e,i){var s=Uh();i=i===void 0?null:i;var a=s.memoizedState;return a!==null&&i!==null&&Mh(i,a[1])?a[0]:(e=e(),s.memoizedState=[e,i],e)}function ui(e,i,s){return Hh&21?(He(s,i)||(s=yc(),M.lanes|=s,rh|=s,e.baseState=!0),i):(e.baseState&&(e.baseState=!1,dh=!0),e.memoizedState=s)}function vi(e,i){var s=C;C=s!==0&&4>s?s:4,e(!0);var a=Gh.transition;Gh.transition={};try{e(!1),i()}finally{C=s,Gh.transition=a}}function wi(){return Uh().memoizedState}function xi(e,i,s){var a=yi(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},zi(e))Ai(i,s);else if(s=hh(e,i,s,a),s!==null){var o=R();gi(s,e,a,o),Bi(s,i,a)}}function ii(e,i,s){var a=yi(e),o={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(zi(e))Ai(i,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=i.lastRenderedReducer,c!==null))try{var d=i.lastRenderedState,h=c(d,s);if(o.hasEagerState=!0,o.eagerState=h,He(h,d)){var g=i.interleaved;g===null?(o.next=o,gh(i)):(o.next=g.next,g.next=o),i.interleaved=o;return}}catch{}finally{}s=hh(e,i,o,a),s!==null&&(o=R(),gi(s,e,a,o),Bi(s,i,a))}}function zi(e){var i=e.alternate;return e===M||i!==null&&i===M}function Ai(e,i){Jh=Ih=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function Bi(e,i,s){if(s&4194240){var a=i.lanes;a&=e.pendingLanes,s|=a,i.lanes=s,Cc(e,s)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(e,i){return Th().memoizedState=[e,i===void 0?null:i],e},useContext:eh,useEffect:mi,useImperativeHandle:function(e,i,s){return s=s!=null?s.concat([e]):null,ki(4194308,4,pi.bind(null,i,e),s)},useLayoutEffect:function(e,i){return ki(4194308,4,e,i)},useInsertionEffect:function(e,i){return ki(4,2,e,i)},useMemo:function(e,i){var s=Th();return i=i===void 0?null:i,e=e(),s.memoizedState=[e,i],e},useReducer:function(e,i,s){var a=Th();return i=s!==void 0?s(i):i,a.memoizedState=a.baseState=i,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=xi.bind(null,M,e),[a.memoizedState,e]},useRef:function(e){var i=Th();return e={current:e},i.memoizedState=e},useState:hi,useDebugValue:ri,useDeferredValue:function(e){return Th().memoizedState=e},useTransition:function(){var e=hi(!1),i=e[0];return e=vi.bind(null,e[1]),Th().memoizedState=e,[i,e]},useMutableSource:function(){},useSyncExternalStore:function(e,i,s){var a=M,o=Th();if(I){if(s===void 0)throw Error(p(407));s=s()}else{if(s=i(),Q===null)throw Error(p(349));Hh&30||di(a,i,s)}o.memoizedState=s;var c={value:s,getSnapshot:i};return o.queue=c,mi(ai.bind(null,a,c,e),[e]),a.flags|=2048,bi(9,ci.bind(null,a,c,s,i),void 0,null),s},useId:function(){var e=Th(),i=Q.identifierPrefix;if(I){var s=sg,a=rg;s=(a&~(1<<32-oc(a)-1)).toString(32)+s,i=":"+i+"R"+s,s=Kh++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=Lh++,i=":"+i+"r"+s.toString(32)+":";return e.memoizedState=i},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var i=Uh();return ui(i,N.memoizedState,e)},useTransition:function(){var e=Wh(Vh)[0],i=Uh().memoizedState;return[e,i]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var i=Uh();return N===null?i.memoizedState=e:ui(i,N.memoizedState,e)},useTransition:function(){var e=Xh(Vh)[0],i=Uh().memoizedState;return[e,i]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(e,i){if(e&&e.defaultProps){i=A({},i),e=e.defaultProps;for(var s in e)i[s]===void 0&&(i[s]=e[s]);return i}return i}function Di(e,i,s,a){i=e.memoizedState,s=s(a,i),s=s==null?i:A({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ei={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,i,s){e=e._reactInternals;var a=R(),o=yi(e),c=mh(a,o);c.payload=i,s!=null&&(c.callback=s),i=nh(e,c,o),i!==null&&(gi(i,e,o,a),oh(i,e,o))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var a=R(),o=yi(e),c=mh(a,o);c.tag=1,c.payload=i,s!=null&&(c.callback=s),i=nh(e,c,o),i!==null&&(gi(i,e,o,a),oh(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=R(),a=yi(e),o=mh(s,a);o.tag=2,i!=null&&(o.callback=i),i=nh(e,o,a),i!==null&&(gi(i,e,a,s),oh(i,e,a))}};function Fi(e,i,s,a,o,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,d):i.prototype&&i.prototype.isPureReactComponent?!Ie(s,a)||!Ie(o,c):!0}function Gi(e,i,s){var a=!1,o=Vf,c=i.contextType;return typeof c=="object"&&c!==null?c=eh(c):(o=Zf(i)?Xf:H.current,a=i.contextTypes,c=(a=a!=null)?Yf(e,o):Vf),i=new i(s,c),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ei,e.stateNode=i,i._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=c),i}function Hi(e,i,s,a){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,a),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,a),i.state!==e&&Ei.enqueueReplaceState(i,i.state,null)}function Ii(e,i,s,a){var o=e.stateNode;o.props=s,o.state=e.memoizedState,o.refs={},kh(e);var c=i.contextType;typeof c=="object"&&c!==null?o.context=eh(c):(c=Zf(i)?Xf:H.current,o.context=Yf(e,c)),o.state=e.memoizedState,c=i.getDerivedStateFromProps,typeof c=="function"&&(Di(e,i,c,s),o.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(i=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),i!==o.state&&Ei.enqueueReplaceState(o,o.state,null),qh(e,s,o,a),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Ji(e,i){try{var s="",a=i;do s+=Pa(a),a=a.return;while(a);var o=s}catch(c){o=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:i,stack:o,digest:null}}function Ki(e,i,s){return{value:e,source:null,stack:s??null,digest:i??null}}function Li(e,i){try{console.error(i.value)}catch(s){setTimeout(function(){throw s})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(e,i,s){s=mh(-1,s),s.tag=3,s.payload={element:null};var a=i.value;return s.callback=function(){Oi||(Oi=!0,Pi=a),Li(e,i)},s}function Qi(e,i,s){s=mh(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var o=i.value;s.payload=function(){return a(o)},s.callback=function(){Li(e,i)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(s.callback=function(){Li(e,i),typeof a!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var d=i.stack;this.componentDidCatch(i.value,{componentStack:d!==null?d:""})}),s}function Si(e,i,s){var a=e.pingCache;if(a===null){a=e.pingCache=new Mi;var o=new Set;a.set(i,o)}else o=a.get(i),o===void 0&&(o=new Set,a.set(i,o));o.has(s)||(o.add(s),e=Ti.bind(null,e,i,s),i.then(e,e))}function Ui(e){do{var i;if((i=e.tag===13)&&(i=e.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return e;e=e.return}while(e!==null);return null}function Vi(e,i,s,a,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===i?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(i=mh(-1,1),i.tag=2,nh(s,i,1))),s.lanes|=1),e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(e,i,s,a){i.child=e===null?Vg(i,null,s,a):Ug(i,e.child,s,a)}function Yi(e,i,s,a,o){s=s.render;var c=i.ref;return ch(i,o),a=Nh(e,i,s,a,c,o),s=Sh(),e!==null&&!dh?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o,Zi(e,i,o)):(I&&s&&vg(i),i.flags|=1,Xi(e,i,a,o),i.child)}function $i(e,i,s,a,o){if(e===null){var c=s.type;return typeof c=="function"&&!aj(c)&&c.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(i.tag=15,i.type=c,bj(e,i,c,a,o)):(e=Rg(s.type,null,a,i,i.mode,o),e.ref=i.ref,e.return=i,i.child=e)}if(c=e.child,!(e.lanes&o)){var d=c.memoizedProps;if(s=s.compare,s=s!==null?s:Ie,s(d,a)&&e.ref===i.ref)return Zi(e,i,o)}return i.flags|=1,e=Pg(c,a),e.ref=i.ref,e.return=i,i.child=e}function bj(e,i,s,a,o){if(e!==null){var c=e.memoizedProps;if(Ie(c,a)&&e.ref===i.ref)if(dh=!1,i.pendingProps=a=c,(e.lanes&o)!==0)e.flags&131072&&(dh=!0);else return i.lanes=e.lanes,Zi(e,i,o)}return cj(e,i,s,a,o)}function dj(e,i,s){var a=i.pendingProps,o=a.children,c=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=s;else{if(!(s&1073741824))return e=c!==null?c.baseLanes|s:s,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:e,cachePool:null,transitions:null},i.updateQueue=null,G(ej,fj),fj|=e,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=c!==null?c.baseLanes:s,G(ej,fj),fj|=a}else c!==null?(a=c.baseLanes|s,i.memoizedState=null):a=s,G(ej,fj),fj|=a;return Xi(e,i,o,s),i.child}function gj(e,i){var s=i.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(i.flags|=512,i.flags|=2097152)}function cj(e,i,s,a,o){var c=Zf(s)?Xf:H.current;return c=Yf(i,c),ch(i,o),s=Nh(e,i,s,a,c,o),a=Sh(),e!==null&&!dh?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o,Zi(e,i,o)):(I&&a&&vg(i),i.flags|=1,Xi(e,i,s,o),i.child)}function hj(e,i,s,a,o){if(Zf(s)){var c=!0;cg(i)}else c=!1;if(ch(i,o),i.stateNode===null)ij(e,i),Gi(i,s,a),Ii(i,s,a,o),a=!0;else if(e===null){var d=i.stateNode,h=i.memoizedProps;d.props=h;var g=d.context,b=s.contextType;typeof b=="object"&&b!==null?b=eh(b):(b=Zf(s)?Xf:H.current,b=Yf(i,b));var _=s.getDerivedStateFromProps,j=typeof _=="function"||typeof d.getSnapshotBeforeUpdate=="function";j||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==a||g!==b)&&Hi(i,d,a,b),jh=!1;var $=i.memoizedState;d.state=$,qh(i,a,d,o),g=i.memoizedState,h!==a||$!==g||Wf.current||jh?(typeof _=="function"&&(Di(i,s,_,a),g=i.memoizedState),(h=jh||Fi(i,s,h,a,$,g,b))?(j||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=a,i.memoizedState=g),d.props=a,d.state=g,d.context=b,a=h):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),a=!1)}else{d=i.stateNode,lh(e,i),h=i.memoizedProps,b=i.type===i.elementType?h:Ci(i.type,h),d.props=b,j=i.pendingProps,$=d.context,g=s.contextType,typeof g=="object"&&g!==null?g=eh(g):(g=Zf(s)?Xf:H.current,g=Yf(i,g));var _e=s.getDerivedStateFromProps;(_=typeof _e=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==j||$!==g)&&Hi(i,d,a,g),jh=!1,$=i.memoizedState,d.state=$,qh(i,a,d,o);var rt=i.memoizedState;h!==j||$!==rt||Wf.current||jh?(typeof _e=="function"&&(Di(i,s,_e,a),rt=i.memoizedState),(b=jh||Fi(i,s,b,a,$,rt,g)||!1)?(_||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(a,rt,g),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(a,rt,g)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||h===e.memoizedProps&&$===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&$===e.memoizedState||(i.flags|=1024),i.memoizedProps=a,i.memoizedState=rt),d.props=a,d.state=rt,d.context=g,a=b):(typeof d.componentDidUpdate!="function"||h===e.memoizedProps&&$===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&$===e.memoizedState||(i.flags|=1024),a=!1)}return jj(e,i,s,a,c,o)}function jj(e,i,s,a,o,c){gj(e,i);var d=(i.flags&128)!==0;if(!a&&!d)return o&&dg(i,s,!1),Zi(e,i,c);a=i.stateNode,Wi.current=i;var h=d&&typeof s.getDerivedStateFromError!="function"?null:a.render();return i.flags|=1,e!==null&&d?(i.child=Ug(i,e.child,null,c),i.child=Ug(i,null,h,c)):Xi(e,i,h,c),i.memoizedState=a.state,o&&dg(i,s,!0),i.child}function kj(e){var i=e.stateNode;i.pendingContext?ag(e,i.pendingContext,i.pendingContext!==i.context):i.context&&ag(e,i.context,!1),yh(e,i.containerInfo)}function lj(e,i,s,a,o){return Ig(),Jg(o),i.flags|=256,Xi(e,i,s,a),i.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(e){return{baseLanes:e,cachePool:null,transitions:null}}function oj(e,i,s){var a=i.pendingProps,o=L.current,c=!1,d=(i.flags&128)!==0,h;if((h=d)||(h=e!==null&&e.memoizedState===null?!1:(o&2)!==0),h?(c=!0,i.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),G(L,o&1),e===null)return Eg(i),e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(i.mode&1?e.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(d=a.children,e=a.fallback,c?(a=i.mode,c=i.child,d={mode:"hidden",children:d},!(a&1)&&c!==null?(c.childLanes=0,c.pendingProps=d):c=pj(d,a,0,null),e=Tg(e,a,s,null),c.return=i,e.return=i,c.sibling=e,i.child=c,i.child.memoizedState=nj(s),i.memoizedState=mj,e):qj(i,d));if(o=e.memoizedState,o!==null&&(h=o.dehydrated,h!==null))return rj(e,i,d,a,h,o,s);if(c){c=a.fallback,d=i.mode,o=e.child,h=o.sibling;var g={mode:"hidden",children:a.children};return!(d&1)&&i.child!==o?(a=i.child,a.childLanes=0,a.pendingProps=g,i.deletions=null):(a=Pg(o,g),a.subtreeFlags=o.subtreeFlags&14680064),h!==null?c=Pg(h,c):(c=Tg(c,d,s,null),c.flags|=2),c.return=i,a.return=i,a.sibling=c,i.child=a,a=c,c=i.child,d=e.child.memoizedState,d=d===null?nj(s):{baseLanes:d.baseLanes|s,cachePool:null,transitions:d.transitions},c.memoizedState=d,c.childLanes=e.childLanes&~s,i.memoizedState=mj,a}return c=e.child,e=c.sibling,a=Pg(c,{mode:"visible",children:a.children}),!(i.mode&1)&&(a.lanes=s),a.return=i,a.sibling=null,e!==null&&(s=i.deletions,s===null?(i.deletions=[e],i.flags|=16):s.push(e)),i.child=a,i.memoizedState=null,a}function qj(e,i){return i=pj({mode:"visible",children:i},e.mode,0,null),i.return=e,e.child=i}function sj(e,i,s,a){return a!==null&&Jg(a),Ug(i,e.child,null,s),e=qj(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function rj(e,i,s,a,o,c,d){if(s)return i.flags&256?(i.flags&=-257,a=Ki(Error(p(422))),sj(e,i,d,a)):i.memoizedState!==null?(i.child=e.child,i.flags|=128,null):(c=a.fallback,o=i.mode,a=pj({mode:"visible",children:a.children},o,0,null),c=Tg(c,o,d,null),c.flags|=2,a.return=i,c.return=i,a.sibling=c,i.child=a,i.mode&1&&Ug(i,e.child,null,d),i.child.memoizedState=nj(d),i.memoizedState=mj,c);if(!(i.mode&1))return sj(e,i,d,null);if(o.data==="$!"){if(a=o.nextSibling&&o.nextSibling.dataset,a)var h=a.dgst;return a=h,c=Error(p(419)),a=Ki(c,a,void 0),sj(e,i,d,a)}if(h=(d&e.childLanes)!==0,dh||h){if(a=Q,a!==null){switch(d&-d){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(a.suspendedLanes|d)?0:o,o!==0&&o!==c.retryLane&&(c.retryLane=o,ih(e,o),gi(a,e,o,-1))}return tj(),a=Ki(Error(p(421))),sj(e,i,d,a)}return o.data==="$?"?(i.flags|=128,i.child=e.child,i=uj.bind(null,e),o._reactRetry=i,null):(e=c.treeContext,yg=Lf(o.nextSibling),xg=i,I=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=i),i=qj(i,a.children),i.flags|=4096,i)}function vj(e,i,s){e.lanes|=i;var a=e.alternate;a!==null&&(a.lanes|=i),bh(e.return,i,s)}function wj(e,i,s,a,o){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:o}:(c.isBackwards=i,c.rendering=null,c.renderingStartTime=0,c.last=a,c.tail=s,c.tailMode=o)}function xj(e,i,s){var a=i.pendingProps,o=a.revealOrder,c=a.tail;if(Xi(e,i,a.children,s),a=L.current,a&2)a=a&1|2,i.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vj(e,s,i);else if(e.tag===19)vj(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(G(L,a),!(i.mode&1))i.memoizedState=null;else switch(o){case"forwards":for(s=i.child,o=null;s!==null;)e=s.alternate,e!==null&&Ch(e)===null&&(o=s),s=s.sibling;s=o,s===null?(o=i.child,i.child=null):(o=s.sibling,s.sibling=null),wj(i,!1,o,s,c);break;case"backwards":for(s=null,o=i.child,i.child=null;o!==null;){if(e=o.alternate,e!==null&&Ch(e)===null){i.child=o;break}e=o.sibling,o.sibling=s,s=o,o=e}wj(i,!0,s,null,c);break;case"together":wj(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ij(e,i){!(i.mode&1)&&e!==null&&(e.alternate=null,i.alternate=null,i.flags|=2)}function Zi(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),rh|=i.lanes,!(s&i.childLanes))return null;if(e!==null&&i.child!==e.child)throw Error(p(153));if(i.child!==null){for(e=i.child,s=Pg(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=Pg(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function yj(e,i,s){switch(i.tag){case 3:kj(i),Ig();break;case 5:Ah(i);break;case 1:Zf(i.type)&&cg(i);break;case 4:yh(i,i.stateNode.containerInfo);break;case 10:var a=i.type._context,o=i.memoizedProps.value;G(Wg,a._currentValue),a._currentValue=o;break;case 13:if(a=i.memoizedState,a!==null)return a.dehydrated!==null?(G(L,L.current&1),i.flags|=128,null):s&i.child.childLanes?oj(e,i,s):(G(L,L.current&1),e=Zi(e,i,s),e!==null?e.sibling:null);G(L,L.current&1);break;case 19:if(a=(s&i.childLanes)!==0,e.flags&128){if(a)return xj(e,i,s);i.flags|=128}if(o=i.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),G(L,L.current),a)break;return null;case 22:case 23:return i.lanes=0,dj(e,i,s)}return Zi(e,i,s)}var zj,Aj,Bj,Cj;zj=function(e,i){for(var s=i.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Aj=function(){};Bj=function(e,i,s,a){var o=e.memoizedProps;if(o!==a){e=i.stateNode,xh(uh.current);var c=null;switch(s){case"input":o=Ya(e,o),a=Ya(e,a),c=[];break;case"select":o=A({},o,{value:void 0}),a=A({},a,{value:void 0}),c=[];break;case"textarea":o=gb(e,o),a=gb(e,a),c=[];break;default:typeof o.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Bf)}ub(s,a);var d;s=null;for(b in o)if(!a.hasOwnProperty(b)&&o.hasOwnProperty(b)&&o[b]!=null)if(b==="style"){var h=o[b];for(d in h)h.hasOwnProperty(d)&&(s||(s={}),s[d]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(ea.hasOwnProperty(b)?c||(c=[]):(c=c||[]).push(b,null));for(b in a){var g=a[b];if(h=o!=null?o[b]:void 0,a.hasOwnProperty(b)&&g!==h&&(g!=null||h!=null))if(b==="style")if(h){for(d in h)!h.hasOwnProperty(d)||g&&g.hasOwnProperty(d)||(s||(s={}),s[d]="");for(d in g)g.hasOwnProperty(d)&&h[d]!==g[d]&&(s||(s={}),s[d]=g[d])}else s||(c||(c=[]),c.push(b,s)),s=g;else b==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,h=h?h.__html:void 0,g!=null&&h!==g&&(c=c||[]).push(b,g)):b==="children"?typeof g!="string"&&typeof g!="number"||(c=c||[]).push(b,""+g):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(ea.hasOwnProperty(b)?(g!=null&&b==="onScroll"&&D("scroll",e),c||h===g||(c=[])):(c=c||[]).push(b,g))}s&&(c=c||[]).push("style",s);var b=c;(i.updateQueue=b)&&(i.flags|=4)}};Cj=function(e,i,s,a){s!==a&&(i.flags|=4)};function Dj(e,i){if(!I)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function S(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(i)for(var o=e.child;o!==null;)s|=o.lanes|o.childLanes,a|=o.subtreeFlags&14680064,a|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)s|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=a,e.childLanes=s,i}function Ej(e,i,s){var a=i.pendingProps;switch(wg(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(i),null;case 1:return Zf(i.type)&&$f(),S(i),null;case 3:return a=i.stateNode,zh(),E(Wf),E(H),Eh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Gg(i)?i.flags|=4:e===null||e.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(e,i),S(i),null;case 5:Bh(i);var o=xh(wh.current);if(s=i.type,e!==null&&i.stateNode!=null)Bj(e,i,s,a,o),e.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!a){if(i.stateNode===null)throw Error(p(166));return S(i),null}if(e=xh(uh.current),Gg(i)){a=i.stateNode,s=i.type;var c=i.memoizedProps;switch(a[Of]=i,a[Pf]=c,e=(i.mode&1)!==0,s){case"dialog":D("cancel",a),D("close",a);break;case"iframe":case"object":case"embed":D("load",a);break;case"video":case"audio":for(o=0;o<lf.length;o++)D(lf[o],a);break;case"source":D("error",a);break;case"img":case"image":case"link":D("error",a),D("load",a);break;case"details":D("toggle",a);break;case"input":Za(a,c),D("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!c.multiple},D("invalid",a);break;case"textarea":hb(a,c),D("invalid",a)}ub(s,c),o=null;for(var d in c)if(c.hasOwnProperty(d)){var h=c[d];d==="children"?typeof h=="string"?a.textContent!==h&&(c.suppressHydrationWarning!==!0&&Af(a.textContent,h,e),o=["children",h]):typeof h=="number"&&a.textContent!==""+h&&(c.suppressHydrationWarning!==!0&&Af(a.textContent,h,e),o=["children",""+h]):ea.hasOwnProperty(d)&&h!=null&&d==="onScroll"&&D("scroll",a)}switch(s){case"input":Va(a),db$1(a,c,!0);break;case"textarea":Va(a),jb(a);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(a.onclick=Bf)}a=o,i.updateQueue=a,a!==null&&(i.flags|=4)}else{d=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=d.createElement(s,{is:a.is}):(e=d.createElement(s),s==="select"&&(d=e,a.multiple?d.multiple=!0:a.size&&(d.size=a.size))):e=d.createElementNS(e,s),e[Of]=i,e[Pf]=a,zj(e,i,!1,!1),i.stateNode=e;e:{switch(d=vb(s,a),s){case"dialog":D("cancel",e),D("close",e),o=a;break;case"iframe":case"object":case"embed":D("load",e),o=a;break;case"video":case"audio":for(o=0;o<lf.length;o++)D(lf[o],e);o=a;break;case"source":D("error",e),o=a;break;case"img":case"image":case"link":D("error",e),D("load",e),o=a;break;case"details":D("toggle",e),o=a;break;case"input":Za(e,a),o=Ya(e,a),D("invalid",e);break;case"option":o=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},o=A({},a,{value:void 0}),D("invalid",e);break;case"textarea":hb(e,a),o=gb(e,a),D("invalid",e);break;default:o=a}ub(s,o),h=o;for(c in h)if(h.hasOwnProperty(c)){var g=h[c];c==="style"?sb(e,g):c==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&nb(e,g)):c==="children"?typeof g=="string"?(s!=="textarea"||g!=="")&&ob(e,g):typeof g=="number"&&ob(e,""+g):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ea.hasOwnProperty(c)?g!=null&&c==="onScroll"&&D("scroll",e):g!=null&&ta(e,c,g,d))}switch(s){case"input":Va(e),db$1(e,a,!1);break;case"textarea":Va(e),jb(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Sa(a.value));break;case"select":e.multiple=!!a.multiple,c=a.value,c!=null?fb(e,!!a.multiple,c,!1):a.defaultValue!=null&&fb(e,!!a.multiple,a.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return S(i),null;case 6:if(e&&i.stateNode!=null)Cj(e,i,e.memoizedProps,a);else{if(typeof a!="string"&&i.stateNode===null)throw Error(p(166));if(s=xh(wh.current),xh(uh.current),Gg(i)){if(a=i.stateNode,s=i.memoizedProps,a[Of]=i,(c=a.nodeValue!==s)&&(e=xg,e!==null))switch(e.tag){case 3:Af(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(a.nodeValue,s,(e.mode&1)!==0)}c&&(i.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Of]=i,i.stateNode=a}return S(i),null;case 13:if(E(L),a=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I&&yg!==null&&i.mode&1&&!(i.flags&128))Hg(),Ig(),i.flags|=98560,c=!1;else if(c=Gg(i),a!==null&&a.dehydrated!==null){if(e===null){if(!c)throw Error(p(318));if(c=i.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(p(317));c[Of]=i}else Ig(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;S(i),c=!1}else zg!==null&&(Fj(zg),zg=null),c=!0;if(!c)return i.flags&65536?i:null}return i.flags&128?(i.lanes=s,i):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(i.child.flags|=8192,i.mode&1&&(e===null||L.current&1?T===0&&(T=3):tj())),i.updateQueue!==null&&(i.flags|=4),S(i),null);case 4:return zh(),Aj(e,i),e===null&&sf(i.stateNode.containerInfo),S(i),null;case 10:return ah(i.type._context),S(i),null;case 17:return Zf(i.type)&&$f(),S(i),null;case 19:if(E(L),c=i.memoizedState,c===null)return S(i),null;if(a=(i.flags&128)!==0,d=c.rendering,d===null)if(a)Dj(c,!1);else{if(T!==0||e!==null&&e.flags&128)for(e=i.child;e!==null;){if(d=Ch(e),d!==null){for(i.flags|=128,Dj(c,!1),a=d.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),i.subtreeFlags=0,a=s,s=i.child;s!==null;)c=s,e=a,c.flags&=14680066,d=c.alternate,d===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=d.childLanes,c.lanes=d.lanes,c.child=d.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=d.memoizedProps,c.memoizedState=d.memoizedState,c.updateQueue=d.updateQueue,c.type=d.type,e=d.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return G(L,L.current&1|2),i.child}e=e.sibling}c.tail!==null&&B()>Gj&&(i.flags|=128,a=!0,Dj(c,!1),i.lanes=4194304)}else{if(!a)if(e=Ch(d),e!==null){if(i.flags|=128,a=!0,s=e.updateQueue,s!==null&&(i.updateQueue=s,i.flags|=4),Dj(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!I)return S(i),null}else 2*B()-c.renderingStartTime>Gj&&s!==1073741824&&(i.flags|=128,a=!0,Dj(c,!1),i.lanes=4194304);c.isBackwards?(d.sibling=i.child,i.child=d):(s=c.last,s!==null?s.sibling=d:i.child=d,c.last=d)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=B(),i.sibling=null,s=L.current,G(L,a?s&1|2:s&1),i):(S(i),null);case 22:case 23:return Hj(),a=i.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(i.flags|=8192),a&&i.mode&1?fj&1073741824&&(S(i),i.subtreeFlags&6&&(i.flags|=8192)):S(i),null;case 24:return null;case 25:return null}throw Error(p(156,i.tag))}function Ij(e,i){switch(wg(i),i.tag){case 1:return Zf(i.type)&&$f(),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return zh(),E(Wf),E(H),Eh(),e=i.flags,e&65536&&!(e&128)?(i.flags=e&-65537|128,i):null;case 5:return Bh(i),null;case 13:if(E(L),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(p(340));Ig()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(i.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(e,i){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){W(e,i,a)}else s.current=null}function Mj(e,i,s){try{s()}catch(a){W(e,i,a)}}var Nj=!1;function Oj(e,i){if(Cf=dd,e=Me(),Ne(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var o=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{s.nodeType,c.nodeType}catch{s=null;break e}var d=0,h=-1,g=-1,b=0,_=0,j=e,$=null;t:for(;;){for(var _e;j!==s||o!==0&&j.nodeType!==3||(h=d+o),j!==c||a!==0&&j.nodeType!==3||(g=d+a),j.nodeType===3&&(d+=j.nodeValue.length),(_e=j.firstChild)!==null;)$=j,j=_e;for(;;){if(j===e)break t;if($===s&&++b===o&&(h=d),$===c&&++_===a&&(g=d),(_e=j.nextSibling)!==null)break;j=$,$=j.parentNode}j=_e}s=h===-1||g===-1?null:{start:h,end:g}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:e,selectionRange:s},dd=!1,V=i;V!==null;)if(i=V,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,V=e;else for(;V!==null;){i=V;try{var rt=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(rt!==null){var nt=rt.memoizedProps,st=rt.memoizedState,tt=i.stateNode,et=tt.getSnapshotBeforeUpdate(i.elementType===i.type?nt:Ci(i.type,nt),st);tt.__reactInternalSnapshotBeforeUpdate=et}break;case 3:var it=i.stateNode.containerInfo;it.nodeType===1?it.textContent="":it.nodeType===9&&it.documentElement&&it.removeChild(it.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(pt){W(i,i.return,pt)}if(e=i.sibling,e!==null){e.return=i.return,V=e;break}V=i.return}return rt=Nj,Nj=!1,rt}function Pj(e,i,s){var a=i.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var o=a=a.next;do{if((o.tag&e)===e){var c=o.destroy;o.destroy=void 0,c!==void 0&&Mj(i,s,c)}o=o.next}while(o!==a)}}function Qj(e,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==i)}}function Rj(e){var i=e.ref;if(i!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof i=="function"?i(e):i.current=e}}function Sj(e){var i=e.alternate;i!==null&&(e.alternate=null,Sj(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&(delete i[Of],delete i[Pf],delete i[of],delete i[Qf],delete i[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tj(e){return e.tag===5||e.tag===3||e.tag===4}function Uj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vj(e,i,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(e,i):s.insertBefore(e,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(e,s)):(i=s,i.appendChild(e)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Bf));else if(a!==4&&(e=e.child,e!==null))for(Vj(e,i,s),e=e.sibling;e!==null;)Vj(e,i,s),e=e.sibling}function Wj(e,i,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Wj(e,i,s),e=e.sibling;e!==null;)Wj(e,i,s),e=e.sibling}var X$1=null,Xj=!1;function Yj(e,i,s){for(s=s.child;s!==null;)Zj(e,i,s),s=s.sibling}function Zj(e,i,s){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,s)}catch{}switch(s.tag){case 5:U||Lj(s,i);case 6:var a=X$1,o=Xj;X$1=null,Yj(e,i,s),X$1=a,Xj=o,X$1!==null&&(Xj?(e=X$1,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):X$1.removeChild(s.stateNode));break;case 18:X$1!==null&&(Xj?(e=X$1,s=s.stateNode,e.nodeType===8?Kf(e.parentNode,s):e.nodeType===1&&Kf(e,s),bd(e)):Kf(X$1,s.stateNode));break;case 4:a=X$1,o=Xj,X$1=s.stateNode.containerInfo,Xj=!0,Yj(e,i,s),X$1=a,Xj=o;break;case 0:case 11:case 14:case 15:if(!U&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){o=a=a.next;do{var c=o,d=c.destroy;c=c.tag,d!==void 0&&(c&2||c&4)&&Mj(s,i,d),o=o.next}while(o!==a)}Yj(e,i,s);break;case 1:if(!U&&(Lj(s,i),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(h){W(s,i,h)}Yj(e,i,s);break;case 21:Yj(e,i,s);break;case 22:s.mode&1?(U=(a=U)||s.memoizedState!==null,Yj(e,i,s),U=a):Yj(e,i,s);break;default:Yj(e,i,s)}}function ak(e){var i=e.updateQueue;if(i!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Kj),i.forEach(function(a){var o=bk.bind(null,e,a);s.has(a)||(s.add(a),a.then(o,o))})}}function ck(e,i){var s=i.deletions;if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];try{var c=e,d=i,h=d;e:for(;h!==null;){switch(h.tag){case 5:X$1=h.stateNode,Xj=!1;break e;case 3:X$1=h.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=h.stateNode.containerInfo,Xj=!0;break e}h=h.return}if(X$1===null)throw Error(p(160));Zj(c,d,o),X$1=null,Xj=!1;var g=o.alternate;g!==null&&(g.return=null),o.return=null}catch(b){W(o,i,b)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)dk(i,e),i=i.sibling}function dk(e,i){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ck(i,e),ek(e),a&4){try{Pj(3,e,e.return),Qj(3,e)}catch(nt){W(e,e.return,nt)}try{Pj(5,e,e.return)}catch(nt){W(e,e.return,nt)}}break;case 1:ck(i,e),ek(e),a&512&&s!==null&&Lj(s,s.return);break;case 5:if(ck(i,e),ek(e),a&512&&s!==null&&Lj(s,s.return),e.flags&32){var o=e.stateNode;try{ob(o,"")}catch(nt){W(e,e.return,nt)}}if(a&4&&(o=e.stateNode,o!=null)){var c=e.memoizedProps,d=s!==null?s.memoizedProps:c,h=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{h==="input"&&c.type==="radio"&&c.name!=null&&ab(o,c),vb(h,d);var b=vb(h,c);for(d=0;d<g.length;d+=2){var _=g[d],j=g[d+1];_==="style"?sb(o,j):_==="dangerouslySetInnerHTML"?nb(o,j):_==="children"?ob(o,j):ta(o,_,j,b)}switch(h){case"input":bb(o,c);break;case"textarea":ib(o,c);break;case"select":var $=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!c.multiple;var _e=c.value;_e!=null?fb(o,!!c.multiple,_e,!1):$!==!!c.multiple&&(c.defaultValue!=null?fb(o,!!c.multiple,c.defaultValue,!0):fb(o,!!c.multiple,c.multiple?[]:"",!1))}o[Pf]=c}catch(nt){W(e,e.return,nt)}}break;case 6:if(ck(i,e),ek(e),a&4){if(e.stateNode===null)throw Error(p(162));o=e.stateNode,c=e.memoizedProps;try{o.nodeValue=c}catch(nt){W(e,e.return,nt)}}break;case 3:if(ck(i,e),ek(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{bd(i.containerInfo)}catch(nt){W(e,e.return,nt)}break;case 4:ck(i,e),ek(e);break;case 13:ck(i,e),ek(e),o=e.child,o.flags&8192&&(c=o.memoizedState!==null,o.stateNode.isHidden=c,!c||o.alternate!==null&&o.alternate.memoizedState!==null||(fk=B())),a&4&&ak(e);break;case 22:if(_=s!==null&&s.memoizedState!==null,e.mode&1?(U=(b=U)||_,ck(i,e),U=b):ck(i,e),ek(e),a&8192){if(b=e.memoizedState!==null,(e.stateNode.isHidden=b)&&!_&&e.mode&1)for(V=e,_=e.child;_!==null;){for(j=V=_;V!==null;){switch($=V,_e=$.child,$.tag){case 0:case 11:case 14:case 15:Pj(4,$,$.return);break;case 1:Lj($,$.return);var rt=$.stateNode;if(typeof rt.componentWillUnmount=="function"){a=$,s=$.return;try{i=a,rt.props=i.memoizedProps,rt.state=i.memoizedState,rt.componentWillUnmount()}catch(nt){W(a,s,nt)}}break;case 5:Lj($,$.return);break;case 22:if($.memoizedState!==null){gk(j);continue}}_e!==null?(_e.return=$,V=_e):gk(j)}_=_.sibling}e:for(_=null,j=e;;){if(j.tag===5){if(_===null){_=j;try{o=j.stateNode,b?(c=o.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(h=j.stateNode,g=j.memoizedProps.style,d=g!=null&&g.hasOwnProperty("display")?g.display:null,h.style.display=rb("display",d))}catch(nt){W(e,e.return,nt)}}}else if(j.tag===6){if(_===null)try{j.stateNode.nodeValue=b?"":j.memoizedProps}catch(nt){W(e,e.return,nt)}}else if((j.tag!==22&&j.tag!==23||j.memoizedState===null||j===e)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===e)break e;for(;j.sibling===null;){if(j.return===null||j.return===e)break e;_===j&&(_=null),j=j.return}_===j&&(_=null),j.sibling.return=j.return,j=j.sibling}}break;case 19:ck(i,e),ek(e),a&4&&ak(e);break;case 21:break;default:ck(i,e),ek(e)}}function ek(e){var i=e.flags;if(i&2){try{e:{for(var s=e.return;s!==null;){if(Tj(s)){var a=s;break e}s=s.return}throw Error(p(160))}switch(a.tag){case 5:var o=a.stateNode;a.flags&32&&(ob(o,""),a.flags&=-33);var c=Uj(e);Wj(e,c,o);break;case 3:case 4:var d=a.stateNode.containerInfo,h=Uj(e);Vj(e,h,d);break;default:throw Error(p(161))}}catch(g){W(e,e.return,g)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function hk(e,i,s){V=e,ik(e)}function ik(e,i,s){for(var a=(e.mode&1)!==0;V!==null;){var o=V,c=o.child;if(o.tag===22&&a){var d=o.memoizedState!==null||Jj;if(!d){var h=o.alternate,g=h!==null&&h.memoizedState!==null||U;h=Jj;var b=U;if(Jj=d,(U=g)&&!b)for(V=o;V!==null;)d=V,g=d.child,d.tag===22&&d.memoizedState!==null?jk(o):g!==null?(g.return=d,V=g):jk(o);for(;c!==null;)V=c,ik(c),c=c.sibling;V=o,Jj=h,U=b}kk(e)}else o.subtreeFlags&8772&&c!==null?(c.return=o,V=c):kk(e)}}function kk(e){for(;V!==null;){var i=V;if(i.flags&8772){var s=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:U||Qj(5,i);break;case 1:var a=i.stateNode;if(i.flags&4&&!U)if(s===null)a.componentDidMount();else{var o=i.elementType===i.type?s.memoizedProps:Ci(i.type,s.memoizedProps);a.componentDidUpdate(o,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var c=i.updateQueue;c!==null&&sh(i,c,a);break;case 3:var d=i.updateQueue;if(d!==null){if(s=null,i.child!==null)switch(i.child.tag){case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}sh(i,d,s)}break;case 5:var h=i.stateNode;if(s===null&&i.flags&4){s=h;var g=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&s.focus();break;case"img":g.src&&(s.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var b=i.alternate;if(b!==null){var _=b.memoizedState;if(_!==null){var j=_.dehydrated;j!==null&&bd(j)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||i.flags&512&&Rj(i)}catch($){W(i,i.return,$)}}if(i===e){V=null;break}if(s=i.sibling,s!==null){s.return=i.return,V=s;break}V=i.return}}function gk(e){for(;V!==null;){var i=V;if(i===e){V=null;break}var s=i.sibling;if(s!==null){s.return=i.return,V=s;break}V=i.return}}function jk(e){for(;V!==null;){var i=V;try{switch(i.tag){case 0:case 11:case 15:var s=i.return;try{Qj(4,i)}catch(g){W(i,s,g)}break;case 1:var a=i.stateNode;if(typeof a.componentDidMount=="function"){var o=i.return;try{a.componentDidMount()}catch(g){W(i,o,g)}}var c=i.return;try{Rj(i)}catch(g){W(i,c,g)}break;case 5:var d=i.return;try{Rj(i)}catch(g){W(i,d,g)}}}catch(g){W(i,i.return,g)}if(i===e){V=null;break}var h=i.sibling;if(h!==null){h.return=i.return,V=h;break}V=i.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok$2=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(e){return e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(e=C,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function gi(e,i,s,a){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(e,s,a),(!(K&2)||e!==Q)&&(e===Q&&(!(K&2)&&(qk|=s),T===4&&Ck(e,Z)),Dk(e,a),s===1&&K===0&&!(i.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(e,i){var s=e.callbackNode;wc(e,i);var a=uc(e,e===Q?Z:0);if(a===0)s!==null&&bc(s),e.callbackNode=null,e.callbackPriority=0;else if(i=a&-a,e.callbackPriority!==i){if(s!=null&&bc(s),i===1)e.tag===0?ig(Ek.bind(null,e)):hg(Ek.bind(null,e)),Jf(function(){!(K&6)&&jg()}),s=null;else{switch(Dc(a)){case 1:s=fc;break;case 4:s=gc;break;case 16:s=hc;break;case 536870912:s=jc;break;default:s=hc}s=Fk(s,Gk.bind(null,e))}e.callbackPriority=i,e.callbackNode=s}}function Gk(e,i){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var s=e.callbackNode;if(Hk()&&e.callbackNode!==s)return null;var a=uc(e,e===Q?Z:0);if(a===0)return null;if(a&30||a&e.expiredLanes||i)i=Ik(e,a);else{i=a;var o=K;K|=2;var c=Jk();(Q!==e||Z!==i)&&(uk=null,Gj=B()+500,Kk(e,i));do try{Lk();break}catch(h){Mk(e,h)}while(1);$g(),mk.current=c,K=o,Y!==null?i=0:(Q=null,Z=0,i=T)}if(i!==0){if(i===2&&(o=xc(e),o!==0&&(a=o,i=Nk(e,o))),i===1)throw s=pk,Kk(e,0),Ck(e,a),Dk(e,B()),s;if(i===6)Ck(e,a);else{if(o=e.current.alternate,!(a&30)&&!Ok(o)&&(i=Ik(e,a),i===2&&(c=xc(e),c!==0&&(a=c,i=Nk(e,c))),i===1))throw s=pk,Kk(e,0),Ck(e,a),Dk(e,B()),s;switch(e.finishedWork=o,e.finishedLanes=a,i){case 0:case 1:throw Error(p(345));case 2:Pk(e,tk,uk);break;case 3:if(Ck(e,a),(a&130023424)===a&&(i=fk+500-B(),10<i)){if(uc(e,0)!==0)break;if(o=e.suspendedLanes,(o&a)!==a){R(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),i);break}Pk(e,tk,uk);break;case 4:if(Ck(e,a),(a&4194240)===a)break;for(i=e.eventTimes,o=-1;0<a;){var d=31-oc(a);c=1<<d,d=i[d],d>o&&(o=d),a&=~c}if(a=o,a=B()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*lk(a/1960))-a,10<a){e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),a);break}Pk(e,tk,uk);break;case 5:Pk(e,tk,uk);break;default:throw Error(p(329))}}}return Dk(e,B()),e.callbackNode===s?Gk.bind(null,e):null}function Nk(e,i){var s=sk;return e.current.memoizedState.isDehydrated&&(Kk(e,i).flags|=256),e=Ik(e,i),e!==2&&(i=tk,tk=s,i!==null&&Fj(i)),e}function Fj(e){tk===null?tk=e:tk.push.apply(tk,e)}function Ok(e){for(var i=e;;){if(i.flags&16384){var s=i.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var o=s[a],c=o.getSnapshot;o=o.value;try{if(!He(c(),o))return!1}catch{return!1}}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ck(e,i){for(i&=~rk,i&=~qk,e.suspendedLanes|=i,e.pingedLanes&=~i,e=e.expirationTimes;0<i;){var s=31-oc(i),a=1<<s;e[s]=-1,i&=~a}}function Ek(e){if(K&6)throw Error(p(327));Hk();var i=uc(e,0);if(!(i&1))return Dk(e,B()),null;var s=Ik(e,i);if(e.tag!==0&&s===2){var a=xc(e);a!==0&&(i=a,s=Nk(e,a))}if(s===1)throw s=pk,Kk(e,0),Ck(e,i),Dk(e,B()),s;if(s===6)throw Error(p(345));return e.finishedWork=e.current.alternate,e.finishedLanes=i,Pk(e,tk,uk),Dk(e,B()),null}function Qk(e,i){var s=K;K|=1;try{return e(i)}finally{K=s,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var i=K;K|=1;var s=ok$2.transition,a=C;try{if(ok$2.transition=null,C=1,e)return e()}finally{C=a,ok$2.transition=s,K=i,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(e,i){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Gf(s)),Y!==null)for(s=Y.return;s!==null;){var a=s;switch(wg(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(a);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(a.type._context);break;case 22:case 23:Hj()}s=s.return}if(Q=e,Y=e=Pg(e.current,null),Z=fj=i,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(i=0;i<fh.length;i++)if(s=fh[i],a=s.interleaved,a!==null){s.interleaved=null;var o=a.next,c=s.pending;if(c!==null){var d=c.next;c.next=o,a.next=d}s.pending=a}fh=null}return e}function Mk(e,i){do{var s=Y;try{if($g(),Fh.current=Rh,Ih){for(var a=M.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,s===null||s.return===null){T=1,pk=i,Y=null;break}e:{var c=e,d=s.return,h=s,g=i;if(i=Z,h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var b=g,_=h,j=_.tag;if(!(_.mode&1)&&(j===0||j===11||j===15)){var $=_.alternate;$?(_.updateQueue=$.updateQueue,_.memoizedState=$.memoizedState,_.lanes=$.lanes):(_.updateQueue=null,_.memoizedState=null)}var _e=Ui(d);if(_e!==null){_e.flags&=-257,Vi(_e,d,h,c,i),_e.mode&1&&Si(c,b,i),i=_e,g=b;var rt=i.updateQueue;if(rt===null){var nt=new Set;nt.add(g),i.updateQueue=nt}else rt.add(g);break e}else{if(!(i&1)){Si(c,b,i),tj();break e}g=Error(p(426))}}else if(I&&h.mode&1){var st=Ui(d);if(st!==null){!(st.flags&65536)&&(st.flags|=256),Vi(st,d,h,c,i),Jg(Ji(g,h));break e}}c=g=Ji(g,h),T!==4&&(T=2),sk===null?sk=[c]:sk.push(c),c=d;do{switch(c.tag){case 3:c.flags|=65536,i&=-i,c.lanes|=i;var tt=Ni(c,g,i);ph(c,tt);break e;case 1:h=g;var et=c.type,it=c.stateNode;if(!(c.flags&128)&&(typeof et.getDerivedStateFromError=="function"||it!==null&&typeof it.componentDidCatch=="function"&&(Ri===null||!Ri.has(it)))){c.flags|=65536,i&=-i,c.lanes|=i;var pt=Qi(c,h,i);ph(c,pt);break e}}c=c.return}while(c!==null)}Sk(s)}catch(ot){i=ot,Y===s&&s!==null&&(Y=s=s.return);continue}break}while(1)}function Jk(){var e=mk.current;return mk.current=Rh,e===null?Rh:e}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(e,i){var s=K;K|=2;var a=Jk();(Q!==e||Z!==i)&&(uk=null,Kk(e,i));do try{Tk();break}catch(o){Mk(e,o)}while(1);if($g(),K=s,mk.current=a,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(e){var i=Vk(e.alternate,e,fj);e.memoizedProps=e.pendingProps,i===null?Sk(e):Y=i,nk.current=null}function Sk(e){var i=e;do{var s=i.alternate;if(e=i.return,i.flags&32768){if(s=Ij(s,i),s!==null){s.flags&=32767,Y=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T=6,Y=null;return}}else if(s=Ej(s,i,fj),s!==null){Y=s;return}if(i=i.sibling,i!==null){Y=i;return}Y=i=e}while(i!==null);T===0&&(T=5)}function Pk(e,i,s){var a=C,o=ok$2.transition;try{ok$2.transition=null,C=1,Wk(e,i,s,a)}finally{ok$2.transition=o,C=a}return null}function Wk(e,i,s,a){do Hk();while(wk!==null);if(K&6)throw Error(p(327));s=e.finishedWork;var o=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(p(177));e.callbackNode=null,e.callbackPriority=0;var c=s.lanes|s.childLanes;if(Bc(e,c),e===Q&&(Y=Q=null,Z=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),c=(s.flags&15990)!==0,s.subtreeFlags&15990||c){c=ok$2.transition,ok$2.transition=null;var d=C;C=1;var h=K;K|=4,nk.current=null,Oj(e,s),dk(s,e),Oe(Df),dd=!!Cf,Df=Cf=null,e.current=s,hk(s),dc(),K=h,C=d,ok$2.transition=c}else e.current=s;if(vk&&(vk=!1,wk=e,xk=o),c=e.pendingLanes,c===0&&(Ri=null),mc(s.stateNode),Dk(e,B()),i!==null)for(a=e.onRecoverableError,s=0;s<i.length;s++)o=i[s],a(o.value,{componentStack:o.stack,digest:o.digest});if(Oi)throw Oi=!1,e=Pi,Pi=null,e;return xk&1&&e.tag!==0&&Hk(),c=e.pendingLanes,c&1?e===zk?yk++:(yk=0,zk=e):yk=0,jg(),null}function Hk(){if(wk!==null){var e=Dc(xk),i=ok$2.transition,s=C;try{if(ok$2.transition=null,C=16>e?16:e,wk===null)var a=!1;else{if(e=wk,wk=null,xk=0,K&6)throw Error(p(331));var o=K;for(K|=4,V=e.current;V!==null;){var c=V,d=c.child;if(V.flags&16){var h=c.deletions;if(h!==null){for(var g=0;g<h.length;g++){var b=h[g];for(V=b;V!==null;){var _=V;switch(_.tag){case 0:case 11:case 15:Pj(8,_,c)}var j=_.child;if(j!==null)j.return=_,V=j;else for(;V!==null;){_=V;var $=_.sibling,_e=_.return;if(Sj(_),_===b){V=null;break}if($!==null){$.return=_e,V=$;break}V=_e}}}var rt=c.alternate;if(rt!==null){var nt=rt.child;if(nt!==null){rt.child=null;do{var st=nt.sibling;nt.sibling=null,nt=st}while(nt!==null)}}V=c}}if(c.subtreeFlags&2064&&d!==null)d.return=c,V=d;else e:for(;V!==null;){if(c=V,c.flags&2048)switch(c.tag){case 0:case 11:case 15:Pj(9,c,c.return)}var tt=c.sibling;if(tt!==null){tt.return=c.return,V=tt;break e}V=c.return}}var et=e.current;for(V=et;V!==null;){d=V;var it=d.child;if(d.subtreeFlags&2064&&it!==null)it.return=d,V=it;else e:for(d=et;V!==null;){if(h=V,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Qj(9,h)}}catch(ot){W(h,h.return,ot)}if(h===d){V=null;break e}var pt=h.sibling;if(pt!==null){pt.return=h.return,V=pt;break e}V=h.return}}if(K=o,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,e)}catch{}a=!0}return a}finally{C=s,ok$2.transition=i}}return!1}function Xk(e,i,s){i=Ji(s,i),i=Ni(e,i,1),e=nh(e,i,1),i=R(),e!==null&&(Ac(e,1,i),Dk(e,i))}function W(e,i,s){if(e.tag===3)Xk(e,e,s);else for(;i!==null;){if(i.tag===3){Xk(i,e,s);break}else if(i.tag===1){var a=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ri===null||!Ri.has(a))){e=Ji(s,e),e=Qi(i,e,1),i=nh(i,e,1),e=R(),i!==null&&(Ac(i,1,e),Dk(i,e));break}}i=i.return}}function Ti(e,i,s){var a=e.pingCache;a!==null&&a.delete(i),i=R(),e.pingedLanes|=e.suspendedLanes&s,Q===e&&(Z&s)===s&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(e,0):rk|=s),Dk(e,i)}function Yk(e,i){i===0&&(e.mode&1?(i=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):i=1);var s=R();e=ih(e,i),e!==null&&(Ac(e,i,s),Dk(e,s))}function uj(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),Yk(e,s)}function bk(e,i){var s=0;switch(e.tag){case 13:var a=e.stateNode,o=e.memoizedState;o!==null&&(s=o.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(p(314))}a!==null&&a.delete(i),Yk(e,s)}var Vk;Vk=function(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps||Wf.current)dh=!0;else{if(!(e.lanes&s)&&!(i.flags&128))return dh=!1,yj(e,i,s);dh=!!(e.flags&131072)}else dh=!1,I&&i.flags&1048576&&ug(i,ng,i.index);switch(i.lanes=0,i.tag){case 2:var a=i.type;ij(e,i),e=i.pendingProps;var o=Yf(i,H.current);ch(i,s),o=Nh(null,i,a,e,o,s);var c=Sh();return i.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Zf(a)?(c=!0,cg(i)):c=!1,i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,kh(i),o.updater=Ei,i.stateNode=o,o._reactInternals=i,Ii(i,a,e,s),i=jj(null,i,a,!0,c,s)):(i.tag=0,I&&c&&vg(i),Xi(null,i,o,s),i=i.child),i;case 16:a=i.elementType;e:{switch(ij(e,i),e=i.pendingProps,o=a._init,a=o(a._payload),i.type=a,o=i.tag=Zk(a),e=Ci(a,e),o){case 0:i=cj(null,i,a,e,s);break e;case 1:i=hj(null,i,a,e,s);break e;case 11:i=Yi(null,i,a,e,s);break e;case 14:i=$i(null,i,a,Ci(a.type,e),s);break e}throw Error(p(306,a,""))}return i;case 0:return a=i.type,o=i.pendingProps,o=i.elementType===a?o:Ci(a,o),cj(e,i,a,o,s);case 1:return a=i.type,o=i.pendingProps,o=i.elementType===a?o:Ci(a,o),hj(e,i,a,o,s);case 3:e:{if(kj(i),e===null)throw Error(p(387));a=i.pendingProps,c=i.memoizedState,o=c.element,lh(e,i),qh(i,a,null,s);var d=i.memoizedState;if(a=d.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},i.updateQueue.baseState=c,i.memoizedState=c,i.flags&256){o=Ji(Error(p(423)),i),i=lj(e,i,a,s,o);break e}else if(a!==o){o=Ji(Error(p(424)),i),i=lj(e,i,a,s,o);break e}else for(yg=Lf(i.stateNode.containerInfo.firstChild),xg=i,I=!0,zg=null,s=Vg(i,null,a,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),a===o){i=Zi(e,i,s);break e}Xi(e,i,a,s)}i=i.child}return i;case 5:return Ah(i),e===null&&Eg(i),a=i.type,o=i.pendingProps,c=e!==null?e.memoizedProps:null,d=o.children,Ef(a,o)?d=null:c!==null&&Ef(a,c)&&(i.flags|=32),gj(e,i),Xi(e,i,d,s),i.child;case 6:return e===null&&Eg(i),null;case 13:return oj(e,i,s);case 4:return yh(i,i.stateNode.containerInfo),a=i.pendingProps,e===null?i.child=Ug(i,null,a,s):Xi(e,i,a,s),i.child;case 11:return a=i.type,o=i.pendingProps,o=i.elementType===a?o:Ci(a,o),Yi(e,i,a,o,s);case 7:return Xi(e,i,i.pendingProps,s),i.child;case 8:return Xi(e,i,i.pendingProps.children,s),i.child;case 12:return Xi(e,i,i.pendingProps.children,s),i.child;case 10:e:{if(a=i.type._context,o=i.pendingProps,c=i.memoizedProps,d=o.value,G(Wg,a._currentValue),a._currentValue=d,c!==null)if(He(c.value,d)){if(c.children===o.children&&!Wf.current){i=Zi(e,i,s);break e}}else for(c=i.child,c!==null&&(c.return=i);c!==null;){var h=c.dependencies;if(h!==null){d=c.child;for(var g=h.firstContext;g!==null;){if(g.context===a){if(c.tag===1){g=mh(-1,s&-s),g.tag=2;var b=c.updateQueue;if(b!==null){b=b.shared;var _=b.pending;_===null?g.next=g:(g.next=_.next,_.next=g),b.pending=g}}c.lanes|=s,g=c.alternate,g!==null&&(g.lanes|=s),bh(c.return,s,i),h.lanes|=s;break}g=g.next}}else if(c.tag===10)d=c.type===i.type?null:c.child;else if(c.tag===18){if(d=c.return,d===null)throw Error(p(341));d.lanes|=s,h=d.alternate,h!==null&&(h.lanes|=s),bh(d,s,i),d=c.sibling}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===i){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}Xi(e,i,o.children,s),i=i.child}return i;case 9:return o=i.type,a=i.pendingProps.children,ch(i,s),o=eh(o),a=a(o),i.flags|=1,Xi(e,i,a,s),i.child;case 14:return a=i.type,o=Ci(a,i.pendingProps),o=Ci(a.type,o),$i(e,i,a,o,s);case 15:return bj(e,i,i.type,i.pendingProps,s);case 17:return a=i.type,o=i.pendingProps,o=i.elementType===a?o:Ci(a,o),ij(e,i),i.tag=1,Zf(a)?(e=!0,cg(i)):e=!1,ch(i,s),Gi(i,a,o),Ii(i,a,o,s),jj(null,i,a,!0,e,s);case 19:return xj(e,i,s);case 22:return dj(e,i,s)}throw Error(p(156,i.tag))};function Fk(e,i){return ac(e,i)}function $k(e,i,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,i,s,a){return new $k(e,i,s,a)}function aj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zk(e){if(typeof e=="function")return aj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ga)return 14}return 2}function Pg(e,i){var s=e.alternate;return s===null?(s=Bg(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Rg(e,i,s,a,o,c){var d=2;if(a=e,typeof e=="function")aj(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case ya:return Tg(s.children,o,c,i);case za:d=8,o|=8;break;case Aa:return e=Bg(12,s,i,o|2),e.elementType=Aa,e.lanes=c,e;case Ea:return e=Bg(13,s,i,o),e.elementType=Ea,e.lanes=c,e;case Fa:return e=Bg(19,s,i,o),e.elementType=Fa,e.lanes=c,e;case Ia:return pj(s,o,c,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba:d=10;break e;case Ca:d=9;break e;case Da:d=11;break e;case Ga:d=14;break e;case Ha:d=16,a=null;break e}throw Error(p(130,e==null?e:typeof e,""))}return i=Bg(d,s,i,o),i.elementType=e,i.type=a,i.lanes=c,i}function Tg(e,i,s,a){return e=Bg(7,e,a,i),e.lanes=s,e}function pj(e,i,s,a){return e=Bg(22,e,a,i),e.elementType=Ia,e.lanes=s,e.stateNode={isHidden:!1},e}function Qg(e,i,s){return e=Bg(6,e,null,i),e.lanes=s,e}function Sg(e,i,s){return i=Bg(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function al(e,i,s,a,o){this.tag=i,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=a,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function bl(e,i,s,a,o,c,d,h,g){return e=new al(e,i,s,h,g),i===1?(i=1,c===!0&&(i|=8)):i=0,c=Bg(3,null,null,i),e.current=c,c.stateNode=e,c.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(c),e}function cl(e,i,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:a==null?null:""+a,children:e,containerInfo:i,implementation:s}}function dl(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p(170));var i=e;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Zf(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(p(171))}if(e.tag===1){var s=e.type;if(Zf(s))return bg(e,s,i)}return i}function el(e,i,s,a,o,c,d,h,g){return e=bl(s,a,!0,e,o,c,d,h,g),e.context=dl(null),s=e.current,a=R(),o=yi(s),c=mh(a,o),c.callback=i??null,nh(s,c,o),e.current.lanes=o,Ac(e,o,a),Dk(e,a),e}function fl(e,i,s,a){var o=i.current,c=R(),d=yi(o);return s=dl(s),i.context===null?i.context=s:i.pendingContext=s,i=mh(c,d),i.payload={element:e},a=a===void 0?null:a,a!==null&&(i.callback=a),e=nh(o,i,d),e!==null&&(gi(e,o,d,c),oh(e,o,d)),d}function gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hl(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function il(e,i){hl(e,i),(e=e.alternate)&&hl(e,i)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(e){console.error(e)};function ll(e){this._internalRoot=e}ml.prototype.render=ll.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(p(409));fl(e,i,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Rk(function(){fl(null,e,null,null)}),i[uf]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var i=Hc();e={blockedOn:null,target:e,priority:i};for(var s=0;s<Qc.length&&i!==0&&i<Qc[s].priority;s++);Qc.splice(s,0,e),s===0&&Vc(e)}};function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(e,i,s,a,o){if(o){if(typeof a=="function"){var c=a;a=function(){var b=gl(d);c.call(b)}}var d=el(i,a,e,0,null,!1,!1,"",pl);return e._reactRootContainer=d,e[uf]=d.current,sf(e.nodeType===8?e.parentNode:e),Rk(),d}for(;o=e.lastChild;)e.removeChild(o);if(typeof a=="function"){var h=a;a=function(){var b=gl(g);h.call(b)}}var g=bl(e,0,!1,null,null,!1,!1,"",pl);return e._reactRootContainer=g,e[uf]=g.current,sf(e.nodeType===8?e.parentNode:e),Rk(function(){fl(i,g,s,a)}),g}function rl(e,i,s,a,o){var c=s._reactRootContainer;if(c){var d=c;if(typeof o=="function"){var h=o;o=function(){var g=gl(d);h.call(g)}}fl(i,d,e,o)}else d=ql(s,i,e,o,a);return gl(d)}Ec=function(e){switch(e.tag){case 3:var i=e.stateNode;if(i.current.memoizedState.isDehydrated){var s=tc(i.pendingLanes);s!==0&&(Cc(i,s|1),Dk(i,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var a=ih(e,1);if(a!==null){var o=R();gi(a,e,1,o)}}),il(e,1)}};Fc=function(e){if(e.tag===13){var i=ih(e,134217728);if(i!==null){var s=R();gi(i,e,134217728,s)}il(e,134217728)}};Gc=function(e){if(e.tag===13){var i=yi(e),s=ih(e,i);if(s!==null){var a=R();gi(s,e,i,a)}il(e,i)}};Hc=function(){return C};Ic=function(e,i){var s=C;try{return C=e,i()}finally{C=s}};yb=function(e,i,s){switch(i){case"input":if(bb(e,s),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<s.length;i++){var a=s[i];if(a!==e&&a.form===e.form){var o=Db(a);if(!o)throw Error(p(90));Wa(a),bb(a,o)}}}break;case"textarea":ib(e,s);break;case"select":i=s.value,i!=null&&fb(e,!!s.multiple,i,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(e,i){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(i))throw Error(p(200));return cl(e,i,null,s)};reactDom_production_min.createRoot=function(e,i){if(!nl(e))throw Error(p(299));var s=!1,a="",o=kl;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(a=i.identifierPrefix),i.onRecoverableError!==void 0&&(o=i.onRecoverableError)),i=bl(e,1,!1,null,null,s,!1,a,o),e[uf]=i.current,sf(e.nodeType===8?e.parentNode:e),new ll(i)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=Zb(i),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Rk(e)};reactDom_production_min.hydrate=function(e,i,s){if(!ol(i))throw Error(p(200));return rl(null,e,i,!0,s)};reactDom_production_min.hydrateRoot=function(e,i,s){if(!nl(e))throw Error(p(405));var a=s!=null&&s.hydratedSources||null,o=!1,c="",d=kl;if(s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),i=el(i,null,e,1,s??null,o,!1,c,d),e[uf]=i.current,sf(e),a)for(e=0;e<a.length;e++)s=a[e],o=s._getVersion,o=o(s._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[s,o]:i.mutableSourceEagerHydrationData.push(s,o);return new ml(i)};reactDom_production_min.render=function(e,i,s){if(!ol(i))throw Error(p(200));return rl(null,e,i,!1,s)};reactDom_production_min.unmountComponentAtNode=function(e){if(!ol(e))throw Error(p(40));return e._reactRootContainer?(Rk(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,i,s,a){if(!ol(s))throw Error(p(200));if(e==null||e._reactInternals===void 0)throw Error(p(38));return rl(e,i,s,!1,a)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_extends$2.apply(this,arguments)}var Action;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(e){e===void 0&&(e={});function i(a,o){let{pathname:c,search:d,hash:h}=a.location;return createLocation("",{pathname:c,search:d,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(a,o){return typeof o=="string"?o:createPath(o)}return getUrlBasedHistory(i,s,null,e)}function invariant$1(e,i){if(e===!1||e===null||typeof e>"u")throw new Error(i)}function warning$1(e,i){if(!e){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(e,i){return{usr:e.state,key:e.key,idx:i}}function createLocation(e,i,s,a){return s===void 0&&(s=null),_extends$2({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof i=="string"?parsePath(i):i,{state:s,key:i&&i.key||a||createKey()})}function createPath(e){let{pathname:i="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(i+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(i+=a.charAt(0)==="#"?a:"#"+a),i}function parsePath(e){let i={};if(e){let s=e.indexOf("#");s>=0&&(i.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(i.search=e.substr(a),e=e.substr(0,a)),e&&(i.pathname=e)}return i}function getUrlBasedHistory(e,i,s,a){a===void 0&&(a={});let{window:o=document.defaultView,v5Compat:c=!1}=a,d=o.history,h=Action.Pop,g=null,b=_();b==null&&(b=0,d.replaceState(_extends$2({},d.state,{idx:b}),""));function _(){return(d.state||{idx:null}).idx}function j(){h=Action.Pop;let st=_(),tt=st==null?null:st-b;b=st,g&&g({action:h,location:nt.location,delta:tt})}function $(st,tt){h=Action.Push;let et=createLocation(nt.location,st,tt);s&&s(et,st),b=_()+1;let it=getHistoryState(et,b),pt=nt.createHref(et);try{d.pushState(it,"",pt)}catch(ot){if(ot instanceof DOMException&&ot.name==="DataCloneError")throw ot;o.location.assign(pt)}c&&g&&g({action:h,location:nt.location,delta:1})}function _e(st,tt){h=Action.Replace;let et=createLocation(nt.location,st,tt);s&&s(et,st),b=_();let it=getHistoryState(et,b),pt=nt.createHref(et);d.replaceState(it,"",pt),c&&g&&g({action:h,location:nt.location,delta:0})}function rt(st){let tt=o.location.origin!=="null"?o.location.origin:o.location.href,et=typeof st=="string"?st:createPath(st);return et=et.replace(/ $/,"%20"),invariant$1(tt,"No window.location.(origin|href) available to create URL for href: "+et),new URL(et,tt)}let nt={get action(){return h},get location(){return e(o,d)},listen(st){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(PopStateEventType,j),g=st,()=>{o.removeEventListener(PopStateEventType,j),g=null}},createHref(st){return i(o,st)},createURL:rt,encodeLocation(st){let tt=rt(st);return{pathname:tt.pathname,search:tt.search,hash:tt.hash}},push:$,replace:_e,go(st){return d.go(st)}};return nt}var ResultType;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ResultType||(ResultType={}));function matchRoutes(e,i,s){return s===void 0&&(s="/"),matchRoutesImpl(e,i,s,!1)}function matchRoutesImpl(e,i,s,a){let o=typeof i=="string"?parsePath(i):i,c=stripBasename(o.pathname||"/",s);if(c==null)return null;let d=flattenRoutes(e);rankRouteBranches(d);let h=null;for(let g=0;h==null&&g<d.length;++g){let b=decodePath(c);h=matchRouteBranch(d[g],b,a)}return h}function flattenRoutes(e,i,s,a){i===void 0&&(i=[]),s===void 0&&(s=[]),a===void 0&&(a="");let o=(c,d,h)=>{let g={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};g.relativePath.startsWith("/")&&(invariant$1(g.relativePath.startsWith(a),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(a.length));let b=joinPaths([a,g.relativePath]),_=s.concat(g);c.children&&c.children.length>0&&(invariant$1(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+b+'".')),flattenRoutes(c.children,i,_,b)),!(c.path==null&&!c.index)&&i.push({path:b,score:computeScore(b,c.index),routesMeta:_})};return e.forEach((c,d)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))o(c,d);else for(let g of explodeOptionalSegments(c.path))o(c,d,g)}),i}function explodeOptionalSegments(e){let i=e.split("/");if(i.length===0)return[];let[s,...a]=i,o=s.endsWith("?"),c=s.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let d=explodeOptionalSegments(a.join("/")),h=[];return h.push(...d.map(g=>g===""?c:[c,g].join("/"))),o&&h.push(...d),h.map(g=>e.startsWith("/")&&g===""?"/":g)}function rankRouteBranches(e){e.sort((i,s)=>i.score!==s.score?s.score-i.score:compareIndexes(i.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=e=>e==="*";function computeScore(e,i){let s=e.split("/"),a=s.length;return s.some(isSplat)&&(a+=splatPenalty),i&&(a+=indexRouteValue),s.filter(o=>!isSplat(o)).reduce((o,c)=>o+(paramRe.test(c)?dynamicSegmentValue:c===""?emptySegmentValue:staticSegmentValue),a)}function compareIndexes(e,i){return e.length===i.length&&e.slice(0,-1).every((a,o)=>a===i[o])?e[e.length-1]-i[i.length-1]:0}function matchRouteBranch(e,i,s){s===void 0&&(s=!1);let{routesMeta:a}=e,o={},c="/",d=[];for(let h=0;h<a.length;++h){let g=a[h],b=h===a.length-1,_=c==="/"?i:i.slice(c.length)||"/",j=matchPath({path:g.relativePath,caseSensitive:g.caseSensitive,end:b},_),$=g.route;if(!j&&b&&s&&!a[a.length-1].route.index&&(j=matchPath({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!j)return null;Object.assign(o,j.params),d.push({params:o,pathname:joinPaths([c,j.pathname]),pathnameBase:normalizePathname(joinPaths([c,j.pathnameBase])),route:$}),j.pathnameBase!=="/"&&(c=joinPaths([c,j.pathnameBase]))}return d}function matchPath(e,i){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=compilePath(e.path,e.caseSensitive,e.end),o=i.match(s);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:a.reduce((b,_,j)=>{let{paramName:$,isOptional:_e}=_;if($==="*"){let nt=h[j]||"";d=c.slice(0,c.length-nt.length).replace(/(.)\/+$/,"$1")}const rt=h[j];return _e&&!rt?b[$]=void 0:b[$]=(rt||"").replace(/%2F/g,"/"),b},{}),pathname:c,pathnameBase:d,pattern:e}}function compilePath(e,i,s){i===void 0&&(i=!1),s===void 0&&(s=!0),warning$1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,g)=>(a.push({paramName:h,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,i?void 0:"i"),a]}function decodePath(e){try{return e.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return warning$1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),e}}function stripBasename(e,i){if(i==="/")return e;if(!e.toLowerCase().startsWith(i.toLowerCase()))return null;let s=i.endsWith("/")?i.length-1:i.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function resolvePath(e,i){i===void 0&&(i="/");let{pathname:s,search:a="",hash:o=""}=typeof e=="string"?parsePath(e):e;return{pathname:s?s.startsWith("/")?s:resolvePathname(s,i):i,search:normalizeSearch(a),hash:normalizeHash(o)}}function resolvePathname(e,i){let s=i.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function getInvalidPathError(e,i,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(e){return e.filter((i,s)=>s===0||i.route.path&&i.route.path.length>0)}function getResolveToMatches(e,i){let s=getPathContributingMatches(e);return i?s.map((a,o)=>o===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function resolveTo(e,i,s,a){a===void 0&&(a=!1);let o;typeof e=="string"?o=parsePath(e):(o=_extends$2({},e),invariant$1(!o.pathname||!o.pathname.includes("?"),getInvalidPathError("?","pathname","search",o)),invariant$1(!o.pathname||!o.pathname.includes("#"),getInvalidPathError("#","pathname","hash",o)),invariant$1(!o.search||!o.search.includes("#"),getInvalidPathError("#","search","hash",o)));let c=e===""||o.pathname==="",d=c?"/":o.pathname,h;if(d==null)h=s;else{let j=i.length-1;if(!a&&d.startsWith("..")){let $=d.split("/");for(;$[0]==="..";)$.shift(),j-=1;o.pathname=$.join("/")}h=j>=0?i[j]:"/"}let g=resolvePath(o,h),b=d&&d!=="/"&&d.endsWith("/"),_=(c||d===".")&&s.endsWith("/");return!g.pathname.endsWith("/")&&(b||_)&&(g.pathname+="/"),g}const joinPaths=e=>e.join("/").replace(/\/\/+/g,"/"),normalizePathname=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,normalizeHash=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function isRouteErrorResponse(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(e,i){let{relative:s}=i===void 0?{}:i;useInRouterContext()||invariant$1(!1);let{basename:a,navigator:o}=reactExports.useContext(NavigationContext),{hash:c,pathname:d,search:h}=useResolvedPath(e,{relative:s}),g=d;return a!=="/"&&(g=d==="/"?a:joinPaths([a,d])),o.createHref({pathname:g,search:h,hash:c})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(e)}function useNavigate(){let{isDataRoute:e}=reactExports.useContext(RouteContext);return e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$1(!1);let e=reactExports.useContext(DataRouterContext),{basename:i,future:s,navigator:a}=reactExports.useContext(NavigationContext),{matches:o}=reactExports.useContext(RouteContext),{pathname:c}=useLocation(),d=JSON.stringify(getResolveToMatches(o,s.v7_relativeSplatPath)),h=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{h.current=!0}),reactExports.useCallback(function(b,_){if(_===void 0&&(_={}),!h.current)return;if(typeof b=="number"){a.go(b);return}let j=resolveTo(b,JSON.parse(d),c,_.relative==="path");e==null&&i!=="/"&&(j.pathname=j.pathname==="/"?i:joinPaths([i,j.pathname])),(_.replace?a.replace:a.push)(j,_.state,_)},[i,a,d,c,e])}function useParams(){let{matches:e}=reactExports.useContext(RouteContext),i=e[e.length-1];return i?i.params:{}}function useResolvedPath(e,i){let{relative:s}=i===void 0?{}:i,{future:a}=reactExports.useContext(NavigationContext),{matches:o}=reactExports.useContext(RouteContext),{pathname:c}=useLocation(),d=JSON.stringify(getResolveToMatches(o,a.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(e,JSON.parse(d),c,s==="path"),[e,d,c,s])}function useRoutes(e,i){return useRoutesImpl(e,i)}function useRoutesImpl(e,i,s,a){useInRouterContext()||invariant$1(!1);let{navigator:o}=reactExports.useContext(NavigationContext),{matches:c}=reactExports.useContext(RouteContext),d=c[c.length-1],h=d?d.params:{};d&&d.pathname;let g=d?d.pathnameBase:"/";d&&d.route;let b=useLocation(),_;if(i){var j;let st=typeof i=="string"?parsePath(i):i;g==="/"||(j=st.pathname)!=null&&j.startsWith(g)||invariant$1(!1),_=st}else _=b;let $=_.pathname||"/",_e=$;if(g!=="/"){let st=g.replace(/^\//,"").split("/");_e="/"+$.replace(/^\//,"").split("/").slice(st.length).join("/")}let rt=matchRoutes(e,{pathname:_e}),nt=_renderMatches(rt&&rt.map(st=>Object.assign({},st,{params:Object.assign({},h,st.params),pathname:joinPaths([g,o.encodeLocation?o.encodeLocation(st.pathname).pathname:st.pathname]),pathnameBase:st.pathnameBase==="/"?g:joinPaths([g,o.encodeLocation?o.encodeLocation(st.pathnameBase).pathname:st.pathnameBase])})),c,s,a);return i&&nt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:Action.Pop}},nt):nt}function DefaultErrorComponent(){let e=useRouteError(),i=isRouteErrorResponse(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},c=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},i),s?reactExports.createElement("pre",{style:o},s):null,c)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,s){return s.location!==i.location||s.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:s.error,location:s.location,revalidation:i.revalidation||s.revalidation}}componentDidCatch(i,s){console.error("React Router caught the following error during render",i,s)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(e){let{routeContext:i,match:s,children:a}=e,o=reactExports.useContext(DataRouterContext);return o&&o.static&&o.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=s.route.id),reactExports.createElement(RouteContext.Provider,{value:i},a)}function _renderMatches(e,i,s,a){var o;if(i===void 0&&(i=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var c;if(!s)return null;if(s.errors)e=s.matches;else if((c=a)!=null&&c.v7_partialHydration&&i.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let d=e,h=(o=s)==null?void 0:o.errors;if(h!=null){let _=d.findIndex(j=>j.route.id&&(h==null?void 0:h[j.route.id])!==void 0);_>=0||invariant$1(!1),d=d.slice(0,Math.min(d.length,_+1))}let g=!1,b=-1;if(s&&a&&a.v7_partialHydration)for(let _=0;_<d.length;_++){let j=d[_];if((j.route.HydrateFallback||j.route.hydrateFallbackElement)&&(b=_),j.route.id){let{loaderData:$,errors:_e}=s,rt=j.route.loader&&$[j.route.id]===void 0&&(!_e||_e[j.route.id]===void 0);if(j.route.lazy||rt){g=!0,b>=0?d=d.slice(0,b+1):d=[d[0]];break}}}return d.reduceRight((_,j,$)=>{let _e,rt=!1,nt=null,st=null;s&&(_e=h&&j.route.id?h[j.route.id]:void 0,nt=j.route.errorElement||defaultErrorElement,g&&(b<0&&$===0?(warningOnce("route-fallback",!1),rt=!0,st=null):b===$&&(rt=!0,st=j.route.hydrateFallbackElement||null)));let tt=i.concat(d.slice(0,$+1)),et=()=>{let it;return _e?it=nt:rt?it=st:j.route.Component?it=reactExports.createElement(j.route.Component,null):j.route.element?it=j.route.element:it=_,reactExports.createElement(RenderedRoute,{match:j,routeContext:{outlet:_,matches:tt,isDataRoute:s!=null},children:it})};return s&&(j.route.ErrorBoundary||j.route.errorElement||$===0)?reactExports.createElement(RenderErrorBoundary,{location:s.location,revalidation:s.revalidation,component:nt,error:_e,children:et(),routeContext:{outlet:null,matches:tt,isDataRoute:!0}}):et()},null)}var DataRouterHook$1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(DataRouterHook$1||{}),DataRouterStateHook$1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(DataRouterStateHook$1||{});function useDataRouterContext$1(e){let i=reactExports.useContext(DataRouterContext);return i||invariant$1(!1),i}function useDataRouterState(e){let i=reactExports.useContext(DataRouterStateContext);return i||invariant$1(!1),i}function useRouteContext(e){let i=reactExports.useContext(RouteContext);return i||invariant$1(!1),i}function useCurrentRouteId(e){let i=useRouteContext(),s=i.matches[i.matches.length-1];return s.route.id||invariant$1(!1),s.route.id}function useRouteError(){var e;let i=reactExports.useContext(RouteErrorContext),s=useDataRouterState(DataRouterStateHook$1.UseRouteError),a=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return i!==void 0?i:(e=s.errors)==null?void 0:e[a]}function useNavigateStable(){let{router:e}=useDataRouterContext$1(DataRouterHook$1.UseNavigateStable),i=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),s=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{s.current=!0}),reactExports.useCallback(function(o,c){c===void 0&&(c={}),s.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,_extends$1({fromRouteId:i},c)))},[e,i])}const alreadyWarned$1={};function warningOnce(e,i,s){!i&&!alreadyWarned$1[e]&&(alreadyWarned$1[e]=!0)}function logV6DeprecationWarnings(e,i){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!i||i.v7_relativeSplatPath),i&&(i.v7_fetcherPersist,i.v7_normalizeFormMethod,i.v7_partialHydration,i.v7_skipActionErrorRevalidation)}function Route(e){invariant$1(!1)}function Router(e){let{basename:i="/",children:s=null,location:a,navigationType:o=Action.Pop,navigator:c,static:d=!1,future:h}=e;useInRouterContext()&&invariant$1(!1);let g=i.replace(/^\/*/,"/"),b=reactExports.useMemo(()=>({basename:g,navigator:c,static:d,future:_extends$1({v7_relativeSplatPath:!1},h)}),[g,h,c,d]);typeof a=="string"&&(a=parsePath(a));let{pathname:_="/",search:j="",hash:$="",state:_e=null,key:rt="default"}=a,nt=reactExports.useMemo(()=>{let st=stripBasename(_,g);return st==null?null:{location:{pathname:st,search:j,hash:$,state:_e,key:rt},navigationType:o}},[g,_,j,$,_e,rt,o]);return nt==null?null:reactExports.createElement(NavigationContext.Provider,{value:b},reactExports.createElement(LocationContext.Provider,{children:s,value:nt}))}function Routes(e){let{children:i,location:s}=e;return useRoutes(createRoutesFromChildren(i),s)}new Promise(()=>{});function createRoutesFromChildren(e,i){i===void 0&&(i=[]);let s=[];return reactExports.Children.forEach(e,(a,o)=>{if(!reactExports.isValidElement(a))return;let c=[...i,o];if(a.type===reactExports.Fragment){s.push.apply(s,createRoutesFromChildren(a.props.children,c));return}a.type!==Route&&invariant$1(!1),!a.props.index||!a.props.children||invariant$1(!1);let d={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=createRoutesFromChildren(a.props.children,c)),s.push(d)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(e,i){if(e==null)return{};var s={},a=Object.keys(e),o,c;for(c=0;c<a.length;c++)o=a[c],!(i.indexOf(o)>=0)&&(s[o]=e[o]);return s}function isModifiedEvent(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function shouldProcessLinkClick(e,i){return e.button===0&&(!i||i==="_self")&&!isModifiedEvent(e)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_excluded2=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const ViewTransitionContext=reactExports.createContext({isTransitioning:!1}),START_TRANSITION="startTransition",startTransitionImpl=React$3[START_TRANSITION];function BrowserRouter(e){let{basename:i,children:s,future:a,window:o}=e,c=reactExports.useRef();c.current==null&&(c.current=createBrowserHistory({window:o,v5Compat:!0}));let d=c.current,[h,g]=reactExports.useState({action:d.action,location:d.location}),{v7_startTransition:b}=a||{},_=reactExports.useCallback(j=>{b&&startTransitionImpl?startTransitionImpl(()=>g(j)):g(j)},[g,b]);return reactExports.useLayoutEffect(()=>d.listen(_),[d,_]),reactExports.useEffect(()=>logV6DeprecationWarnings(a),[a]),reactExports.createElement(Router,{basename:i,children:s,location:h.location,navigationType:h.action,navigator:d,future:a})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(i,s){let{onClick:a,relative:o,reloadDocument:c,replace:d,state:h,target:g,to:b,preventScrollReset:_,viewTransition:j}=i,$=_objectWithoutPropertiesLoose(i,_excluded),{basename:_e}=reactExports.useContext(NavigationContext),rt,nt=!1;if(typeof b=="string"&&ABSOLUTE_URL_REGEX.test(b)&&(rt=b,isBrowser$1))try{let it=new URL(window.location.href),pt=b.startsWith("//")?new URL(it.protocol+b):new URL(b),ot=stripBasename(pt.pathname,_e);pt.origin===it.origin&&ot!=null?b=ot+pt.search+pt.hash:nt=!0}catch{}let st=useHref(b,{relative:o}),tt=useLinkClickHandler(b,{replace:d,state:h,target:g,preventScrollReset:_,relative:o,viewTransition:j});function et(it){a&&a(it),it.defaultPrevented||tt(it)}return reactExports.createElement("a",_extends({},$,{href:rt||st,onClick:nt||c?a:et,ref:s,target:g}))}),NavLink=reactExports.forwardRef(function(i,s){let{"aria-current":a="page",caseSensitive:o=!1,className:c="",end:d=!1,style:h,to:g,viewTransition:b,children:_}=i,j=_objectWithoutPropertiesLoose(i,_excluded2),$=useResolvedPath(g,{relative:j.relative}),_e=useLocation(),rt=reactExports.useContext(DataRouterStateContext),{navigator:nt,basename:st}=reactExports.useContext(NavigationContext),tt=rt!=null&&useViewTransitionState($)&&b===!0,et=nt.encodeLocation?nt.encodeLocation($).pathname:$.pathname,it=_e.pathname,pt=rt&&rt.navigation&&rt.navigation.location?rt.navigation.location.pathname:null;o||(it=it.toLowerCase(),pt=pt?pt.toLowerCase():null,et=et.toLowerCase()),pt&&st&&(pt=stripBasename(pt,st)||pt);const ot=et!=="/"&&et.endsWith("/")?et.length-1:et.length;let at=it===et||!d&&it.startsWith(et)&&it.charAt(ot)==="/",xt=pt!=null&&(pt===et||!d&&pt.startsWith(et)&&pt.charAt(et.length)==="/"),gt={isActive:at,isPending:xt,isTransitioning:tt},ut=at?a:void 0,Et;typeof c=="function"?Et=c(gt):Et=[c,at?"active":null,xt?"pending":null,tt?"transitioning":null].filter(Boolean).join(" ");let vt=typeof h=="function"?h(gt):h;return reactExports.createElement(Link,_extends({},j,{"aria-current":ut,className:Et,ref:s,style:vt,to:g,viewTransition:b}),typeof _=="function"?_(gt):_)});var DataRouterHook;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useDataRouterContext(e){let i=reactExports.useContext(DataRouterContext);return i||invariant$1(!1),i}function useLinkClickHandler(e,i){let{target:s,replace:a,state:o,preventScrollReset:c,relative:d,viewTransition:h}=i===void 0?{}:i,g=useNavigate(),b=useLocation(),_=useResolvedPath(e,{relative:d});return reactExports.useCallback(j=>{if(shouldProcessLinkClick(j,s)){j.preventDefault();let $=a!==void 0?a:createPath(b)===createPath(_);g(e,{replace:$,state:o,preventScrollReset:c,relative:d,viewTransition:h})}},[b,g,_,a,o,s,e,c,d,h])}function useViewTransitionState(e,i){i===void 0&&(i={});let s=reactExports.useContext(ViewTransitionContext);s==null&&invariant$1(!1);let{basename:a}=useDataRouterContext(DataRouterHook.useViewTransitionState),o=useResolvedPath(e,{relative:i.relative});if(!s.isTransitioning)return!1;let c=stripBasename(s.currentLocation.pathname,a)||s.currentLocation.pathname,d=stripBasename(s.nextLocation.pathname,a)||s.nextLocation.pathname;return matchPath(o.pathname,d)!=null||matchPath(o.pathname,c)!=null}const MotionConfigContext=reactExports.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),PresenceContext=reactExports.createContext(null),isBrowser=typeof document<"u",useIsomorphicLayoutEffect=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1}),camelToDash=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId);function useVisualElement(e,i,s,a){const{visualElement:o}=reactExports.useContext(MotionContext),c=reactExports.useContext(LazyContext),d=reactExports.useContext(PresenceContext),h=reactExports.useContext(MotionConfigContext).reducedMotion,g=reactExports.useRef();a=a||c.renderer,!g.current&&a&&(g.current=a(e,{visualState:i,parent:o,props:s,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const b=g.current;reactExports.useInsertionEffect(()=>{b&&b.update(s,d)});const _=reactExports.useRef(!!(s[optimizedAppearDataAttribute]&&!window.HandoffComplete));return useIsomorphicLayoutEffect(()=>{b&&(b.render(),_.current&&b.animationState&&b.animationState.animateChanges())}),reactExports.useEffect(()=>{b&&(b.updateFeatures(),!_.current&&b.animationState&&b.animationState.animateChanges(),_.current&&(_.current=!1,window.HandoffComplete=!0))}),b}function isRefObject(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function useMotionRef(e,i,s){return reactExports.useCallback(a=>{a&&e.mount&&e.mount(a),i&&(a?i.mount(a):i.unmount()),s&&(typeof s=="function"?s(a):isRefObject(s)&&(s.current=a))},[i])}function isVariantLabel(e){return typeof e=="string"||Array.isArray(e)}function isAnimationControls(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(e){return isAnimationControls(e.animate)||variantProps.some(i=>isVariantLabel(e[i]))}function isVariantNode(e){return!!(isControllingVariants(e)||e.variants)}function getCurrentTreeVariants(e,i){if(isControllingVariants(e)){const{initial:s,animate:a}=e;return{initial:s===!1||isVariantLabel(s)?s:void 0,animate:isVariantLabel(a)?a:void 0}}return e.inherit!==!1?i:{}}function useCreateMotionContext(e){const{initial:i,animate:s}=getCurrentTreeVariants(e,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:i,animate:s}),[variantLabelsAsDependency(i),variantLabelsAsDependency(s)])}function variantLabelsAsDependency(e){return Array.isArray(e)?e.join(" "):e}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const e in featureProps)featureDefinitions[e]={isEnabled:i=>featureProps[e].some(s=>!!i[s])};function loadFeatures(e){for(const i in e)featureDefinitions[i]={...featureDefinitions[i],...e[i]}}const LayoutGroupContext=reactExports.createContext({}),SwitchLayoutGroupContext=reactExports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function createMotionComponent({preloadedFeatures:e,createVisualElement:i,useRender:s,useVisualState:a,Component:o}){e&&loadFeatures(e);function c(h,g){let b;const _={...reactExports.useContext(MotionConfigContext),...h,layoutId:useLayoutId(h)},{isStatic:j}=_,$=useCreateMotionContext(h),_e=a(h,j);if(!j&&isBrowser){$.visualElement=useVisualElement(o,_e,_,i);const rt=reactExports.useContext(SwitchLayoutGroupContext),nt=reactExports.useContext(LazyContext).strict;$.visualElement&&(b=$.visualElement.loadFeatures(_,nt,e,rt))}return reactExports.createElement(MotionContext.Provider,{value:$},b&&$.visualElement?reactExports.createElement(b,{visualElement:$.visualElement,..._}):null,s(o,h,useMotionRef(_e,$.visualElement,g),_e,j,$.visualElement))}const d=reactExports.forwardRef(c);return d[motionComponentSymbol]=o,d}function useLayoutId({layoutId:e}){const i=reactExports.useContext(LayoutGroupContext).id;return i&&e!==void 0?i+"-"+e:e}function createMotionProxy(e){function i(a,o={}){return createMotionComponent(e(a,o))}if(typeof Proxy>"u")return i;const s=new Map;return new Proxy(i,{get:(a,o)=>(s.has(o)||s.set(o,i(o)),s.get(o))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(e){return typeof e!="string"||e.includes("-")?!1:!!(lowercaseSVGElements.indexOf(e)>-1||/[A-Z]/.test(e))}const scaleCorrectors={};function addScaleCorrector(e){Object.assign(scaleCorrectors,e)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(e,{layout:i,layoutId:s}){return transformProps.has(e)||e.startsWith("origin")||(i||s!==void 0)&&(!!scaleCorrectors[e]||e==="opacity")}const isMotionValue=e=>!!(e&&e.getVelocity),translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(e,{enableHardwareAcceleration:i=!0,allowTransformNone:s=!0},a,o){let c="";for(let d=0;d<numTransforms;d++){const h=transformPropOrder[d];if(e[h]!==void 0){const g=translateAlias[h]||h;c+=`${g}(${e[h]}) `}}return i&&!e.z&&(c+="translateZ(0)"),c=c.trim(),o?c=o(e,a?"":c):s&&a&&(c="none"),c}const checkStringStartsWith=e=>i=>typeof i=="string"&&i.startsWith(e),isCSSVariableName=checkStringStartsWith("--"),isCSSVariableToken=checkStringStartsWith("var(--"),cssVariableRegex=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,getValueAsType=(e,i)=>i&&typeof e=="number"?i.transform(e):e,clamp=(e,i,s)=>Math.min(Math.max(s,e),i),number$1={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},alpha={...number$1,transform:e=>clamp(0,1,e)},scale={...number$1,default:1},sanitize=e=>Math.round(e*1e5)/1e5,floatRegex=/(-)?([\d]*\.?[\d])+/g,colorRegex=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,singleColorRegex=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function isString(e){return typeof e=="string"}const createUnitType=e=>({test:i=>isString(i)&&i.endsWith(e)&&i.split(" ").length===1,parse:parseFloat,transform:i=>`${i}${e}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:e=>percent.parse(e)/100,transform:e=>percent.transform(e*100)},int={...number$1,transform:Math.round},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,size:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px,zIndex:int,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int};function buildHTMLStyles(e,i,s,a){const{style:o,vars:c,transform:d,transformOrigin:h}=e;let g=!1,b=!1,_=!0;for(const j in i){const $=i[j];if(isCSSVariableName(j)){c[j]=$;continue}const _e=numberValueTypes[j],rt=getValueAsType($,_e);if(transformProps.has(j)){if(g=!0,d[j]=rt,!_)continue;$!==(_e.default||0)&&(_=!1)}else j.startsWith("origin")?(b=!0,h[j]=rt):o[j]=rt}if(i.transform||(g||a?o.transform=buildTransform(e.transform,s,_,a):o.transform&&(o.transform="none")),b){const{originX:j="50%",originY:$="50%",originZ:_e=0}=h;o.transformOrigin=`${j} ${$} ${_e}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(e,i,s){for(const a in i)!isMotionValue(i[a])&&!isForcedMotionValue(a,s)&&(e[a]=i[a])}function useInitialMotionValues({transformTemplate:e},i,s){return reactExports.useMemo(()=>{const a=createHtmlRenderState();return buildHTMLStyles(a,i,{enableHardwareAcceleration:!s},e),Object.assign({},a.vars,a.style)},[i])}function useStyle(e,i,s){const a=e.style||{},o={};return copyRawValuesOnly(o,a,e),Object.assign(o,useInitialMotionValues(e,i,s)),e.transformValues?e.transformValues(o):o}function useHTMLProps(e,i,s){const a={},o=useStyle(e,i,s);return e.drag&&e.dragListener!==!1&&(a.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(a.tabIndex=0),a.style=o,a}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||validMotionProps.has(e)}let shouldForward=e=>!isValidMotionProp(e);function loadExternalIsValidProp(e){e&&(shouldForward=i=>i.startsWith("on")?!isValidMotionProp(i):e(i))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(e,i,s){const a={};for(const o in e)o==="values"&&typeof e.values=="object"||(shouldForward(o)||s===!0&&isValidMotionProp(o)||!i&&!isValidMotionProp(o)||e.draggable&&o.startsWith("onDrag"))&&(a[o]=e[o]);return a}function calcOrigin$1(e,i,s){return typeof e=="string"?e:px.transform(i+s*e)}function calcSVGTransformOrigin(e,i,s){const a=calcOrigin$1(i,e.x,e.width),o=calcOrigin$1(s,e.y,e.height);return`${a} ${o}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(e,i,s=1,a=0,o=!0){e.pathLength=1;const c=o?dashKeys:camelKeys;e[c.offset]=px.transform(-a);const d=px.transform(i),h=px.transform(s);e[c.array]=`${d} ${h}`}function buildSVGAttrs(e,{attrX:i,attrY:s,attrScale:a,originX:o,originY:c,pathLength:d,pathSpacing:h=1,pathOffset:g=0,...b},_,j,$){if(buildHTMLStyles(e,b,_,$),j){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_e,style:rt,dimensions:nt}=e;_e.transform&&(nt&&(rt.transform=_e.transform),delete _e.transform),nt&&(o!==void 0||c!==void 0||rt.transform)&&(rt.transformOrigin=calcSVGTransformOrigin(nt,o!==void 0?o:.5,c!==void 0?c:.5)),i!==void 0&&(_e.x=i),s!==void 0&&(_e.y=s),a!==void 0&&(_e.scale=a),d!==void 0&&buildSVGPath(_e,d,h,g,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=e=>typeof e=="string"&&e.toLowerCase()==="svg";function useSVGProps(e,i,s,a){const o=reactExports.useMemo(()=>{const c=createSvgRenderState();return buildSVGAttrs(c,i,{enableHardwareAcceleration:!1},isSVGTag(a),e.transformTemplate),{...c.attrs,style:{...c.style}}},[i]);if(e.style){const c={};copyRawValuesOnly(c,e.style,e),o.style={...c,...o.style}}return o}function createUseRender(e=!1){return(s,a,o,{latestValues:c},d)=>{const g=(isSVGComponent(s)?useSVGProps:useHTMLProps)(a,c,d,s),_={...filterProps(a,typeof s=="string",e),...g,ref:o},{children:j}=a,$=reactExports.useMemo(()=>isMotionValue(j)?j.get():j,[j]);return reactExports.createElement(s,{..._,children:$})}}function renderHTML(e,{style:i,vars:s},a,o){Object.assign(e.style,i,o&&o.getProjectionStyles(a));for(const c in s)e.style.setProperty(c,s[c])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(e,i,s,a){renderHTML(e,i,void 0,a);for(const o in i.attrs)e.setAttribute(camelCaseAttributes.has(o)?o:camelToDash(o),i.attrs[o])}function scrapeMotionValuesFromProps$1(e,i){const{style:s}=e,a={};for(const o in s)(isMotionValue(s[o])||i.style&&isMotionValue(i.style[o])||isForcedMotionValue(o,e))&&(a[o]=s[o]);return a}function scrapeMotionValuesFromProps(e,i){const s=scrapeMotionValuesFromProps$1(e,i);for(const a in e)if(isMotionValue(e[a])||isMotionValue(i[a])){const o=transformPropOrder.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[o]=e[a]}return s}function resolveVariantFromProps(e,i,s,a={},o={}){return typeof i=="function"&&(i=i(s!==void 0?s:e.custom,a,o)),typeof i=="string"&&(i=e.variants&&e.variants[i]),typeof i=="function"&&(i=i(s!==void 0?s:e.custom,a,o)),i}function useConstant(e){const i=reactExports.useRef(null);return i.current===null&&(i.current=e()),i.current}const isKeyframesTarget=e=>Array.isArray(e),isCustomValue=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),resolveFinalValueInKeyframes=e=>isKeyframesTarget(e)?e[e.length-1]||0:e;function resolveMotionValue(e){const i=isMotionValue(e)?e.get():e;return isCustomValue(i)?i.toValue():i}function makeState({scrapeMotionValuesFromProps:e,createRenderState:i,onMount:s},a,o,c){const d={latestValues:makeLatestValues(a,o,c,e),renderState:i()};return s&&(d.mount=h=>s(a,h,d)),d}const makeUseVisualState=e=>(i,s)=>{const a=reactExports.useContext(MotionContext),o=reactExports.useContext(PresenceContext),c=()=>makeState(e,i,a,o);return s?c():useConstant(c)};function makeLatestValues(e,i,s,a){const o={},c=a(e,{});for(const $ in c)o[$]=resolveMotionValue(c[$]);let{initial:d,animate:h}=e;const g=isControllingVariants(e),b=isVariantNode(e);i&&b&&!g&&e.inherit!==!1&&(d===void 0&&(d=i.initial),h===void 0&&(h=i.animate));let _=s?s.initial===!1:!1;_=_||d===!1;const j=_?h:d;return j&&typeof j!="boolean"&&!isAnimationControls(j)&&(Array.isArray(j)?j:[j]).forEach(_e=>{const rt=resolveVariantFromProps(e,_e);if(!rt)return;const{transitionEnd:nt,transition:st,...tt}=rt;for(const et in tt){let it=tt[et];if(Array.isArray(it)){const pt=_?it.length-1:0;it=it[pt]}it!==null&&(o[et]=it)}for(const et in nt)o[et]=nt[et]}),o}const noop=e=>e;class Queue{constructor(){this.order=[],this.scheduled=new Set}add(i){if(!this.scheduled.has(i))return this.scheduled.add(i),this.order.push(i),!0}remove(i){const s=this.order.indexOf(i);s!==-1&&(this.order.splice(s,1),this.scheduled.delete(i))}clear(){this.order.length=0,this.scheduled.clear()}}function createRenderStep(e){let i=new Queue,s=new Queue,a=0,o=!1,c=!1;const d=new WeakSet,h={schedule:(g,b=!1,_=!1)=>{const j=_&&o,$=j?i:s;return b&&d.add(g),$.add(g)&&j&&o&&(a=i.order.length),g},cancel:g=>{s.remove(g),d.delete(g)},process:g=>{if(o){c=!0;return}if(o=!0,[i,s]=[s,i],s.clear(),a=i.order.length,a)for(let b=0;b<a;b++){const _=i.order[b];_(g),d.has(_)&&(h.schedule(_),e())}o=!1,c&&(c=!1,h.process(g))}};return h}const stepsOrder=["prepare","read","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(e,i){let s=!1,a=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=stepsOrder.reduce((j,$)=>(j[$]=createRenderStep(()=>s=!0),j),{}),d=j=>c[j].process(o),h=()=>{const j=performance.now();s=!1,o.delta=a?1e3/60:Math.max(Math.min(j-o.timestamp,maxElapsed),1),o.timestamp=j,o.isProcessing=!0,stepsOrder.forEach(d),o.isProcessing=!1,s&&i&&(a=!1,e(h))},g=()=>{s=!0,a=!0,o.isProcessing||e(h)};return{schedule:stepsOrder.reduce((j,$)=>{const _e=c[$];return j[$]=(rt,nt=!1,st=!1)=>(s||g(),_e.schedule(rt,nt,st)),j},{}),cancel:j=>stepsOrder.forEach($=>c[$].cancel(j)),state:o,steps:c}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop,!0),svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(e,i,{renderState:s,latestValues:a})=>{frame.read(()=>{try{s.dimensions=typeof i.getBBox=="function"?i.getBBox():i.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs(s,a,{enableHardwareAcceleration:!1},isSVGTag(i.tagName),e.transformTemplate),renderSVG(i,s)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(e,{forwardMotionProps:i=!1},s,a){return{...isSVGComponent(e)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:s,useRender:createUseRender(i),createVisualElement:a,Component:e}}function addDomEvent(e,i,s,a={passive:!0}){return e.addEventListener(i,s,a),()=>e.removeEventListener(i,s)}const isPrimaryPointer=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function extractEventInfo(e,i="page"){return{point:{x:e[i+"X"],y:e[i+"Y"]}}}const addPointerInfo=e=>i=>isPrimaryPointer(i)&&e(i,extractEventInfo(i));function addPointerEvent(e,i,s,a){return addDomEvent(e,i,addPointerInfo(s),a)}const combineFunctions=(e,i)=>s=>i(e(s)),pipe=(...e)=>e.reduce(combineFunctions);function createLock(e){let i=null;return()=>{const s=()=>{i=null};return i===null?(i=e,s):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(e){let i=!1;if(e==="y")i=globalVerticalLock();else if(e==="x")i=globalHorizontalLock();else{const s=globalHorizontalLock(),a=globalVerticalLock();s&&a?i=()=>{s(),a()}:(s&&s(),a&&a())}return i}function isDragActive(){const e=getGlobalLock(!0);return e?(e(),!1):!0}class Feature{constructor(i){this.isMounted=!1,this.node=i}update(){}}function addHoverEvent(e,i){const s="pointer"+(i?"enter":"leave"),a="onHover"+(i?"Start":"End"),o=(c,d)=>{if(c.pointerType==="touch"||isDragActive())return;const h=e.getProps();e.animationState&&h.whileHover&&e.animationState.setActive("whileHover",i),h[a]&&frame.update(()=>h[a](c,d))};return addPointerEvent(e.current,s,o,{passive:!e.getProps()[a]})}class HoverGesture extends Feature{mount(){this.unmount=pipe(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let i=!1;try{i=this.node.current.matches(":focus-visible")}catch{i=!0}!i||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(e,i)=>i?e===i?!0:isNodeOrChild(e,i.parentElement):!1;function fireSyntheticPointerEvent(e,i){if(!i)return;const s=new PointerEvent("pointer"+e);i(s,extractEventInfo(s))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop,this.removeEndListeners=noop,this.removeAccessibleListeners=noop,this.startPointerPress=(i,s)=>{if(this.isPressing)return;this.removeEndListeners();const a=this.node.getProps(),c=addPointerEvent(window,"pointerup",(h,g)=>{if(!this.checkPressEnd())return;const{onTap:b,onTapCancel:_,globalTapTarget:j}=this.node.getProps();frame.update(()=>{!j&&!isNodeOrChild(this.node.current,h.target)?_&&_(h,g):b&&b(h,g)})},{passive:!(a.onTap||a.onPointerUp)}),d=addPointerEvent(window,"pointercancel",(h,g)=>this.cancelPress(h,g),{passive:!(a.onTapCancel||a.onPointerCancel)});this.removeEndListeners=pipe(c,d),this.startPress(i,s)},this.startAccessiblePress=()=>{const i=c=>{if(c.key!=="Enter"||this.isPressing)return;const d=h=>{h.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(g,b)=>{const{onTap:_}=this.node.getProps();_&&frame.update(()=>_(g,b))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",d),fireSyntheticPointerEvent("down",(h,g)=>{this.startPress(h,g)})},s=addDomEvent(this.node.current,"keydown",i),a=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(c,d)=>this.cancelPress(c,d))},o=addDomEvent(this.node.current,"blur",a);this.removeAccessibleListeners=pipe(s,o)}}startPress(i,s){this.isPressing=!0;const{onTapStart:a,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),a&&frame.update(()=>a(i,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress(i,s){if(!this.checkPressEnd())return;const{onTapCancel:a}=this.node.getProps();a&&frame.update(()=>a(i,s))}mount(){const i=this.node.getProps(),s=addPointerEvent(i.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(i.onTapStart||i.onPointerStart)}),a=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe(s,a)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=e=>{const i=observerCallbacks.get(e.target);i&&i(e)},fireAllObserverCallbacks=e=>{e.forEach(fireObserverCallback)};function initIntersectionObserver({root:e,...i}){const s=e||document;observers.has(s)||observers.set(s,{});const a=observers.get(s),o=JSON.stringify(i);return a[o]||(a[o]=new IntersectionObserver(fireAllObserverCallbacks,{root:e,...i})),a[o]}function observeIntersection(e,i,s){const a=initIntersectionObserver(i);return observerCallbacks.set(e,s),a.observe(e),()=>{observerCallbacks.delete(e),a.unobserve(e)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:i={}}=this.node.getProps(),{root:s,margin:a,amount:o="some",once:c}=i,d={root:s?s.current:void 0,rootMargin:a,threshold:typeof o=="number"?o:thresholdNames[o]},h=g=>{const{isIntersecting:b}=g;if(this.isInView===b||(this.isInView=b,c&&!b&&this.hasEnteredView))return;b&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",b);const{onViewportEnter:_,onViewportLeave:j}=this.node.getProps(),$=b?_:j;$&&$(g)};return observeIntersection(this.node.current,d,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:i,prevProps:s}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(i,s))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:e={}},{viewport:i={}}={}){return s=>e[s]!==i[s]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}};function shallowCompare(e,i){if(!Array.isArray(i))return!1;const s=i.length;if(s!==e.length)return!1;for(let a=0;a<s;a++)if(i[a]!==e[a])return!1;return!0}function getCurrent(e){const i={};return e.values.forEach((s,a)=>i[a]=s.get()),i}function getVelocity$1(e){const i={};return e.values.forEach((s,a)=>i[a]=s.getVelocity()),i}function resolveVariant(e,i,s){const a=e.getProps();return resolveVariantFromProps(a,i,s!==void 0?s:a.custom,getCurrent(e),getVelocity$1(e))}let warning=noop,invariant=noop;const secondsToMilliseconds=e=>e*1e3,millisecondsToSeconds=e=>e/1e3,instantAnimationState={current:!1},isBezierDefinition=e=>Array.isArray(e)&&typeof e[0]=="number";function isWaapiSupportedEasing(e){return!!(!e||typeof e=="string"&&supportedWaapiEasing[e]||isBezierDefinition(e)||Array.isArray(e)&&e.every(isWaapiSupportedEasing))}const cubicBezierAsString=([e,i,s,a])=>`cubic-bezier(${e}, ${i}, ${s}, ${a})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(e){if(e)return isBezierDefinition(e)?cubicBezierAsString(e):Array.isArray(e)?e.map(mapEasingToNativeEasing):supportedWaapiEasing[e]}function animateStyle(e,i,s,{delay:a=0,duration:o,repeat:c=0,repeatType:d="loop",ease:h,times:g}={}){const b={[i]:s};g&&(b.offset=g);const _=mapEasingToNativeEasing(h);return Array.isArray(_)&&(b.easing=_),e.animate(b,{delay:a,duration:o,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:c+1,direction:d==="reverse"?"alternate":"normal"})}function getFinalKeyframe(e,{repeat:i,repeatType:s="loop"}){const a=i&&s!=="loop"&&i%2===1?0:e.length-1;return e[a]}const calcBezier=(e,i,s)=>(((1-3*s+3*i)*e+(3*s-6*i))*e+3*i)*e,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(e,i,s,a,o){let c,d,h=0;do d=i+(s-i)/2,c=calcBezier(d,a,o)-e,c>0?s=d:i=d;while(Math.abs(c)>subdivisionPrecision&&++h<subdivisionMaxIterations);return d}function cubicBezier(e,i,s,a){if(e===i&&s===a)return noop;const o=c=>binarySubdivide(c,0,1,e,s);return c=>c===0||c===1?c:calcBezier(o(c),i,a)}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=e=>Array.isArray(e)&&typeof e[0]!="number",mirrorEasing=e=>i=>i<=.5?e(2*i)/2:(2-e(2*(1-i)))/2,reverseEasing=e=>i=>1-e(1-i),circIn=e=>1-Math.sin(Math.acos(e)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=e=>(e*=2)<1?.5*backIn(e):.5*(2-Math.pow(2,-10*(e-1))),easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=e=>{if(Array.isArray(e)){invariant(e.length===4);const[i,s,a,o]=e;return cubicBezier(i,s,a,o)}else if(typeof e=="string")return easingLookup[e];return e},isColorString=(e,i)=>s=>!!(isString(s)&&singleColorRegex.test(s)&&s.startsWith(e)||i&&Object.prototype.hasOwnProperty.call(s,i)),splitColor=(e,i,s)=>a=>{if(!isString(a))return a;const[o,c,d,h]=a.match(floatRegex);return{[e]:parseFloat(o),[i]:parseFloat(c),[s]:parseFloat(d),alpha:h!==void 0?parseFloat(h):1}},clampRgbUnit=e=>clamp(0,255,e),rgbUnit={...number$1,transform:e=>Math.round(clampRgbUnit(e))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:e,green:i,blue:s,alpha:a=1})=>"rgba("+rgbUnit.transform(e)+", "+rgbUnit.transform(i)+", "+rgbUnit.transform(s)+", "+sanitize(alpha.transform(a))+")"};function parseHex(e){let i="",s="",a="",o="";return e.length>5?(i=e.substring(1,3),s=e.substring(3,5),a=e.substring(5,7),o=e.substring(7,9)):(i=e.substring(1,2),s=e.substring(2,3),a=e.substring(3,4),o=e.substring(4,5),i+=i,s+=s,a+=a,o+=o),{red:parseInt(i,16),green:parseInt(s,16),blue:parseInt(a,16),alpha:o?parseInt(o,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:e,saturation:i,lightness:s,alpha:a=1})=>"hsla("+Math.round(e)+", "+percent.transform(sanitize(i))+", "+percent.transform(sanitize(s))+", "+sanitize(alpha.transform(a))+")"},color$1={test:e=>rgba.test(e)||hex.test(e)||hsla.test(e),parse:e=>rgba.test(e)?rgba.parse(e):hsla.test(e)?hsla.parse(e):hex.parse(e),transform:e=>isString(e)?e:e.hasOwnProperty("red")?rgba.transform(e):hsla.transform(e)},mix=(e,i,s)=>-s*e+s*i+e;function hueToRgb(e,i,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(i-e)*6*s:s<1/2?i:s<2/3?e+(i-e)*(2/3-s)*6:e}function hslaToRgba({hue:e,saturation:i,lightness:s,alpha:a}){e/=360,i/=100,s/=100;let o=0,c=0,d=0;if(!i)o=c=d=s;else{const h=s<.5?s*(1+i):s+i-s*i,g=2*s-h;o=hueToRgb(g,h,e+1/3),c=hueToRgb(g,h,e),d=hueToRgb(g,h,e-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(d*255),alpha:a}}const mixLinearColor=(e,i,s)=>{const a=e*e;return Math.sqrt(Math.max(0,s*(i*i-a)+a))},colorTypes=[hex,rgba,hsla],getColorType=e=>colorTypes.find(i=>i.test(e));function asRGBA(e){const i=getColorType(e);let s=i.parse(e);return i===hsla&&(s=hslaToRgba(s)),s}const mixColor=(e,i)=>{const s=asRGBA(e),a=asRGBA(i),o={...s};return c=>(o.red=mixLinearColor(s.red,a.red,c),o.green=mixLinearColor(s.green,a.green,c),o.blue=mixLinearColor(s.blue,a.blue,c),o.alpha=mix(s.alpha,a.alpha,c),rgba.transform(o))};function test(e){var i,s;return isNaN(e)&&isString(e)&&(((i=e.match(floatRegex))===null||i===void 0?void 0:i.length)||0)+(((s=e.match(colorRegex))===null||s===void 0?void 0:s.length)||0)>0}const cssVarTokeniser={regex:cssVariableRegex,countKey:"Vars",token:"${v}",parse:noop},colorTokeniser={regex:colorRegex,countKey:"Colors",token:"${c}",parse:color$1.parse},numberTokeniser={regex:floatRegex,countKey:"Numbers",token:"${n}",parse:number$1.parse};function tokenise(e,{regex:i,countKey:s,token:a,parse:o}){const c=e.tokenised.match(i);c&&(e["num"+s]=c.length,e.tokenised=e.tokenised.replace(i,a),e.values.push(...c.map(o)))}function analyseComplexValue(e){const i=e.toString(),s={value:i,tokenised:i,values:[],numVars:0,numColors:0,numNumbers:0};return s.value.includes("var(--")&&tokenise(s,cssVarTokeniser),tokenise(s,colorTokeniser),tokenise(s,numberTokeniser),s}function parseComplexValue(e){return analyseComplexValue(e).values}function createTransformer(e){const{values:i,numColors:s,numVars:a,tokenised:o}=analyseComplexValue(e),c=i.length;return d=>{let h=o;for(let g=0;g<c;g++)g<a?h=h.replace(cssVarTokeniser.token,d[g]):g<a+s?h=h.replace(colorTokeniser.token,color$1.transform(d[g])):h=h.replace(numberTokeniser.token,sanitize(d[g]));return h}}const convertNumbersToZero=e=>typeof e=="number"?0:e;function getAnimatableNone$1(e){const i=parseComplexValue(e);return createTransformer(e)(i.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},mixImmediate=(e,i)=>s=>`${s>0?i:e}`;function getMixer(e,i){return typeof e=="number"?s=>mix(e,i,s):color$1.test(e)?mixColor(e,i):e.startsWith("var(")?mixImmediate(e,i):mixComplex(e,i)}const mixArray=(e,i)=>{const s=[...e],a=s.length,o=e.map((c,d)=>getMixer(c,i[d]));return c=>{for(let d=0;d<a;d++)s[d]=o[d](c);return s}},mixObject=(e,i)=>{const s={...e,...i},a={};for(const o in s)e[o]!==void 0&&i[o]!==void 0&&(a[o]=getMixer(e[o],i[o]));return o=>{for(const c in a)s[c]=a[c](o);return s}},mixComplex=(e,i)=>{const s=complex.createTransformer(i),a=analyseComplexValue(e),o=analyseComplexValue(i);return a.numVars===o.numVars&&a.numColors===o.numColors&&a.numNumbers>=o.numNumbers?pipe(mixArray(a.values,o.values),s):mixImmediate(e,i)},progress=(e,i,s)=>{const a=i-e;return a===0?1:(s-e)/a},mixNumber=(e,i)=>s=>mix(e,i,s);function detectMixerFactory(e){return typeof e=="number"?mixNumber:typeof e=="string"?color$1.test(e)?mixColor:mixComplex:Array.isArray(e)?mixArray:typeof e=="object"?mixObject:mixNumber}function createMixers(e,i,s){const a=[],o=s||detectMixerFactory(e[0]),c=e.length-1;for(let d=0;d<c;d++){let h=o(e[d],e[d+1]);if(i){const g=Array.isArray(i)?i[d]||noop:i;h=pipe(g,h)}a.push(h)}return a}function interpolate$1(e,i,{clamp:s=!0,ease:a,mixer:o}={}){const c=e.length;if(invariant(c===i.length),c===1)return()=>i[0];e[0]>e[c-1]&&(e=[...e].reverse(),i=[...i].reverse());const d=createMixers(i,a,o),h=d.length,g=b=>{let _=0;if(h>1)for(;_<e.length-2&&!(b<e[_+1]);_++);const j=progress(e[_],e[_+1],b);return d[_](j)};return s?b=>g(clamp(e[0],e[c-1],b)):g}function fillOffset(e,i){const s=e[e.length-1];for(let a=1;a<=i;a++){const o=progress(0,i,a);e.push(mix(s,1,o))}}function defaultOffset(e){const i=[0];return fillOffset(i,e.length-1),i}function convertOffsetToTimes(e,i){return e.map(s=>s*i)}function defaultEasing(e,i){return e.map(()=>i||easeInOut).splice(0,e.length-1)}function keyframes({duration:e=300,keyframes:i,times:s,ease:a="easeInOut"}){const o=isEasingArray(a)?a.map(easingDefinitionToFunction):easingDefinitionToFunction(a),c={done:!1,value:i[0]},d=convertOffsetToTimes(s&&s.length===i.length?s:defaultOffset(i),e),h=interpolate$1(d,i,{ease:Array.isArray(o)?o:defaultEasing(i,o)});return{calculatedDuration:e,next:g=>(c.value=h(g),c.done=g>=e,c)}}function velocityPerSecond(e,i){return i?e*(1e3/i):0}const velocitySampleDuration=5;function calcGeneratorVelocity(e,i,s){const a=Math.max(i-velocitySampleDuration,0);return velocityPerSecond(s-e(a),i-a)}const safeMin=.001,minDuration=.01,maxDuration$1=10,minDamping=.05,maxDamping=1;function findSpring({duration:e=800,bounce:i=.25,velocity:s=0,mass:a=1}){let o,c;warning(e<=secondsToMilliseconds(maxDuration$1));let d=1-i;d=clamp(minDamping,maxDamping,d),e=clamp(minDuration,maxDuration$1,millisecondsToSeconds(e)),d<1?(o=b=>{const _=b*d,j=_*e,$=_-s,_e=calcAngularFreq(b,d),rt=Math.exp(-j);return safeMin-$/_e*rt},c=b=>{const j=b*d*e,$=j*s+s,_e=Math.pow(d,2)*Math.pow(b,2)*e,rt=Math.exp(-j),nt=calcAngularFreq(Math.pow(b,2),d);return(-o(b)+safeMin>0?-1:1)*(($-_e)*rt)/nt}):(o=b=>{const _=Math.exp(-b*e),j=(b-s)*e+1;return-safeMin+_*j},c=b=>{const _=Math.exp(-b*e),j=(s-b)*(e*e);return _*j});const h=5/e,g=approximateRoot(o,c,h);if(e=secondsToMilliseconds(e),isNaN(g))return{stiffness:100,damping:10,duration:e};{const b=Math.pow(g,2)*a;return{stiffness:b,damping:d*2*Math.sqrt(a*b),duration:e}}}const rootIterations=12;function approximateRoot(e,i,s){let a=s;for(let o=1;o<rootIterations;o++)a=a-e(a)/i(a);return a}function calcAngularFreq(e,i){return e*Math.sqrt(1-i*i)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(e,i){return i.some(s=>e[s]!==void 0)}function getSpringOptions(e){let i={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!isSpringType(e,physicsKeys)&&isSpringType(e,durationKeys)){const s=findSpring(e);i={...i,...s,mass:1},i.isResolvedFromDuration=!0}return i}function spring({keyframes:e,restDelta:i,restSpeed:s,...a}){const o=e[0],c=e[e.length-1],d={done:!1,value:o},{stiffness:h,damping:g,mass:b,duration:_,velocity:j,isResolvedFromDuration:$}=getSpringOptions({...a,velocity:-millisecondsToSeconds(a.velocity||0)}),_e=j||0,rt=g/(2*Math.sqrt(h*b)),nt=c-o,st=millisecondsToSeconds(Math.sqrt(h/b)),tt=Math.abs(nt)<5;s||(s=tt?.01:2),i||(i=tt?.005:.5);let et;if(rt<1){const it=calcAngularFreq(st,rt);et=pt=>{const ot=Math.exp(-rt*st*pt);return c-ot*((_e+rt*st*nt)/it*Math.sin(it*pt)+nt*Math.cos(it*pt))}}else if(rt===1)et=it=>c-Math.exp(-st*it)*(nt+(_e+st*nt)*it);else{const it=st*Math.sqrt(rt*rt-1);et=pt=>{const ot=Math.exp(-rt*st*pt),at=Math.min(it*pt,300);return c-ot*((_e+rt*st*nt)*Math.sinh(at)+it*nt*Math.cosh(at))/it}}return{calculatedDuration:$&&_||null,next:it=>{const pt=et(it);if($)d.done=it>=_;else{let ot=_e;it!==0&&(rt<1?ot=calcGeneratorVelocity(et,it,pt):ot=0);const at=Math.abs(ot)<=s,xt=Math.abs(c-pt)<=i;d.done=at&&xt}return d.value=d.done?c:pt,d}}}function inertia({keyframes:e,velocity:i=0,power:s=.8,timeConstant:a=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:d,min:h,max:g,restDelta:b=.5,restSpeed:_}){const j=e[0],$={done:!1,value:j},_e=gt=>h!==void 0&&gt<h||g!==void 0&&gt>g,rt=gt=>h===void 0?g:g===void 0||Math.abs(h-gt)<Math.abs(g-gt)?h:g;let nt=s*i;const st=j+nt,tt=d===void 0?st:d(st);tt!==st&&(nt=tt-j);const et=gt=>-nt*Math.exp(-gt/a),it=gt=>tt+et(gt),pt=gt=>{const ut=et(gt),Et=it(gt);$.done=Math.abs(ut)<=b,$.value=$.done?tt:Et};let ot,at;const xt=gt=>{_e($.value)&&(ot=gt,at=spring({keyframes:[$.value,rt($.value)],velocity:calcGeneratorVelocity(it,gt,$.value),damping:o,stiffness:c,restDelta:b,restSpeed:_}))};return xt(0),{calculatedDuration:null,next:gt=>{let ut=!1;return!at&&ot===void 0&&(ut=!0,pt(gt),xt(gt)),ot!==void 0&&gt>ot?at.next(gt-ot):(!ut&&pt(gt),$)}}}const frameloopDriver=e=>{const i=({timestamp:s})=>e(s);return{start:()=>frame.update(i,!0),stop:()=>cancelFrame(i),now:()=>frameData.isProcessing?frameData.timestamp:performance.now()}},maxGeneratorDuration=2e4;function calcGeneratorDuration(e){let i=0;const s=50;let a=e.next(i);for(;!a.done&&i<maxGeneratorDuration;)i+=s,a=e.next(i);return i>=maxGeneratorDuration?1/0:i}const types$1={decay:inertia,inertia,tween:keyframes,keyframes,spring};function animateValue({autoplay:e=!0,delay:i=0,driver:s=frameloopDriver,keyframes:a,type:o="keyframes",repeat:c=0,repeatDelay:d=0,repeatType:h="loop",onPlay:g,onStop:b,onComplete:_,onUpdate:j,...$}){let _e=1,rt=!1,nt,st;const tt=()=>{st=new Promise(Qt=>{nt=Qt})};tt();let et;const it=types$1[o]||keyframes;let pt;it!==keyframes&&typeof a[0]!="number"&&(pt=interpolate$1([0,100],a,{clamp:!1}),a=[0,100]);const ot=it({...$,keyframes:a});let at;h==="mirror"&&(at=it({...$,keyframes:[...a].reverse(),velocity:-($.velocity||0)}));let xt="idle",gt=null,ut=null,Et=null;ot.calculatedDuration===null&&c&&(ot.calculatedDuration=calcGeneratorDuration(ot));const{calculatedDuration:vt}=ot;let _t=1/0,jt=1/0;vt!==null&&(_t=vt+d,jt=_t*(c+1)-d);let kt=0;const It=Qt=>{if(ut===null)return;_e>0&&(ut=Math.min(ut,Qt)),_e<0&&(ut=Math.min(Qt-jt/_e,ut)),gt!==null?kt=gt:kt=Math.round(Qt-ut)*_e;const nn=kt-i*(_e>=0?1:-1),dt=_e>=0?nn<0:nn>jt;kt=Math.max(nn,0),xt==="finished"&&gt===null&&(kt=jt);let ct=kt,mt=ot;if(c){const Ct=Math.min(kt,jt)/_t;let Rt=Math.floor(Ct),Mt=Ct%1;!Mt&&Ct>=1&&(Mt=1),Mt===1&&Rt--,Rt=Math.min(Rt,c+1),!!(Rt%2)&&(h==="reverse"?(Mt=1-Mt,d&&(Mt-=d/_t)):h==="mirror"&&(mt=at)),ct=clamp(0,1,Mt)*_t}const ht=dt?{done:!1,value:a[0]}:mt.next(ct);pt&&(ht.value=pt(ht.value));let{done:yt}=ht;!dt&&vt!==null&&(yt=_e>=0?kt>=jt:kt<=0);const wt=gt===null&&(xt==="finished"||xt==="running"&&yt);return j&&j(ht.value),wt&&St(),ht},Vt=()=>{et&&et.stop(),et=void 0},Ht=()=>{xt="idle",Vt(),nt(),tt(),ut=Et=null},St=()=>{xt="finished",_&&_(),Vt(),nt()},Nt=()=>{if(rt)return;et||(et=s(It));const Qt=et.now();g&&g(),gt!==null?ut=Qt-gt:(!ut||xt==="finished")&&(ut=Qt),xt==="finished"&&tt(),Et=ut,gt=null,xt="running",et.start()};e&&Nt();const bt={then(Qt,nn){return st.then(Qt,nn)},get time(){return millisecondsToSeconds(kt)},set time(Qt){Qt=secondsToMilliseconds(Qt),kt=Qt,gt!==null||!et||_e===0?gt=Qt:ut=et.now()-Qt/_e},get duration(){const Qt=ot.calculatedDuration===null?calcGeneratorDuration(ot):ot.calculatedDuration;return millisecondsToSeconds(Qt)},get speed(){return _e},set speed(Qt){Qt===_e||!et||(_e=Qt,bt.time=millisecondsToSeconds(kt))},get state(){return xt},play:Nt,pause:()=>{xt="paused",gt=kt},stop:()=>{rt=!0,xt!=="idle"&&(xt="idle",b&&b(),Ht())},cancel:()=>{Et!==null&&It(Et),Ht()},complete:()=>{xt="finished"},sample:Qt=>(ut=0,It(Qt))};return bt}function memo(e){let i;return()=>(i===void 0&&(i=e()),i)}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),acceleratedValues=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),sampleDelta=10,maxDuration=2e4,requiresPregeneratedKeyframes=(e,i)=>i.type==="spring"||e==="backgroundColor"||!isWaapiSupportedEasing(i.ease);function createAcceleratedAnimation(e,i,{onUpdate:s,onComplete:a,...o}){if(!(supportsWaapi()&&acceleratedValues.has(i)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let d=!1,h,g,b=!1;const _=()=>{g=new Promise(it=>{h=it})};_();let{keyframes:j,duration:$=300,ease:_e,times:rt}=o;if(requiresPregeneratedKeyframes(i,o)){const it=animateValue({...o,repeat:0,delay:0});let pt={done:!1,value:j[0]};const ot=[];let at=0;for(;!pt.done&&at<maxDuration;)pt=it.sample(at),ot.push(pt.value),at+=sampleDelta;rt=void 0,j=ot,$=at-sampleDelta,_e="linear"}const nt=animateStyle(e.owner.current,i,j,{...o,duration:$,ease:_e,times:rt}),st=()=>{b=!1,nt.cancel()},tt=()=>{b=!0,frame.update(st),h(),_()};return nt.onfinish=()=>{b||(e.set(getFinalKeyframe(j,o)),a&&a(),tt())},{then(it,pt){return g.then(it,pt)},attachTimeline(it){return nt.timeline=it,nt.onfinish=null,noop},get time(){return millisecondsToSeconds(nt.currentTime||0)},set time(it){nt.currentTime=secondsToMilliseconds(it)},get speed(){return nt.playbackRate},set speed(it){nt.playbackRate=it},get duration(){return millisecondsToSeconds($)},play:()=>{d||(nt.play(),cancelFrame(st))},pause:()=>nt.pause(),stop:()=>{if(d=!0,nt.playState==="idle")return;const{currentTime:it}=nt;if(it){const pt=animateValue({...o,autoplay:!1});e.setWithVelocity(pt.sample(it-sampleDelta).value,pt.sample(it).value,sampleDelta)}tt()},complete:()=>{b||nt.finish()},cancel:tt}}function createInstantAnimation({keyframes:e,delay:i,onUpdate:s,onComplete:a}){const o=()=>(s&&s(e[e.length-1]),a&&a(),{time:0,speed:1,duration:0,play:noop,pause:noop,stop:noop,then:c=>(c(),Promise.resolve()),cancel:noop,complete:noop});return i?animateValue({keyframes:[0,1],duration:0,delay:i,onComplete:o}):o()}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(e,{keyframes:i})=>i.length>2?keyframesTransition:transformProps.has(e)?e.startsWith("scale")?criticallyDampedSpring(i[1]):underDampedSpring:ease,isAnimatable=(e,i)=>e==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(complex.test(i)||i==="0")&&!i.startsWith("url(")),maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(e){const[i,s]=e.slice(0,-1).split("(");if(i==="drop-shadow")return e;const[a]=s.match(floatRegex)||[];if(!a)return e;const o=s.replace(a,"");let c=maxDefaults.has(i)?1:0;return a!==s&&(c*=100),i+"("+c+o+")"}const functionRegex=/([a-z-]*)\(.*?\)/g,filter={...complex,getAnimatableNone:e=>{const i=e.match(functionRegex);return i?i.map(applyDefaultFilter).join(" "):e}},defaultValueTypes={...numberValueTypes,color:color$1,backgroundColor:color$1,outlineColor:color$1,fill:color$1,stroke:color$1,borderColor:color$1,borderTopColor:color$1,borderRightColor:color$1,borderBottomColor:color$1,borderLeftColor:color$1,filter,WebkitFilter:filter},getDefaultValueType=e=>defaultValueTypes[e];function getAnimatableNone(e,i){let s=getDefaultValueType(e);return s!==filter&&(s=complex),s.getAnimatableNone?s.getAnimatableNone(i):void 0}const isZeroValueString=e=>/^0[^.\s]+$/.test(e);function isNone(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||isZeroValueString(e)}function getKeyframes(e,i,s,a){const o=isAnimatable(i,s);let c;Array.isArray(s)?c=[...s]:c=[null,s];const d=a.from!==void 0?a.from:e.get();let h;const g=[];for(let b=0;b<c.length;b++)c[b]===null&&(c[b]=b===0?d:c[b-1]),isNone(c[b])&&g.push(b),typeof c[b]=="string"&&c[b]!=="none"&&c[b]!=="0"&&(h=c[b]);if(o&&g.length&&h)for(let b=0;b<g.length;b++){const _=g[b];c[_]=getAnimatableNone(i,h)}return c}function isTransitionDefined({when:e,delay:i,delayChildren:s,staggerChildren:a,staggerDirection:o,repeat:c,repeatType:d,repeatDelay:h,from:g,elapsed:b,..._}){return!!Object.keys(_).length}function getValueTransition(e,i){return e[i]||e.default||e}const MotionGlobalConfig={skipAnimations:!1},animateMotionValue=(e,i,s,a={})=>o=>{const c=getValueTransition(a,e)||{},d=c.delay||a.delay||0;let{elapsed:h=0}=a;h=h-secondsToMilliseconds(d);const g=getKeyframes(i,e,s,c),b=g[0],_=g[g.length-1],j=isAnimatable(e,b),$=isAnimatable(e,_);let _e={keyframes:g,velocity:i.getVelocity(),ease:"easeOut",...c,delay:-h,onUpdate:rt=>{i.set(rt),c.onUpdate&&c.onUpdate(rt)},onComplete:()=>{o(),c.onComplete&&c.onComplete()}};if(isTransitionDefined(c)||(_e={..._e,...getDefaultTransition(e,_e)}),_e.duration&&(_e.duration=secondsToMilliseconds(_e.duration)),_e.repeatDelay&&(_e.repeatDelay=secondsToMilliseconds(_e.repeatDelay)),!j||!$||instantAnimationState.current||c.type===!1||MotionGlobalConfig.skipAnimations)return createInstantAnimation(_e);if(!a.isHandoff&&i.owner&&i.owner.current instanceof HTMLElement&&!i.owner.getProps().onUpdate){const rt=createAcceleratedAnimation(i,e,_e);if(rt)return rt}return animateValue(_e)};function isWillChangeMotionValue(e){return!!(isMotionValue(e)&&e.add)}const isNumericalString=e=>/^\-?\d*\.?\d+$/.test(e);function addUniqueItem(e,i){e.indexOf(i)===-1&&e.push(i)}function removeItem(e,i){const s=e.indexOf(i);s>-1&&e.splice(s,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(i){return addUniqueItem(this.subscriptions,i),()=>removeItem(this.subscriptions,i)}notify(i,s,a){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](i,s,a);else for(let c=0;c<o;c++){const d=this.subscriptions[c];d&&d(i,s,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const isFloat=e=>!isNaN(parseFloat(e));class MotionValue{constructor(i,s={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(a,o=!0)=>{this.prev=this.current,this.current=a;const{delta:c,timestamp:d}=frameData;this.lastUpdated!==d&&(this.timeDelta=c,this.lastUpdated=d,frame.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>frame.postRender(this.velocityCheck),this.velocityCheck=({timestamp:a})=>{a!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=i,this.canTrackVelocity=isFloat(this.current),this.owner=s.owner}onChange(i){return this.on("change",i)}on(i,s){this.events[i]||(this.events[i]=new SubscriptionManager);const a=this.events[i].add(s);return i==="change"?()=>{a(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const i in this.events)this.events[i].clear()}attach(i,s){this.passiveEffect=i,this.stopPassiveEffect=s}set(i,s=!0){!s||!this.passiveEffect?this.updateAndNotify(i,s):this.passiveEffect(i,this.updateAndNotify)}setWithVelocity(i,s,a){this.set(s),this.prev=i,this.timeDelta=a}jump(i){this.updateAndNotify(i),this.prev=i,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(i){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=i(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(e,i){return new MotionValue(e,i)}const testValueType=e=>i=>i.test(e),auto={test:e=>e==="auto",parse:e=>e},dimensionValueTypes=[number$1,px,percent,degrees,vw,vh,auto],findDimensionValueType=e=>dimensionValueTypes.find(testValueType(e)),valueTypes=[...dimensionValueTypes,color$1,complex],findValueType=e=>valueTypes.find(testValueType(e));function setMotionValue(e,i,s){e.hasValue(i)?e.getValue(i).set(s):e.addValue(i,motionValue(s))}function setTarget(e,i){const s=resolveVariant(e,i);let{transitionEnd:a={},transition:o={},...c}=s?e.makeTargetAnimatable(s,!1):{};c={...c,...a};for(const d in c){const h=resolveFinalValueInKeyframes(c[d]);setMotionValue(e,d,h)}}function checkTargetForNewValues(e,i,s){var a,o;const c=Object.keys(i).filter(h=>!e.hasValue(h)),d=c.length;if(d)for(let h=0;h<d;h++){const g=c[h],b=i[g];let _=null;Array.isArray(b)&&(_=b[0]),_===null&&(_=(o=(a=s[g])!==null&&a!==void 0?a:e.readValue(g))!==null&&o!==void 0?o:i[g]),_!=null&&(typeof _=="string"&&(isNumericalString(_)||isZeroValueString(_))?_=parseFloat(_):!findValueType(_)&&complex.test(b)&&(_=getAnimatableNone(g,b)),e.addValue(g,motionValue(_,{owner:e})),s[g]===void 0&&(s[g]=_),_!==null&&e.setBaseTarget(g,_))}}function getOriginFromTransition(e,i){return i?(i[e]||i.default||i).from:void 0}function getOrigin(e,i,s){const a={};for(const o in e){const c=getOriginFromTransition(o,i);if(c!==void 0)a[o]=c;else{const d=s.getValue(o);d&&(a[o]=d.get())}}return a}function shouldBlockAnimation({protectedKeys:e,needsAnimating:i},s){const a=e.hasOwnProperty(s)&&i[s]!==!0;return i[s]=!1,a}function hasKeyframesChanged(e,i){const s=e.get();if(Array.isArray(i)){for(let a=0;a<i.length;a++)if(i[a]!==s)return!0}else return s!==i}function animateTarget(e,i,{delay:s=0,transitionOverride:a,type:o}={}){let{transition:c=e.getDefaultTransition(),transitionEnd:d,...h}=e.makeTargetAnimatable(i);const g=e.getValue("willChange");a&&(c=a);const b=[],_=o&&e.animationState&&e.animationState.getState()[o];for(const j in h){const $=e.getValue(j),_e=h[j];if(!$||_e===void 0||_&&shouldBlockAnimation(_,j))continue;const rt={delay:s,elapsed:0,...getValueTransition(c||{},j)};if(window.HandoffAppearAnimations){const tt=e.getProps()[optimizedAppearDataAttribute];if(tt){const et=window.HandoffAppearAnimations(tt,j,$,frame);et!==null&&(rt.elapsed=et,rt.isHandoff=!0)}}let nt=!rt.isHandoff&&!hasKeyframesChanged($,_e);if(rt.type==="spring"&&($.getVelocity()||rt.velocity)&&(nt=!1),$.animation&&(nt=!1),nt)continue;$.start(animateMotionValue(j,$,_e,e.shouldReduceMotion&&transformProps.has(j)?{type:!1}:rt));const st=$.animation;isWillChangeMotionValue(g)&&(g.add(j),st.then(()=>g.remove(j))),b.push(st)}return d&&Promise.all(b).then(()=>{d&&setTarget(e,d)}),b}function animateVariant(e,i,s={}){const a=resolveVariant(e,i,s.custom);let{transition:o=e.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(o=s.transitionOverride);const c=a?()=>Promise.all(animateTarget(e,a,s)):()=>Promise.resolve(),d=e.variantChildren&&e.variantChildren.size?(g=0)=>{const{delayChildren:b=0,staggerChildren:_,staggerDirection:j}=o;return animateChildren(e,i,b+g,_,j,s)}:()=>Promise.resolve(),{when:h}=o;if(h){const[g,b]=h==="beforeChildren"?[c,d]:[d,c];return g().then(()=>b())}else return Promise.all([c(),d(s.delay)])}function animateChildren(e,i,s=0,a=0,o=1,c){const d=[],h=(e.variantChildren.size-1)*a,g=o===1?(b=0)=>b*a:(b=0)=>h-b*a;return Array.from(e.variantChildren).sort(sortByTreeOrder).forEach((b,_)=>{b.notify("AnimationStart",i),d.push(animateVariant(b,i,{...c,delay:s+g(_)}).then(()=>b.notify("AnimationComplete",i)))}),Promise.all(d)}function sortByTreeOrder(e,i){return e.sortNodePosition(i)}function animateVisualElement(e,i,s={}){e.notify("AnimationStart",i);let a;if(Array.isArray(i)){const o=i.map(c=>animateVariant(e,c,s));a=Promise.all(o)}else if(typeof i=="string")a=animateVariant(e,i,s);else{const o=typeof i=="function"?resolveVariant(e,i,s.custom):i;a=Promise.all(animateTarget(e,o,s))}return a.then(()=>e.notify("AnimationComplete",i))}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(e){return i=>Promise.all(i.map(({animation:s,options:a})=>animateVisualElement(e,s,a)))}function createAnimationState(e){let i=animateList(e);const s=createState$1();let a=!0;const o=(g,b)=>{const _=resolveVariant(e,b);if(_){const{transition:j,transitionEnd:$,..._e}=_;g={...g,..._e,...$}}return g};function c(g){i=g(e)}function d(g,b){const _=e.getProps(),j=e.getVariantContext(!0)||{},$=[],_e=new Set;let rt={},nt=1/0;for(let tt=0;tt<numAnimationTypes;tt++){const et=reversePriorityOrder[tt],it=s[et],pt=_[et]!==void 0?_[et]:j[et],ot=isVariantLabel(pt),at=et===b?it.isActive:null;at===!1&&(nt=tt);let xt=pt===j[et]&&pt!==_[et]&&ot;if(xt&&a&&e.manuallyAnimateOnMount&&(xt=!1),it.protectedKeys={...rt},!it.isActive&&at===null||!pt&&!it.prevProp||isAnimationControls(pt)||typeof pt=="boolean")continue;let ut=checkVariantsDidChange(it.prevProp,pt)||et===b&&it.isActive&&!xt&&ot||tt>nt&&ot,Et=!1;const vt=Array.isArray(pt)?pt:[pt];let _t=vt.reduce(o,{});at===!1&&(_t={});const{prevResolvedValues:jt={}}=it,kt={...jt,..._t},It=Vt=>{ut=!0,_e.has(Vt)&&(Et=!0,_e.delete(Vt)),it.needsAnimating[Vt]=!0};for(const Vt in kt){const Ht=_t[Vt],St=jt[Vt];if(rt.hasOwnProperty(Vt))continue;let Nt=!1;isKeyframesTarget(Ht)&&isKeyframesTarget(St)?Nt=!shallowCompare(Ht,St):Nt=Ht!==St,Nt?Ht!==void 0?It(Vt):_e.add(Vt):Ht!==void 0&&_e.has(Vt)?It(Vt):it.protectedKeys[Vt]=!0}it.prevProp=pt,it.prevResolvedValues=_t,it.isActive&&(rt={...rt,..._t}),a&&e.blockInitialAnimation&&(ut=!1),ut&&(!xt||Et)&&$.push(...vt.map(Vt=>({animation:Vt,options:{type:et,...g}})))}if(_e.size){const tt={};_e.forEach(et=>{const it=e.getBaseTarget(et);it!==void 0&&(tt[et]=it)}),$.push({animation:tt})}let st=!!$.length;return a&&(_.initial===!1||_.initial===_.animate)&&!e.manuallyAnimateOnMount&&(st=!1),a=!1,st?i($):Promise.resolve()}function h(g,b,_){var j;if(s[g].isActive===b)return Promise.resolve();(j=e.variantChildren)===null||j===void 0||j.forEach(_e=>{var rt;return(rt=_e.animationState)===null||rt===void 0?void 0:rt.setActive(g,b)}),s[g].isActive=b;const $=d(_,g);for(const _e in s)s[_e].protectedKeys={};return $}return{animateChanges:d,setActive:h,setAnimateFunction:c,getState:()=>s}}function checkVariantsDidChange(e,i){return typeof i=="string"?i!==e:Array.isArray(i)?!shallowCompare(i,e):!1}function createTypeState(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState$1(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class AnimationFeature extends Feature{constructor(i){super(i),i.animationState||(i.animationState=createAnimationState(i))}updateAnimationControlsSubscription(){const{animate:i}=this.node.getProps();this.unmount(),isAnimationControls(i)&&(this.unmount=i.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:i}=this.node.getProps(),{animate:s}=this.node.prevProps||{};i!==s&&this.updateAnimationControlsSubscription()}unmount(){}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:i,onExitComplete:s,custom:a}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||i===o)return;const c=this.node.animationState.setActive("exit",!i,{custom:a??this.node.getProps().custom});s&&!i&&c.then(()=>s(this.id))}mount(){const{register:i}=this.node.presenceContext||{};i&&(this.unmount=i(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},distance=(e,i)=>Math.abs(e-i);function distance2D(e,i){const s=distance(e.x,i.x),a=distance(e.y,i.y);return Math.sqrt(s**2+a**2)}class PanSession{constructor(i,s,{transformPagePoint:a,contextWindow:o,dragSnapToOrigin:c=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=getPanInfo(this.lastMoveEventInfo,this.history),$=this.startEvent!==null,_e=distance2D(j.offset,{x:0,y:0})>=3;if(!$&&!_e)return;const{point:rt}=j,{timestamp:nt}=frameData;this.history.push({...rt,timestamp:nt});const{onStart:st,onMove:tt}=this.handlers;$||(st&&st(this.lastMoveEvent,j),this.startEvent=this.lastMoveEvent),tt&&tt(this.lastMoveEvent,j)},this.handlePointerMove=(j,$)=>{this.lastMoveEvent=j,this.lastMoveEventInfo=transformPoint($,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(j,$)=>{this.end();const{onEnd:_e,onSessionEnd:rt,resumeAnimation:nt}=this.handlers;if(this.dragSnapToOrigin&&nt&&nt(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const st=getPanInfo(j.type==="pointercancel"?this.lastMoveEventInfo:transformPoint($,this.transformPagePoint),this.history);this.startEvent&&_e&&_e(j,st),rt&&rt(j,st)},!isPrimaryPointer(i))return;this.dragSnapToOrigin=c,this.handlers=s,this.transformPagePoint=a,this.contextWindow=o||window;const d=extractEventInfo(i),h=transformPoint(d,this.transformPagePoint),{point:g}=h,{timestamp:b}=frameData;this.history=[{...g,timestamp:b}];const{onSessionStart:_}=s;_&&_(i,getPanInfo(h,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(i){this.handlers=i}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(e,i){return i?{point:i(e.point)}:e}function subtractPoint(e,i){return{x:e.x-i.x,y:e.y-i.y}}function getPanInfo({point:e},i){return{point:e,delta:subtractPoint(e,lastDevicePoint(i)),offset:subtractPoint(e,startDevicePoint(i)),velocity:getVelocity(i,.1)}}function startDevicePoint(e){return e[0]}function lastDevicePoint(e){return e[e.length-1]}function getVelocity(e,i){if(e.length<2)return{x:0,y:0};let s=e.length-1,a=null;const o=lastDevicePoint(e);for(;s>=0&&(a=e[s],!(o.timestamp-a.timestamp>secondsToMilliseconds(i)));)s--;if(!a)return{x:0,y:0};const c=millisecondsToSeconds(o.timestamp-a.timestamp);if(c===0)return{x:0,y:0};const d={x:(o.x-a.x)/c,y:(o.y-a.y)/c};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function calcLength(e){return e.max-e.min}function isNear(e,i=0,s=.01){return Math.abs(e-i)<=s}function calcAxisDelta(e,i,s,a=.5){e.origin=a,e.originPoint=mix(i.min,i.max,e.origin),e.scale=calcLength(s)/calcLength(i),(isNear(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=mix(s.min,s.max,e.origin)-e.originPoint,(isNear(e.translate)||isNaN(e.translate))&&(e.translate=0)}function calcBoxDelta(e,i,s,a){calcAxisDelta(e.x,i.x,s.x,a?a.originX:void 0),calcAxisDelta(e.y,i.y,s.y,a?a.originY:void 0)}function calcRelativeAxis(e,i,s){e.min=s.min+i.min,e.max=e.min+calcLength(i)}function calcRelativeBox(e,i,s){calcRelativeAxis(e.x,i.x,s.x),calcRelativeAxis(e.y,i.y,s.y)}function calcRelativeAxisPosition(e,i,s){e.min=i.min-s.min,e.max=e.min+calcLength(i)}function calcRelativePosition(e,i,s){calcRelativeAxisPosition(e.x,i.x,s.x),calcRelativeAxisPosition(e.y,i.y,s.y)}function applyConstraints(e,{min:i,max:s},a){return i!==void 0&&e<i?e=a?mix(i,e,a.min):Math.max(e,i):s!==void 0&&e>s&&(e=a?mix(s,e,a.max):Math.min(e,s)),e}function calcRelativeAxisConstraints(e,i,s){return{min:i!==void 0?e.min+i:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function calcRelativeConstraints(e,{top:i,left:s,bottom:a,right:o}){return{x:calcRelativeAxisConstraints(e.x,s,o),y:calcRelativeAxisConstraints(e.y,i,a)}}function calcViewportAxisConstraints(e,i){let s=i.min-e.min,a=i.max-e.max;return i.max-i.min<e.max-e.min&&([s,a]=[a,s]),{min:s,max:a}}function calcViewportConstraints(e,i){return{x:calcViewportAxisConstraints(e.x,i.x),y:calcViewportAxisConstraints(e.y,i.y)}}function calcOrigin(e,i){let s=.5;const a=calcLength(e),o=calcLength(i);return o>a?s=progress(i.min,i.max-a,e.min):a>o&&(s=progress(e.min,e.max-o,i.min)),clamp(0,1,s)}function rebaseAxisConstraints(e,i){const s={};return i.min!==void 0&&(s.min=i.min-e.min),i.max!==void 0&&(s.max=i.max-e.min),s}const defaultElastic=.35;function resolveDragElastic(e=defaultElastic){return e===!1?e=0:e===!0&&(e=defaultElastic),{x:resolveAxisElastic(e,"left","right"),y:resolveAxisElastic(e,"top","bottom")}}function resolveAxisElastic(e,i,s){return{min:resolvePointElastic(e,i),max:resolvePointElastic(e,s)}}function resolvePointElastic(e,i){return typeof e=="number"?e:e[i]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(e){return[e("x"),e("y")]}function convertBoundingBoxToBox({top:e,left:i,right:s,bottom:a}){return{x:{min:i,max:s},y:{min:e,max:a}}}function convertBoxToBoundingBox({x:e,y:i}){return{top:i.min,right:e.max,bottom:i.max,left:e.min}}function transformBoxPoints(e,i){if(!i)return e;const s=i({x:e.left,y:e.top}),a=i({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:a.y,right:a.x}}function isIdentityScale(e){return e===void 0||e===1}function hasScale({scale:e,scaleX:i,scaleY:s}){return!isIdentityScale(e)||!isIdentityScale(i)||!isIdentityScale(s)}function hasTransform(e){return hasScale(e)||has2DTranslate(e)||e.z||e.rotate||e.rotateX||e.rotateY}function has2DTranslate(e){return is2DTranslate(e.x)||is2DTranslate(e.y)}function is2DTranslate(e){return e&&e!=="0%"}function scalePoint(e,i,s){const a=e-s,o=i*a;return s+o}function applyPointDelta(e,i,s,a,o){return o!==void 0&&(e=scalePoint(e,o,a)),scalePoint(e,s,a)+i}function applyAxisDelta(e,i=0,s=1,a,o){e.min=applyPointDelta(e.min,i,s,a,o),e.max=applyPointDelta(e.max,i,s,a,o)}function applyBoxDelta(e,{x:i,y:s}){applyAxisDelta(e.x,i.translate,i.scale,i.originPoint),applyAxisDelta(e.y,s.translate,s.scale,s.originPoint)}function applyTreeDeltas(e,i,s,a=!1){const o=s.length;if(!o)return;i.x=i.y=1;let c,d;for(let h=0;h<o;h++){c=s[h],d=c.projectionDelta;const g=c.instance;g&&g.style&&g.style.display==="contents"||(a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&transformBox(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),d&&(i.x*=d.x.scale,i.y*=d.y.scale,applyBoxDelta(e,d)),a&&hasTransform(c.latestValues)&&transformBox(e,c.latestValues))}i.x=snapToDefault(i.x),i.y=snapToDefault(i.y)}function snapToDefault(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function translateAxis(e,i){e.min=e.min+i,e.max=e.max+i}function transformAxis(e,i,[s,a,o]){const c=i[o]!==void 0?i[o]:.5,d=mix(e.min,e.max,c);applyAxisDelta(e,i[s],i[a],d,i.scale)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(e,i){transformAxis(e.x,i,xKeys$1),transformAxis(e.y,i,yKeys$1)}function measureViewportBox(e,i){return convertBoundingBoxToBox(transformBoxPoints(e.getBoundingClientRect(),i))}function measurePageBox(e,i,s){const a=measureViewportBox(e,s),{scroll:o}=i;return o&&(translateAxis(a.x,o.offset.x),translateAxis(a.y,o.offset.y)),a}const getContextWindow=({current:e})=>e?e.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(i){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=i}start(i,{snapToCursor:s=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=_=>{const{dragSnapToOrigin:j}=this.getProps();j?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(extractEventInfo(_,"page").point)},c=(_,j)=>{const{drag:$,dragPropagation:_e,onDragStart:rt}=this.getProps();if($&&!_e&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock($),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(st=>{let tt=this.getAxisMotionValue(st).get()||0;if(percent.test(tt)){const{projection:et}=this.visualElement;if(et&&et.layout){const it=et.layout.layoutBox[st];it&&(tt=calcLength(it)*(parseFloat(tt)/100))}}this.originPoint[st]=tt}),rt&&frame.update(()=>rt(_,j),!1,!0);const{animationState:nt}=this.visualElement;nt&&nt.setActive("whileDrag",!0)},d=(_,j)=>{const{dragPropagation:$,dragDirectionLock:_e,onDirectionLock:rt,onDrag:nt}=this.getProps();if(!$&&!this.openGlobalLock)return;const{offset:st}=j;if(_e&&this.currentDirection===null){this.currentDirection=getCurrentDirection(st),this.currentDirection!==null&&rt&&rt(this.currentDirection);return}this.updateAxis("x",j.point,st),this.updateAxis("y",j.point,st),this.visualElement.render(),nt&&nt(_,j)},h=(_,j)=>this.stop(_,j),g=()=>eachAxis(_=>{var j;return this.getAnimationState(_)==="paused"&&((j=this.getAxisMotionValue(_).animation)===null||j===void 0?void 0:j.play())}),{dragSnapToOrigin:b}=this.getProps();this.panSession=new PanSession(i,{onSessionStart:o,onStart:c,onMove:d,onSessionEnd:h,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:b,contextWindow:getContextWindow(this.visualElement)})}stop(i,s){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&frame.update(()=>c(i,s))}cancel(){this.isDragging=!1;const{projection:i,animationState:s}=this.visualElement;i&&(i.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(i,s,a){const{drag:o}=this.getProps();if(!a||!shouldDrag(i,o,this.currentDirection))return;const c=this.getAxisMotionValue(i);let d=this.originPoint[i]+a[i];this.constraints&&this.constraints[i]&&(d=applyConstraints(d,this.constraints[i],this.elastic[i])),c.set(d)}resolveConstraints(){var i;const{dragConstraints:s,dragElastic:a}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)===null||i===void 0?void 0:i.layout,c=this.constraints;s&&isRefObject(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&o?this.constraints=calcRelativeConstraints(o.layoutBox,s):this.constraints=!1,this.elastic=resolveDragElastic(a),c!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(d=>{this.getAxisMotionValue(d)&&(this.constraints[d]=rebaseAxisConstraints(o.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:i,onMeasureDragConstraints:s}=this.getProps();if(!i||!isRefObject(i))return!1;const a=i.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=measurePageBox(a,o.root,this.visualElement.getTransformPagePoint());let d=calcViewportConstraints(o.layout.layoutBox,c);if(s){const h=s(convertBoxToBoundingBox(d));this.hasMutatedConstraints=!!h,h&&(d=convertBoundingBoxToBox(h))}return d}startAnimation(i){const{drag:s,dragMomentum:a,dragElastic:o,dragTransition:c,dragSnapToOrigin:d,onDragTransitionEnd:h}=this.getProps(),g=this.constraints||{},b=eachAxis(_=>{if(!shouldDrag(_,s,this.currentDirection))return;let j=g&&g[_]||{};d&&(j={min:0,max:0});const $=o?200:1e6,_e=o?40:1e7,rt={type:"inertia",velocity:a?i[_]:0,bounceStiffness:$,bounceDamping:_e,timeConstant:750,restDelta:1,restSpeed:10,...c,...j};return this.startAxisValueAnimation(_,rt)});return Promise.all(b).then(h)}startAxisValueAnimation(i,s){const a=this.getAxisMotionValue(i);return a.start(animateMotionValue(i,a,0,s))}stopAnimation(){eachAxis(i=>this.getAxisMotionValue(i).stop())}pauseAnimation(){eachAxis(i=>{var s;return(s=this.getAxisMotionValue(i).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(i){var s;return(s=this.getAxisMotionValue(i).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(i){const s="_drag"+i.toUpperCase(),a=this.visualElement.getProps(),o=a[s];return o||this.visualElement.getValue(i,(a.initial?a.initial[i]:void 0)||0)}snapToCursor(i){eachAxis(s=>{const{drag:a}=this.getProps();if(!shouldDrag(s,a,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(s);if(o&&o.layout){const{min:d,max:h}=o.layout.layoutBox[s];c.set(i[s]-mix(d,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:i,dragConstraints:s}=this.getProps(),{projection:a}=this.visualElement;if(!isRefObject(s)||!a||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};eachAxis(d=>{const h=this.getAxisMotionValue(d);if(h){const g=h.get();o[d]=calcOrigin({min:g,max:g},this.constraints[d])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),eachAxis(d=>{if(!shouldDrag(d,i,null))return;const h=this.getAxisMotionValue(d),{min:g,max:b}=this.constraints[d];h.set(mix(g,b,o[d]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const i=this.visualElement.current,s=addPointerEvent(i,"pointerdown",g=>{const{drag:b,dragListener:_=!0}=this.getProps();b&&_&&this.start(g)}),a=()=>{const{dragConstraints:g}=this.getProps();isRefObject(g)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",a);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),a();const d=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",({delta:g,hasLayoutChanged:b})=>{this.isDragging&&b&&(eachAxis(_=>{const j=this.getAxisMotionValue(_);j&&(this.originPoint[_]+=g[_].translate,j.set(j.get()+g[_].translate))}),this.visualElement.render())});return()=>{d(),s(),c(),h&&h()}}getProps(){const i=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:a=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:d=defaultElastic,dragMomentum:h=!0}=i;return{...i,drag:s,dragDirectionLock:a,dragPropagation:o,dragConstraints:c,dragElastic:d,dragMomentum:h}}}function shouldDrag(e,i,s){return(i===!0||i===e)&&(s===null||s===e)}function getCurrentDirection(e,i=10){let s=null;return Math.abs(e.y)>i?s="y":Math.abs(e.x)>i&&(s="x"),s}class DragGesture extends Feature{constructor(i){super(i),this.removeGroupControls=noop,this.removeListeners=noop,this.controls=new VisualElementDragControls(i)}mount(){const{dragControls:i}=this.node.getProps();i&&(this.removeGroupControls=i.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=e=>(i,s)=>{e&&frame.update(()=>e(i,s))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop}onPointerDown(i){this.session=new PanSession(i,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:i,onPanStart:s,onPan:a,onPanEnd:o}=this.node.getProps();return{onSessionStart:asyncHandler(i),onStart:asyncHandler(s),onMove:a,onEnd:(c,d)=>{delete this.session,o&&frame.update(()=>o(c,d))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",i=>this.onPointerDown(i))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function usePresence(){const e=reactExports.useContext(PresenceContext);if(e===null)return[!0,null];const{isPresent:i,onExitComplete:s,register:a}=e,o=reactExports.useId();return reactExports.useEffect(()=>a(o),[]),!i&&s?[!1,()=>s&&s(o)]:[!0]}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(e,i){return i.max===i.min?0:e/(i.max-i.min)*100}const correctBorderRadius={correct:(e,i)=>{if(!i.target)return e;if(typeof e=="string")if(px.test(e))e=parseFloat(e);else return e;const s=pixelsToPercent(e,i.target.x),a=pixelsToPercent(e,i.target.y);return`${s}% ${a}%`}},correctBoxShadow={correct:(e,{treeScale:i,projectionDelta:s})=>{const a=e,o=complex.parse(e);if(o.length>5)return a;const c=complex.createTransformer(e),d=typeof o[0]!="number"?1:0,h=s.x.scale*i.x,g=s.y.scale*i.y;o[0+d]/=h,o[1+d]/=g;const b=mix(h,g,.5);return typeof o[2+d]=="number"&&(o[2+d]/=b),typeof o[3+d]=="number"&&(o[3+d]/=b),c(o)}};class MeasureLayoutWithContext extends React$2.Component{componentDidMount(){const{visualElement:i,layoutGroup:s,switchLayoutGroup:a,layoutId:o}=this.props,{projection:c}=i;addScaleCorrector(defaultScaleCorrectors),c&&(s.group&&s.group.add(c),a&&a.register&&o&&a.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(i){const{layoutDependency:s,visualElement:a,drag:o,isPresent:c}=this.props,d=a.projection;return d&&(d.isPresent=c,o||i.layoutDependency!==s||s===void 0?d.willUpdate():this.safeToRemove(),i.isPresent!==c&&(c?d.promote():d.relegate()||frame.postRender(()=>{const h=d.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:i}=this.props.visualElement;i&&(i.root.didUpdate(),queueMicrotask(()=>{!i.currentAnimation&&i.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:i,layoutGroup:s,switchLayoutGroup:a}=this.props,{projection:o}=i;o&&(o.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(o),a&&a.deregister&&a.deregister(o))}safeToRemove(){const{safeToRemove:i}=this.props;i&&i()}render(){return null}}function MeasureLayout(e){const[i,s]=usePresence(),a=reactExports.useContext(LayoutGroupContext);return React$2.createElement(MeasureLayoutWithContext,{...e,layoutGroup:a,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:i,safeToRemove:s})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=e=>typeof e=="string"?parseFloat(e):e,isPx=e=>typeof e=="number"||px.test(e);function mixValues(e,i,s,a,o,c){o?(e.opacity=mix(0,s.opacity!==void 0?s.opacity:1,easeCrossfadeIn(a)),e.opacityExit=mix(i.opacity!==void 0?i.opacity:1,0,easeCrossfadeOut(a))):c&&(e.opacity=mix(i.opacity!==void 0?i.opacity:1,s.opacity!==void 0?s.opacity:1,a));for(let d=0;d<numBorders;d++){const h=`border${borders[d]}Radius`;let g=getRadius(i,h),b=getRadius(s,h);if(g===void 0&&b===void 0)continue;g||(g=0),b||(b=0),g===0||b===0||isPx(g)===isPx(b)?(e[h]=Math.max(mix(asNumber(g),asNumber(b),a),0),(percent.test(b)||percent.test(g))&&(e[h]+="%")):e[h]=b}(i.rotate||s.rotate)&&(e.rotate=mix(i.rotate||0,s.rotate||0,a))}function getRadius(e,i){return e[i]!==void 0?e[i]:e.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress(e,i,s){return a=>a<e?0:a>i?1:s(progress(e,i,a))}function copyAxisInto(e,i){e.min=i.min,e.max=i.max}function copyBoxInto(e,i){copyAxisInto(e.x,i.x),copyAxisInto(e.y,i.y)}function removePointDelta(e,i,s,a,o){return e-=i,e=scalePoint(e,1/s,a),o!==void 0&&(e=scalePoint(e,1/o,a)),e}function removeAxisDelta(e,i=0,s=1,a=.5,o,c=e,d=e){if(percent.test(i)&&(i=parseFloat(i),i=mix(d.min,d.max,i/100)-d.min),typeof i!="number")return;let h=mix(c.min,c.max,a);e===c&&(h-=i),e.min=removePointDelta(e.min,i,s,h,o),e.max=removePointDelta(e.max,i,s,h,o)}function removeAxisTransforms(e,i,[s,a,o],c,d){removeAxisDelta(e,i[s],i[a],i[o],i.scale,c,d)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(e,i,s,a){removeAxisTransforms(e.x,i,xKeys,s?s.x:void 0,a?a.x:void 0),removeAxisTransforms(e.y,i,yKeys,s?s.y:void 0,a?a.y:void 0)}function isAxisDeltaZero(e){return e.translate===0&&e.scale===1}function isDeltaZero(e){return isAxisDeltaZero(e.x)&&isAxisDeltaZero(e.y)}function boxEquals(e,i){return e.x.min===i.x.min&&e.x.max===i.x.max&&e.y.min===i.y.min&&e.y.max===i.y.max}function boxEqualsRounded(e,i){return Math.round(e.x.min)===Math.round(i.x.min)&&Math.round(e.x.max)===Math.round(i.x.max)&&Math.round(e.y.min)===Math.round(i.y.min)&&Math.round(e.y.max)===Math.round(i.y.max)}function aspectRatio(e){return calcLength(e.x)/calcLength(e.y)}class NodeStack{constructor(){this.members=[]}add(i){addUniqueItem(this.members,i),i.scheduleRender()}remove(i){if(removeItem(this.members,i),i===this.prevLead&&(this.prevLead=void 0),i===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(i){const s=this.members.findIndex(o=>i===o);if(s===0)return!1;let a;for(let o=s;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){a=c;break}}return a?(this.promote(a),!0):!1}promote(i,s){const a=this.lead;if(i!==a&&(this.prevLead=a,this.lead=i,i.show(),a)){a.instance&&a.scheduleRender(),i.scheduleRender(),i.resumeFrom=a,s&&(i.resumeFrom.preserveOpacity=!0),a.snapshot&&(i.snapshot=a.snapshot,i.snapshot.latestValues=a.animationValues||a.latestValues),i.root&&i.root.isUpdating&&(i.isLayoutDirty=!0);const{crossfade:o}=i.options;o===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(i=>{const{options:s,resumingFrom:a}=i;s.onExitComplete&&s.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(i=>{i.instance&&i.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(e,i,s){let a="";const o=e.x.translate/i.x,c=e.y.translate/i.y;if((o||c)&&(a=`translate3d(${o}px, ${c}px, 0) `),(i.x!==1||i.y!==1)&&(a+=`scale(${1/i.x}, ${1/i.y}) `),s){const{rotate:g,rotateX:b,rotateY:_}=s;g&&(a+=`rotate(${g}deg) `),b&&(a+=`rotateX(${b}deg) `),_&&(a+=`rotateY(${_}deg) `)}const d=e.x.scale*i.x,h=e.y.scale*i.y;return(d!==1||h!==1)&&(a+=`scale(${d}, ${h})`),a||"none"}const compareByDepth=(e,i)=>e.depth-i.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(i){addUniqueItem(this.children,i),this.isDirty=!0}remove(i){removeItem(this.children,i),this.isDirty=!0}forEach(i){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(i)}}function delay(e,i){const s=performance.now(),a=({timestamp:o})=>{const c=o-s;c>=i&&(cancelFrame(a),e(c-i))};return frame.read(a,!0),()=>cancelFrame(a)}function record(e){window.MotionDebug&&window.MotionDebug.record(e)}function isSVGElement(e){return e instanceof SVGElement&&e.tagName!=="svg"}function animateSingleValue(e,i,s){const a=isMotionValue(e)?e:motionValue(e);return a.start(animateMotionValue("",a,i,s)),a.animation}const transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;const projectionFrameData={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function createProjectionNode({attachResizeListener:e,defaultParent:i,measureScroll:s,checkIsScrollRoot:a,resetTransform:o}){return class{constructor(d={},h=i==null?void 0:i()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,projectionFrameData.totalNodes=projectionFrameData.resolvedTargetDeltas=projectionFrameData.recalculatedProjection=0,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),record(projectionFrameData)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(d,h){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new SubscriptionManager),this.eventHandlers.get(d).add(h)}notifyListeners(d,...h){const g=this.eventHandlers.get(d);g&&g.notify(...h)}hasListeners(d){return this.eventHandlers.has(d)}mount(d,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(d),this.instance=d;const{layoutId:g,layout:b,visualElement:_}=this.options;if(_&&!_.current&&_.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(b||g)&&(this.isLayoutDirty=!0),e){let j;const $=()=>this.root.updateBlockedByResize=!1;e(d,()=>{this.root.updateBlockedByResize=!0,j&&j(),j=delay($,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}g&&this.root.registerSharedNode(g,this),this.options.animate!==!1&&_&&(g||b)&&this.addEventListener("didUpdate",({delta:j,hasLayoutChanged:$,hasRelativeTargetChanged:_e,layout:rt})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const nt=this.options.transition||_.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:st,onLayoutAnimationComplete:tt}=_.getProps(),et=!this.targetLayout||!boxEqualsRounded(this.targetLayout,rt)||_e,it=!$&&_e;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||it||$&&(et||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(j,it);const pt={...getValueTransition(nt,"layout"),onPlay:st,onComplete:tt};(_.shouldReduceMotion||this.options.layoutRoot)&&(pt.delay=0,pt.type=!1),this.startAnimation(pt)}else $||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=rt})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetRotation),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let _=0;_<this.path.length;_++){const j=this.path[_];j.shouldResetTransform=!0,j.updateScroll("snapshot"),j.options.layoutRoot&&j.willUpdate(!1)}const{layoutId:h,layout:g}=this.options;if(h===void 0&&!g)return;const b=this.getTransformTemplate();this.prevTransformTemplateValue=b?b(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const h=performance.now();frameData.delta=clamp(0,1e3/60,h-frameData.timestamp),frameData.timestamp=h,frameData.isProcessing=!0,steps.update.process(frameData),steps.preRender.process(frameData),steps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let h=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(h=!1),h&&(this.scroll={animationId:this.root.animationId,phase:d,isRoot:a(this.instance),offset:s(this.instance)})}resetTransform(){if(!o)return;const d=this.isLayoutDirty||this.shouldResetTransform,h=this.projectionDelta&&!isDeltaZero(this.projectionDelta),g=this.getTransformTemplate(),b=g?g(this.latestValues,""):void 0,_=b!==this.prevTransformTemplateValue;d&&(h||hasTransform(this.latestValues)||_)&&(o(this.instance,b),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const h=this.measurePageBox();let g=this.removeElementScroll(h);return d&&(g=this.removeTransform(g)),roundBox(g),{animationId:this.root.animationId,measuredBox:h,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return createBox();const h=d.measureViewportBox(),{scroll:g}=this.root;return g&&(translateAxis(h.x,g.offset.x),translateAxis(h.y,g.offset.y)),h}removeElementScroll(d){const h=createBox();copyBoxInto(h,d);for(let g=0;g<this.path.length;g++){const b=this.path[g],{scroll:_,options:j}=b;if(b!==this.root&&_&&j.layoutScroll){if(_.isRoot){copyBoxInto(h,d);const{scroll:$}=this.root;$&&(translateAxis(h.x,-$.offset.x),translateAxis(h.y,-$.offset.y))}translateAxis(h.x,_.offset.x),translateAxis(h.y,_.offset.y)}}return h}applyTransform(d,h=!1){const g=createBox();copyBoxInto(g,d);for(let b=0;b<this.path.length;b++){const _=this.path[b];!h&&_.options.layoutScroll&&_.scroll&&_!==_.root&&transformBox(g,{x:-_.scroll.offset.x,y:-_.scroll.offset.y}),hasTransform(_.latestValues)&&transformBox(g,_.latestValues)}return hasTransform(this.latestValues)&&transformBox(g,this.latestValues),g}removeTransform(d){const h=createBox();copyBoxInto(h,d);for(let g=0;g<this.path.length;g++){const b=this.path[g];if(!b.instance||!hasTransform(b.latestValues))continue;hasScale(b.latestValues)&&b.updateSnapshot();const _=createBox(),j=b.measurePageBox();copyBoxInto(_,j),removeBoxTransforms(h,b.latestValues,b.snapshot?b.snapshot.layoutBox:void 0,_)}return hasTransform(this.latestValues)&&removeBoxTransforms(h,this.latestValues),h}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var h;const g=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=g.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=g.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=g.isSharedProjectionDirty);const b=!!this.resumingFrom||this!==g;if(!(d||b&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:j,layoutId:$}=this.options;if(!(!this.layout||!(j||$))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const _e=this.getClosestProjectingParent();_e&&_e.layout&&this.animationProgress!==1?(this.relativeParent=_e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,_e.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const _e=this.getClosestProjectingParent();_e&&!!_e.resumingFrom==!!this.resumingFrom&&!_e.options.layoutScroll&&_e.target&&this.animationProgress!==1?(this.relativeParent=_e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,_e.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}projectionFrameData.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var d;const h=this.getLead(),g=!!this.resumingFrom||this!==h;let b=!0;if((this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty)&&(b=!1),g&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(b=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(b=!1),b)return;const{layout:_,layoutId:j}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||j))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const $=this.treeScale.x,_e=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,g),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox);const{target:rt}=h;if(!rt){this.projectionTransform&&(this.projectionDelta=createDelta(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());const nt=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,rt,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==nt||this.treeScale.x!==$||this.treeScale.y!==_e)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",rt)),projectionFrameData.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),d){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(d,h=!1){const g=this.snapshot,b=g?g.latestValues:{},_={...this.latestValues},j=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const $=createBox(),_e=g?g.source:void 0,rt=this.layout?this.layout.source:void 0,nt=_e!==rt,st=this.getStack(),tt=!st||st.members.length<=1,et=!!(nt&&!tt&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let it;this.mixTargetDelta=pt=>{const ot=pt/1e3;mixAxisDelta(j.x,d.x,ot),mixAxisDelta(j.y,d.y,ot),this.setTargetDelta(j),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition($,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,$,ot),it&&boxEquals(this.relativeTarget,it)&&(this.isProjectionDirty=!1),it||(it=createBox()),copyBoxInto(it,this.relativeTarget)),nt&&(this.animationValues=_,mixValues(_,b,this.latestValues,ot,et,tt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ot},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...d,onUpdate:h=>{this.mixTargetDelta(h),d.onUpdate&&d.onUpdate(h)},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:h,target:g,layout:b,latestValues:_}=d;if(!(!h||!g||!b)){if(this!==d&&this.layout&&b&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,b.layoutBox)){g=this.target||createBox();const j=calcLength(this.layout.layoutBox.x);g.x.min=d.target.x.min,g.x.max=g.x.min+j;const $=calcLength(this.layout.layoutBox.y);g.y.min=d.target.y.min,g.y.max=g.y.min+$}copyBoxInto(h,g),transformBox(h,_),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,h,_)}}registerSharedNode(d,h){this.sharedNodes.has(d)||this.sharedNodes.set(d,new NodeStack),this.sharedNodes.get(d).add(h);const b=h.options.initialPromotionConfig;h.promote({transition:b?b.transition:void 0,preserveFollowOpacity:b&&b.shouldPreserveFollowOpacity?b.shouldPreserveFollowOpacity(h):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var d;const{layoutId:h}=this.options;return h?((d=this.getStack())===null||d===void 0?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:h}=this.options;return h?(d=this.getStack())===null||d===void 0?void 0:d.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:h,preserveFollowOpacity:g}={}){const b=this.getStack();b&&b.promote(this,g),d&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetRotation(){const{visualElement:d}=this.options;if(!d)return;let h=!1;const{latestValues:g}=d;if((g.rotate||g.rotateX||g.rotateY||g.rotateZ)&&(h=!0),!h)return;const b={};for(let _=0;_<transformAxes.length;_++){const j="rotate"+transformAxes[_];g[j]&&(b[j]=g[j],d.setStaticValue(j,0))}d.render();for(const _ in b)d.setStaticValue(_,b[_]);d.scheduleRender()}getProjectionStyles(d){var h,g;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const b={visibility:""},_=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,b.opacity="",b.pointerEvents=resolveMotionValue(d==null?void 0:d.pointerEvents)||"",b.transform=_?_(this.latestValues,""):"none",b;const j=this.getLead();if(!this.projectionDelta||!this.layout||!j.target){const nt={};return this.options.layoutId&&(nt.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,nt.pointerEvents=resolveMotionValue(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(nt.transform=_?_({},""):"none",this.hasProjected=!1),nt}const $=j.animationValues||j.latestValues;this.applyTransformsToTarget(),b.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,$),_&&(b.transform=_($,b.transform));const{x:_e,y:rt}=this.projectionDelta;b.transformOrigin=`${_e.origin*100}% ${rt.origin*100}% 0`,j.animationValues?b.opacity=j===this?(g=(h=$.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&g!==void 0?g:1:this.preserveOpacity?this.latestValues.opacity:$.opacityExit:b.opacity=j===this?$.opacity!==void 0?$.opacity:"":$.opacityExit!==void 0?$.opacityExit:0;for(const nt in scaleCorrectors){if($[nt]===void 0)continue;const{correct:st,applyTo:tt}=scaleCorrectors[nt],et=b.transform==="none"?$[nt]:st($[nt],j);if(tt){const it=tt.length;for(let pt=0;pt<it;pt++)b[tt[pt]]=et}else b[nt]=et}return this.options.layoutId&&(b.pointerEvents=j===this?resolveMotionValue(d==null?void 0:d.pointerEvents)||"":"none"),b}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var h;return(h=d.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(e){e.updateLayout()}function notifyLayoutUpdate(e){var i;const s=((i=e.resumeFrom)===null||i===void 0?void 0:i.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:o}=e.layout,{animationType:c}=e.options,d=s.source!==e.layout.source;c==="size"?eachAxis(j=>{const $=d?s.measuredBox[j]:s.layoutBox[j],_e=calcLength($);$.min=a[j].min,$.max=$.min+_e}):shouldAnimatePositionOnly(c,s.layoutBox,a)&&eachAxis(j=>{const $=d?s.measuredBox[j]:s.layoutBox[j],_e=calcLength(a[j]);$.max=$.min+_e,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[j].max=e.relativeTarget[j].min+_e)});const h=createDelta();calcBoxDelta(h,a,s.layoutBox);const g=createDelta();d?calcBoxDelta(g,e.applyTransform(o,!0),s.measuredBox):calcBoxDelta(g,a,s.layoutBox);const b=!isDeltaZero(h);let _=!1;if(!e.resumeFrom){const j=e.getClosestProjectingParent();if(j&&!j.resumeFrom){const{snapshot:$,layout:_e}=j;if($&&_e){const rt=createBox();calcRelativePosition(rt,s.layoutBox,$.layoutBox);const nt=createBox();calcRelativePosition(nt,a,_e.layoutBox),boxEqualsRounded(rt,nt)||(_=!0),j.options.layoutRoot&&(e.relativeTarget=nt,e.relativeTargetOrigin=rt,e.relativeParent=j)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:s,delta:g,layoutDelta:h,hasLayoutChanged:b,hasRelativeTargetChanged:_})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function propagateDirtyNodes(e){projectionFrameData.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cleanDirtyNodes(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function clearSnapshot(e){e.clearSnapshot()}function clearMeasurements(e){e.clearMeasurements()}function clearIsLayoutDirty(e){e.isLayoutDirty=!1}function resetTransformStyle(e){const{visualElement:i}=e.options;i&&i.getProps().onBeforeLayoutMeasure&&i.notify("BeforeLayoutMeasure"),e.resetTransform()}function finishAnimation(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function resolveTargetDelta(e){e.resolveTargetDelta()}function calcProjection(e){e.calcProjection()}function resetRotation(e){e.resetRotation()}function removeLeadSnapshots(e){e.removeLeadSnapshot()}function mixAxisDelta(e,i,s){e.translate=mix(i.translate,0,s),e.scale=mix(i.scale,1,s),e.origin=i.origin,e.originPoint=i.originPoint}function mixAxis(e,i,s,a){e.min=mix(i.min,s.min,a),e.max=mix(i.max,s.max,a)}function mixBox(e,i,s,a){mixAxis(e.x,i.x,s.x,a),mixAxis(e.y,i.y,s.y,a)}function hasOpacityCrossfade(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop;function roundAxis(e){e.min=roundPoint(e.min),e.max=roundPoint(e.max)}function roundBox(e){roundAxis(e.x),roundAxis(e.y)}function shouldAnimatePositionOnly(e,i,s){return e==="position"||e==="preserve-aspect"&&!isNear(aspectRatio(i),aspectRatio(s),.2)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(e,i)=>addDomEvent(e,"resize",i),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const e=new DocumentProjectionNode({});e.mount(window),e.setOptions({layoutScroll:!0}),rootProjectionNode.current=e}return rootProjectionNode.current},resetTransform:(e,i)=>{e.style.transform=i!==void 0?i:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}},splitCSSVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function parseCSSVariable(e){const i=splitCSSVariableRegex.exec(e);if(!i)return[,];const[,s,a]=i;return[s,a]}function getVariableValue(e,i,s=1){const[a,o]=parseCSSVariable(e);if(!a)return;const c=window.getComputedStyle(i).getPropertyValue(a);if(c){const d=c.trim();return isNumericalString(d)?parseFloat(d):d}else return isCSSVariableToken(o)?getVariableValue(o,i,s+1):o}function resolveCSSVariables(e,{...i},s){const a=e.current;if(!(a instanceof Element))return{target:i,transitionEnd:s};s&&(s={...s}),e.values.forEach(o=>{const c=o.get();if(!isCSSVariableToken(c))return;const d=getVariableValue(c,a);d&&o.set(d)});for(const o in i){const c=i[o];if(!isCSSVariableToken(c))continue;const d=getVariableValue(c,a);d&&(i[o]=d,s||(s={}),s[o]===void 0&&(s[o]=c))}return{target:i,transitionEnd:s}}const positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isPositionalKey=e=>positionalKeys.has(e),hasPositionalKey=e=>Object.keys(e).some(isPositionalKey),isNumOrPxType=e=>e===number$1||e===px,getPosFromMatrix=(e,i)=>parseFloat(e.split(", ")[i]),getTranslateFromMatrix=(e,i)=>(s,{transform:a})=>{if(a==="none"||!a)return 0;const o=a.match(/^matrix3d\((.+)\)$/);if(o)return getPosFromMatrix(o[1],i);{const c=a.match(/^matrix\((.+)\)$/);return c?getPosFromMatrix(c[1],e):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(e=>!transformKeys.has(e));function removeNonTranslationalTransform(e){const i=[];return nonTranslationalTransformKeys.forEach(s=>{const a=e.getValue(s);a!==void 0&&(i.push([s,a.get()]),a.set(s.startsWith("scale")?1:0))}),i.length&&e.render(),i}const positionalValues={width:({x:e},{paddingLeft:i="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(i)-parseFloat(s),height:({y:e},{paddingTop:i="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(i)-parseFloat(s),top:(e,{top:i})=>parseFloat(i),left:(e,{left:i})=>parseFloat(i),bottom:({y:e},{top:i})=>parseFloat(i)+(e.max-e.min),right:({x:e},{left:i})=>parseFloat(i)+(e.max-e.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const convertChangedValueTypes=(e,i,s)=>{const a=i.measureViewportBox(),o=i.current,c=getComputedStyle(o),{display:d}=c,h={};d==="none"&&i.setStaticValue("display",e.display||"block"),s.forEach(b=>{h[b]=positionalValues[b](a,c)}),i.render();const g=i.measureViewportBox();return s.forEach(b=>{const _=i.getValue(b);_&&_.jump(h[b]),e[b]=positionalValues[b](g,c)}),e},checkAndConvertChangedValueTypes=(e,i,s={},a={})=>{i={...i},a={...a};const o=Object.keys(i).filter(isPositionalKey);let c=[],d=!1;const h=[];if(o.forEach(g=>{const b=e.getValue(g);if(!e.hasValue(g))return;let _=s[g],j=findDimensionValueType(_);const $=i[g];let _e;if(isKeyframesTarget($)){const rt=$.length,nt=$[0]===null?1:0;_=$[nt],j=findDimensionValueType(_);for(let st=nt;st<rt&&$[st]!==null;st++)_e?invariant(findDimensionValueType($[st])===_e):_e=findDimensionValueType($[st])}else _e=findDimensionValueType($);if(j!==_e)if(isNumOrPxType(j)&&isNumOrPxType(_e)){const rt=b.get();typeof rt=="string"&&b.set(parseFloat(rt)),typeof $=="string"?i[g]=parseFloat($):Array.isArray($)&&_e===px&&(i[g]=$.map(parseFloat))}else j!=null&&j.transform&&(_e!=null&&_e.transform)&&(_===0||$===0)?_===0?b.set(_e.transform(_)):i[g]=j.transform($):(d||(c=removeNonTranslationalTransform(e),d=!0),h.push(g),a[g]=a[g]!==void 0?a[g]:i[g],b.jump($))}),h.length){const g=h.indexOf("height")>=0?window.pageYOffset:null,b=convertChangedValueTypes(i,e,h);return c.length&&c.forEach(([_,j])=>{e.getValue(_).set(j)}),e.render(),isBrowser&&g!==null&&window.scrollTo({top:g}),{target:b,transitionEnd:a}}else return{target:i,transitionEnd:a}};function unitConversion(e,i,s,a){return hasPositionalKey(i)?checkAndConvertChangedValueTypes(e,i,s,a):{target:i,transitionEnd:a}}const parseDomVariant=(e,i,s,a)=>{const o=resolveCSSVariables(e,i,a);return i=o.target,a=o.transitionEnd,unitConversion(e,i,s,a)},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),i=()=>prefersReducedMotion.current=e.matches;e.addListener(i),i()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(e,i,s){const{willChange:a}=i;for(const o in i){const c=i[o],d=s[o];if(isMotionValue(c))e.addValue(o,c),isWillChangeMotionValue(a)&&a.add(o);else if(isMotionValue(d))e.addValue(o,motionValue(c,{owner:e})),isWillChangeMotionValue(a)&&a.remove(o);else if(d!==c)if(e.hasValue(o)){const h=e.getValue(o);!h.hasAnimated&&h.set(c)}else{const h=e.getStaticValue(o);e.addValue(o,motionValue(h!==void 0?h:c,{owner:e}))}}for(const o in s)i[o]===void 0&&e.removeValue(o);return i}const visualElementStore=new WeakMap,featureNames=Object.keys(featureDefinitions),numFeatures=featureNames.length,propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],numVariantProps=variantProps.length;class VisualElement{constructor({parent:i,props:s,presenceContext:a,reducedMotionConfig:o,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>frame.render(this.render,!1,!0);const{latestValues:h,renderState:g}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=s.initial?{...h}:{},this.renderState=g,this.parent=i,this.props=s,this.presenceContext=a,this.depth=i?i.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.isControllingVariants=isControllingVariants(s),this.isVariantNode=isVariantNode(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(i&&i.current);const{willChange:b,..._}=this.scrapeMotionValuesFromProps(s,{});for(const j in _){const $=_[j];h[j]!==void 0&&isMotionValue($)&&($.set(h[j],!1),isWillChangeMotionValue(b)&&b.add(j))}}scrapeMotionValuesFromProps(i,s){return{}}mount(i){this.current=i,visualElementStore.set(i,this),this.projection&&!this.projection.instance&&this.projection.mount(i),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(i=>i()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const i in this.events)this.events[i].clear();for(const i in this.features)this.features[i].unmount();this.current=null}bindToMotionValue(i,s){const a=transformProps.has(i),o=s.on("change",d=>{this.latestValues[i]=d,this.props.onUpdate&&frame.update(this.notifyUpdate,!1,!0),a&&this.projection&&(this.projection.isTransformDirty=!0)}),c=s.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(i,()=>{o(),c()})}sortNodePosition(i){return!this.current||!this.sortInstanceNodePosition||this.type!==i.type?0:this.sortInstanceNodePosition(this.current,i.current)}loadFeatures({children:i,...s},a,o,c){let d,h;for(let g=0;g<numFeatures;g++){const b=featureNames[g],{isEnabled:_,Feature:j,ProjectionNode:$,MeasureLayout:_e}=featureDefinitions[b];$&&(d=$),_(s)&&(!this.features[b]&&j&&(this.features[b]=new j(this)),_e&&(h=_e))}if((this.type==="html"||this.type==="svg")&&!this.projection&&d){this.projection=new d(this.latestValues,this.parent&&this.parent.projection);const{layoutId:g,layout:b,drag:_,dragConstraints:j,layoutScroll:$,layoutRoot:_e}=s;this.projection.setOptions({layoutId:g,layout:b,alwaysMeasureLayout:!!_||j&&isRefObject(j),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof b=="string"?b:"both",initialPromotionConfig:c,layoutScroll:$,layoutRoot:_e})}return h}updateFeatures(){for(const i in this.features){const s=this.features[i];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(i){return this.latestValues[i]}setStaticValue(i,s){this.latestValues[i]=s}makeTargetAnimatable(i,s=!0){return this.makeTargetAnimatableFromInstance(i,this.props,s)}update(i,s){(i.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=i,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let a=0;a<propEventHandlers.length;a++){const o=propEventHandlers[a];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c=i["on"+o];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(i,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(i){return this.props.variants?this.props.variants[i]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(i=!1){if(i)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const a=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(a.initial=this.props.initial),a}const s={};for(let a=0;a<numVariantProps;a++){const o=variantProps[a],c=this.props[o];(isVariantLabel(c)||c===!1)&&(s[o]=c)}return s}addVariantChild(i){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(i),()=>s.variantChildren.delete(i)}addValue(i,s){s!==this.values.get(i)&&(this.removeValue(i),this.bindToMotionValue(i,s)),this.values.set(i,s),this.latestValues[i]=s.get()}removeValue(i){this.values.delete(i);const s=this.valueSubscriptions.get(i);s&&(s(),this.valueSubscriptions.delete(i)),delete this.latestValues[i],this.removeValueFromRenderState(i,this.renderState)}hasValue(i){return this.values.has(i)}getValue(i,s){if(this.props.values&&this.props.values[i])return this.props.values[i];let a=this.values.get(i);return a===void 0&&s!==void 0&&(a=motionValue(s,{owner:this}),this.addValue(i,a)),a}readValue(i){var s;return this.latestValues[i]!==void 0||!this.current?this.latestValues[i]:(s=this.getBaseTargetFromProps(this.props,i))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,i,this.options)}setBaseTarget(i,s){this.baseTarget[i]=s}getBaseTarget(i){var s;const{initial:a}=this.props,o=typeof a=="string"||typeof a=="object"?(s=resolveVariantFromProps(this.props,a))===null||s===void 0?void 0:s[i]:void 0;if(a&&o!==void 0)return o;const c=this.getBaseTargetFromProps(this.props,i);return c!==void 0&&!isMotionValue(c)?c:this.initialValues[i]!==void 0&&o===void 0?void 0:this.baseTarget[i]}on(i,s){return this.events[i]||(this.events[i]=new SubscriptionManager),this.events[i].add(s)}notify(i,...s){this.events[i]&&this.events[i].notify(...s)}}class DOMVisualElement extends VisualElement{sortInstanceNodePosition(i,s){return i.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(i,s){return i.style?i.style[s]:void 0}removeValueFromRenderState(i,{vars:s,style:a}){delete s[i],delete a[i]}makeTargetAnimatableFromInstance({transition:i,transitionEnd:s,...a},{transformValues:o},c){let d=getOrigin(a,i||{},this);if(o&&(s&&(s=o(s)),a&&(a=o(a)),d&&(d=o(d))),c){checkTargetForNewValues(this,a,d);const h=parseDomVariant(this,a,d,s);s=h.transitionEnd,a=h.target}return{transition:i,transitionEnd:s,...a}}}function getComputedStyle$1(e){return window.getComputedStyle(e)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html"}readValueFromInstance(i,s){if(transformProps.has(s)){const a=getDefaultValueType(s);return a&&a.default||0}else{const a=getComputedStyle$1(i),o=(isCSSVariableName(s)?a.getPropertyValue(s):a[s])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(i,{transformPagePoint:s}){return measureViewportBox(i,s)}build(i,s,a,o){buildHTMLStyles(i,s,a,o.transformTemplate)}scrapeMotionValuesFromProps(i,s){return scrapeMotionValuesFromProps$1(i,s)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:i}=this.props;isMotionValue(i)&&(this.childSubscription=i.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}renderInstance(i,s,a,o){renderHTML(i,s,a,o)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(i,s){return i[s]}readValueFromInstance(i,s){if(transformProps.has(s)){const a=getDefaultValueType(s);return a&&a.default||0}return s=camelCaseAttributes.has(s)?s:camelToDash(s),i.getAttribute(s)}measureInstanceViewportBox(){return createBox()}scrapeMotionValuesFromProps(i,s){return scrapeMotionValuesFromProps(i,s)}build(i,s,a,o){buildSVGAttrs(i,s,a,this.isSVGTag,o.transformTemplate)}renderInstance(i,s,a,o){renderSVG(i,s,a,o)}mount(i){this.isSVGTag=isSVGTag(i.tagName),super.mount(i)}}const createDomVisualElement=(e,i)=>isSVGComponent(e)?new SVGVisualElement(i,{enableHardwareAcceleration:!1}):new HTMLVisualElement(i,{enableHardwareAcceleration:!0}),layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},preloadedFeatures={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy((e,i)=>createDomMotionConfig(e,i,preloadedFeatures,createDomVisualElement));function useIsMounted(){const e=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function useForceUpdate(){const e=useIsMounted(),[i,s]=reactExports.useState(0),a=reactExports.useCallback(()=>{e.current&&s(i+1)},[i]);return[reactExports.useCallback(()=>frame.postRender(a),[a]),i]}class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(i){const s=this.props.childRef.current;if(s&&i.isPresent&&!this.props.isPresent){const a=this.props.sizeRef.current;a.height=s.offsetHeight||0,a.width=s.offsetWidth||0,a.top=s.offsetTop,a.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:e,isPresent:i}){const s=reactExports.useId(),a=reactExports.useRef(null),o=reactExports.useRef({width:0,height:0,top:0,left:0});return reactExports.useInsertionEffect(()=>{const{width:c,height:d,top:h,left:g}=o.current;if(i||!a.current||!c||!d)return;a.current.dataset.motionPopId=s;const b=document.createElement("style");return document.head.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            top: ${h}px !important;
            left: ${g}px !important;
          }
        `),()=>{document.head.removeChild(b)}},[i]),reactExports.createElement(PopChildMeasure,{isPresent:i,childRef:a,sizeRef:o},reactExports.cloneElement(e,{ref:a}))}const PresenceChild=({children:e,initial:i,isPresent:s,onExitComplete:a,custom:o,presenceAffectsLayout:c,mode:d})=>{const h=useConstant(newChildrenMap),g=reactExports.useId(),b=reactExports.useMemo(()=>({id:g,initial:i,isPresent:s,custom:o,onExitComplete:_=>{h.set(_,!0);for(const j of h.values())if(!j)return;a&&a()},register:_=>(h.set(_,!1),()=>h.delete(_))}),c?void 0:[s]);return reactExports.useMemo(()=>{h.forEach((_,j)=>h.set(j,!1))},[s]),reactExports.useEffect(()=>{!s&&!h.size&&a&&a()},[s]),d==="popLayout"&&(e=reactExports.createElement(PopChild,{isPresent:s},e)),reactExports.createElement(PresenceContext.Provider,{value:b},e)};function newChildrenMap(){return new Map}function useUnmountEffect(e){return reactExports.useEffect(()=>()=>e(),[])}const getChildKey=e=>e.key||"";function updateChildLookup(e,i){e.forEach(s=>{const a=getChildKey(s);i.set(a,s)})}function onlyElements(e){const i=[];return reactExports.Children.forEach(e,s=>{reactExports.isValidElement(s)&&i.push(s)}),i}const AnimatePresence=({children:e,custom:i,initial:s=!0,onExitComplete:a,exitBeforeEnter:o,presenceAffectsLayout:c=!0,mode:d="sync"})=>{const h=reactExports.useContext(LayoutGroupContext).forceRender||useForceUpdate()[0],g=useIsMounted(),b=onlyElements(e);let _=b;const j=reactExports.useRef(new Map).current,$=reactExports.useRef(_),_e=reactExports.useRef(new Map).current,rt=reactExports.useRef(!0);if(useIsomorphicLayoutEffect(()=>{rt.current=!1,updateChildLookup(b,_e),$.current=_}),useUnmountEffect(()=>{rt.current=!0,_e.clear(),j.clear()}),rt.current)return reactExports.createElement(reactExports.Fragment,null,_.map(et=>reactExports.createElement(PresenceChild,{key:getChildKey(et),isPresent:!0,initial:s?void 0:!1,presenceAffectsLayout:c,mode:d},et)));_=[..._];const nt=$.current.map(getChildKey),st=b.map(getChildKey),tt=nt.length;for(let et=0;et<tt;et++){const it=nt[et];st.indexOf(it)===-1&&!j.has(it)&&j.set(it,void 0)}return d==="wait"&&j.size&&(_=[]),j.forEach((et,it)=>{if(st.indexOf(it)!==-1)return;const pt=_e.get(it);if(!pt)return;const ot=nt.indexOf(it);let at=et;if(!at){const xt=()=>{j.delete(it);const gt=Array.from(_e.keys()).filter(ut=>!st.includes(ut));if(gt.forEach(ut=>_e.delete(ut)),$.current=b.filter(ut=>{const Et=getChildKey(ut);return Et===it||gt.includes(Et)}),!j.size){if(g.current===!1)return;h(),a&&a()}};at=reactExports.createElement(PresenceChild,{key:getChildKey(pt),isPresent:!1,onExitComplete:xt,custom:i,presenceAffectsLayout:c,mode:d},pt),j.set(it,at)}_.splice(ot,0,at)}),_=_.map(et=>{const it=et.key;return j.has(it)?et:reactExports.createElement(PresenceChild,{key:getChildKey(et),isPresent:!0,presenceAffectsLayout:c,mode:d},et)}),reactExports.createElement(reactExports.Fragment,null,j.size?_:_.map(et=>reactExports.cloneElement(et)))};var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),createLucideIcon=(e,i)=>{const s=reactExports.forwardRef(({color:a="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:d,children:h,...g},b)=>reactExports.createElement("svg",{ref:b,...defaultAttributes,width:o,height:o,stroke:a,strokeWidth:d?Number(c)*24/Number(o):c,className:`lucide lucide-${toKebabCase(e)}`,...g},[...i.map(([_,j])=>reactExports.createElement(_,j)),...(Array.isArray(h)?h:[h])||[]]));return s.displayName=`${e}`,s};var createLucideIcon$1=createLucideIcon;const AlertCircle=createLucideIcon$1("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),ArrowLeftCircle=createLucideIcon$1("ArrowLeftCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}]]),ArrowLeft=createLucideIcon$1("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),BookMarked=createLucideIcon$1("BookMarked",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["polyline",{points:"10 2 10 10 13 7 16 10 16 2",key:"13o6vz"}]]),BookOpen=createLucideIcon$1("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),CheckCircle2=createLucideIcon$1("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Check=createLucideIcon$1("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),ClipboardPaste=createLucideIcon$1("ClipboardPaste",[["path",{d:"M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z",key:"1pp7kr"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10",key:"2ik1ml"}],["path",{d:"m17 10 4 4-4 4",key:"vp2hj1"}]]),Clock=createLucideIcon$1("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),CloudRain=createLucideIcon$1("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]),Copy=createLucideIcon$1("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),ExternalLink=createLucideIcon$1("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),FileDown=createLucideIcon$1("FileDown",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),FileText=createLucideIcon$1("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),FileUp=createLucideIcon$1("FileUp",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]),Filter=createLucideIcon$1("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Flame=createLucideIcon$1("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),GaugeCircle=createLucideIcon$1("GaugeCircle",[["path",{d:"M15.6 2.7a10 10 0 1 0 5.7 5.7",key:"1e0p6d"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M13.4 10.6 19 5",key:"1kr7tw"}]]),Image$1=createLucideIcon$1("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Info$1=createLucideIcon$1("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Layers=createLucideIcon$1("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),Leaf=createLucideIcon$1("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]),Library=createLucideIcon$1("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]),Link2=createLucideIcon$1("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),Loader2=createLucideIcon$1("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),LogIn=createLucideIcon$1("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),LogOut=createLucideIcon$1("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),MessageCircle=createLucideIcon$1("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Monitor=createLucideIcon$1("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Moon=createLucideIcon$1("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),MoreHorizontal=createLucideIcon$1("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),Newspaper=createLucideIcon$1("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]),PauseCircle=createLucideIcon$1("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]),RefreshCw=createLucideIcon$1("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Search=createLucideIcon$1("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Send=createLucideIcon$1("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Shuffle=createLucideIcon$1("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),Sparkle=createLucideIcon$1("Sparkle",[["path",{d:"m12 3-1.9 5.8a2 2 0 0 1-1.287 1.288L3 12l5.8 1.9a2 2 0 0 1 1.288 1.287L12 21l1.9-5.8a2 2 0 0 1 1.287-1.288L21 12l-5.8-1.9a2 2 0 0 1-1.288-1.287Z",key:"nraa5p"}]]),Sparkles=createLucideIcon$1("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Sun=createLucideIcon$1("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Trash2=createLucideIcon$1("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Trees=createLucideIcon$1("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16v0H5v0h0a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"yh07w9"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]),UploadCloud=createLucideIcon$1("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),UserCircle=createLucideIcon$1("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),User=createLucideIcon$1("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Volume2=createLucideIcon$1("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),VolumeX=createLucideIcon$1("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Wand2=createLucideIcon$1("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),X=createLucideIcon$1("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Youtube=createLucideIcon$1("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),createStoreImpl=e=>{let i;const s=new Set,a=(_,j)=>{const $=typeof _=="function"?_(i):_;if(!Object.is($,i)){const _e=i;i=j??(typeof $!="object"||$===null)?$:Object.assign({},i,$),s.forEach(rt=>rt(i,_e))}},o=()=>i,g={setState:a,getState:o,getInitialState:()=>b,subscribe:_=>(s.add(_),()=>s.delete(_)),destroy:()=>{s.clear()}},b=i=e(a,o,g);return g},createStore=e=>e?createStoreImpl(e):createStoreImpl;var withSelector={exports:{}},withSelector_production={},shim$2={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$1=reactExports;function is$1(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var objectIs$1=typeof Object.is=="function"?Object.is:is$1,useState=React$1.useState,useEffect$1=React$1.useEffect,useLayoutEffect=React$1.useLayoutEffect,useDebugValue$2=React$1.useDebugValue;function useSyncExternalStore$2(e,i){var s=i(),a=useState({inst:{value:s,getSnapshot:i}}),o=a[0].inst,c=a[1];return useLayoutEffect(function(){o.value=s,o.getSnapshot=i,checkIfSnapshotChanged(o)&&c({inst:o})},[e,s,i]),useEffect$1(function(){return checkIfSnapshotChanged(o)&&c({inst:o}),e(function(){checkIfSnapshotChanged(o)&&c({inst:o})})},[e]),useDebugValue$2(s),s}function checkIfSnapshotChanged(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!objectIs$1(e,s)}catch{return!0}}function useSyncExternalStore$1(e,i){return i()}var shim$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React$1.useSyncExternalStore!==void 0?React$1.useSyncExternalStore:shim$1;shim$2.exports=useSyncExternalStoreShim_production;var shimExports=shim$2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports,shim=shimExports;function is(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var objectIs=typeof Object.is=="function"?Object.is:is,useSyncExternalStore=shim.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue$1=React.useDebugValue;withSelector_production.useSyncExternalStoreWithSelector=function(e,i,s,a,o){var c=useRef(null);if(c.current===null){var d={hasValue:!1,value:null};c.current=d}else d=c.current;c=useMemo(function(){function g(_e){if(!b){if(b=!0,_=_e,_e=a(_e),o!==void 0&&d.hasValue){var rt=d.value;if(o(rt,_e))return j=rt}return j=_e}if(rt=j,objectIs(_,_e))return rt;var nt=a(_e);return o!==void 0&&o(rt,nt)?(_=_e,rt):(_=_e,j=nt)}var b=!1,_,j,$=s===void 0?null:s;return[function(){return g(i())},$===null?void 0:function(){return g($())}]},[i,s,a,o]);var h=useSyncExternalStore(e,c[0],c[1]);return useEffect(function(){d.hasValue=!0,d.value=h},[h]),useDebugValue$1(h),h};withSelector.exports=withSelector_production;var withSelectorExports=withSelector.exports;const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports),{useDebugValue}=React$2,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports;let didWarnAboutEqualityFn=!1;const identity=e=>e;function useStore(e,i=identity,s){const a=useSyncExternalStoreWithSelector(e.subscribe,e.getState,e.getServerState||e.getInitialState,i,s);return useDebugValue(a),a}const createImpl=e=>{const i=typeof e=="function"?createStore(e):e,s=(a,o)=>useStore(i,a,o);return Object.assign(s,i),s},create$1=e=>e?createImpl(e):createImpl,instanceOfAny=(e,i)=>i.some(s=>e instanceof s);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(e){const i=new Promise((s,a)=>{const o=()=>{e.removeEventListener("success",c),e.removeEventListener("error",d)},c=()=>{s(wrap$2(e.result)),o()},d=()=>{a(e.error),o()};e.addEventListener("success",c),e.addEventListener("error",d)});return i.then(s=>{s instanceof IDBCursor&&cursorRequestMap.set(s,e)}).catch(()=>{}),reverseTransformCache.set(i,e),i}function cacheDonePromiseForTransaction(e){if(transactionDoneMap.has(e))return;const i=new Promise((s,a)=>{const o=()=>{e.removeEventListener("complete",c),e.removeEventListener("error",d),e.removeEventListener("abort",d)},c=()=>{s(),o()},d=()=>{a(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",c),e.addEventListener("error",d),e.addEventListener("abort",d)});transactionDoneMap.set(e,i)}let idbProxyTraps={get(e,i,s){if(e instanceof IDBTransaction){if(i==="done")return transactionDoneMap.get(e);if(i==="objectStoreNames")return e.objectStoreNames||transactionStoreNamesMap.get(e);if(i==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return wrap$2(e[i])},set(e,i,s){return e[i]=s,!0},has(e,i){return e instanceof IDBTransaction&&(i==="done"||i==="store")?!0:i in e}};function replaceTraps(e){idbProxyTraps=e(idbProxyTraps)}function wrapFunction(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(i,...s){const a=e.call(unwrap(this),i,...s);return transactionStoreNamesMap.set(a,i.sort?i.sort():[i]),wrap$2(a)}:getCursorAdvanceMethods().includes(e)?function(...i){return e.apply(unwrap(this),i),wrap$2(cursorRequestMap.get(this))}:function(...i){return wrap$2(e.apply(unwrap(this),i))}}function transformCachableValue(e){return typeof e=="function"?wrapFunction(e):(e instanceof IDBTransaction&&cacheDonePromiseForTransaction(e),instanceOfAny(e,getIdbProxyableTypes())?new Proxy(e,idbProxyTraps):e)}function wrap$2(e){if(e instanceof IDBRequest)return promisifyRequest(e);if(transformCache.has(e))return transformCache.get(e);const i=transformCachableValue(e);return i!==e&&(transformCache.set(e,i),reverseTransformCache.set(i,e)),i}const unwrap=e=>reverseTransformCache.get(e);function openDB(e,i,{blocked:s,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(e,i),h=wrap$2(d);return a&&d.addEventListener("upgradeneeded",g=>{a(wrap$2(d.result),g.oldVersion,g.newVersion,wrap$2(d.transaction),g)}),s&&d.addEventListener("blocked",g=>s(g.oldVersion,g.newVersion,g)),h.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",b=>o(b.oldVersion,b.newVersion,b))}).catch(()=>{}),h}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(e,i){if(!(e instanceof IDBDatabase&&!(i in e)&&typeof i=="string"))return;if(cachedMethods.get(i))return cachedMethods.get(i);const s=i.replace(/FromIndex$/,""),a=i!==s,o=writeMethods.includes(s);if(!(s in(a?IDBIndex:IDBObjectStore).prototype)||!(o||readMethods.includes(s)))return;const c=async function(d,...h){const g=this.transaction(d,o?"readwrite":"readonly");let b=g.store;return a&&(b=b.index(h.shift())),(await Promise.all([b[s](...h),o&&g.done]))[0]};return cachedMethods.set(i,c),c}replaceTraps(e=>({...e,get:(i,s,a)=>getMethod(i,s)||e.get(i,s,a),has:(i,s)=>!!getMethod(i,s)||e.has(i,s)}));const TEXT_STORE="texts",VOCAB_STORE="vocab",PREFS_STORE="prefs",migrations=[{version:1,migrate:e=>{e.objectStoreNames.contains(TEXT_STORE)||e.createObjectStore(TEXT_STORE,{keyPath:"id"}),e.objectStoreNames.contains(VOCAB_STORE)||e.createObjectStore(VOCAB_STORE,{keyPath:"id"}),e.objectStoreNames.contains(PREFS_STORE)||e.createObjectStore(PREFS_STORE)}}];function getLatestVersion(){var e;return((e=migrations[migrations.length-1])==null?void 0:e.version)??1}function runMigrations(e,i,s){for(const a of migrations)a.version>i&&(s===null||a.version<=s)&&a.migrate(e)}const DB_NAME="leflux-db",DB_VERSION=getLatestVersion();let dbPromise=null;async function getDatabase(){return dbPromise||(dbPromise=openDB(DB_NAME,DB_VERSION,{upgrade(e,i,s,a){runMigrations(e,i,s??null)}})),dbPromise}const db={async getAllTexts(){return(await getDatabase()).getAll(TEXT_STORE)},async getText(e){return(await getDatabase()).get(TEXT_STORE,e)},async putText(e){return(await getDatabase()).put(TEXT_STORE,e)},async deleteText(e){return(await getDatabase()).delete(TEXT_STORE,e)},async clearTexts(){await(await getDatabase()).clear(TEXT_STORE)},async getAllVocab(){return(await getDatabase()).getAll(VOCAB_STORE)},async getVocab(e){return(await getDatabase()).get(VOCAB_STORE,e)},async putVocab(e){return(await getDatabase()).put(VOCAB_STORE,e)},async deleteVocab(e){return(await getDatabase()).delete(VOCAB_STORE,e)},async clearVocab(){await(await getDatabase()).clear(VOCAB_STORE)},async getPrefs(){return(await getDatabase()).get(PREFS_STORE,"user")},async putPrefs(e){return(await getDatabase()).put(PREFS_STORE,e,"user")},async clearPrefs(){await(await getDatabase()).delete(PREFS_STORE,"user")}},useLibraryStore=create$1((e,i)=>{const s=async()=>{try{e({isLoading:!0,error:void 0});const a=await db.getAllTexts();e({texts:a,isLoading:!1})}catch(a){e({error:a instanceof Error?a.message:"Failed to load texts",isLoading:!1})}};return s(),{texts:[],isLoading:!0,error:void 0,addText:a=>{const o={...a,id:crypto.randomUUID(),createdAt:Date.now(),updatedAt:Date.now()};return e(c=>({texts:[...c.texts,o]})),db.putText(o),o.id},updateText:(a,o)=>{e(c=>{const d=c.texts.map(g=>g.id===a?{...g,...o,updatedAt:Date.now()}:g),h=d.find(g=>g.id===a);return h&&db.putText(h),{texts:d}})},deleteText:a=>{e(o=>({texts:o.texts.filter(c=>c.id!==a)})),db.deleteText(a)},getText:a=>i().texts.find(o=>o.id===a),hydrate:s}});function cn(...e){return e.filter(Boolean).join(" ")}const baseStyles="focus-ring inline-flex items-center justify-center rounded-3xl px-5 py-3 text-sm font-medium transition-transform duration-200 ease-in-out disabled:pointer-events-none disabled:opacity-40",intents={accent:"bg-accent text-[#1E1E1E] hover:scale-[1.02] shadow-[0_12px_40px_-20px_rgba(255,209,102,0.9)]",neutral:"bg-white/10 text-text-primary hover:bg-white/16 hover:scale-[1.02] border border-white/10",ghost:"bg-transparent text-text-secondary hover:text-text-primary hover:bg-white/5"},Button=reactExports.forwardRef(({intent:e="neutral",fullWidth:i,className:s,children:a,to:o,href:c,...d},h)=>{const g=cn(baseStyles,intents[e],i&&"w-full",s);return o?jsxRuntimeExports.jsx(Link,{ref:h,to:o,className:g,...d,children:a}):c?jsxRuntimeExports.jsx("a",{ref:h,href:c,className:g,...d,children:a}):jsxRuntimeExports.jsx("button",{ref:h,className:g,...d,children:a})});Button.displayName="Button";function LibraryCardGrid({texts:e}){const i=useNavigate(),s=useLibraryStore(o=>o.deleteText),a=reactExports.useCallback(o=>{window.confirm("Remover este texto da biblioteca?")&&s(o)},[s]);return jsxRuntimeExports.jsx("div",{className:"grid gap-6 sm:grid-cols-2 xl:grid-cols-3",children:e.map(o=>jsxRuntimeExports.jsxs(motion.article,{layout:!0,initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{duration:.18,ease:"easeInOut"},className:"surface-glass flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>i(`/read/${o.id}`),className:cn("relative h-40 w-full overflow-hidden focus-ring text-left",!o.coverUrl&&"bg-gradient-to-br from-white/5 via-white/2 to-transparent"),"aria-label":`Abrir ${o.title}`,children:[o.coverUrl?jsxRuntimeExports.jsx("img",{src:o.coverUrl,alt:"",className:"h-full w-full object-cover",loading:"lazy"}):jsxRuntimeExports.jsx("div",{className:"flex h-full w-full items-center justify-center text-4xl",children:""}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/0"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 flex-col gap-4 px-5 pb-5 pt-4",children:[jsxRuntimeExports.jsxs("header",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-xs uppercase tracking-[0.3em] text-text-tertiary",children:[jsxRuntimeExports.jsx("span",{children:o.lang}),jsxRuntimeExports.jsxs("span",{children:[Math.round(o.progress*100),"%"]})]}),jsxRuntimeExports.jsx("h3",{className:"font-display text-xl text-text-primary",children:o.title}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-text-secondary",children:["Atualizado ",new Date(o.updatedAt).toLocaleDateString()]})]}),jsxRuntimeExports.jsx("div",{className:"h-2 rounded-full bg-white/10",children:jsxRuntimeExports.jsx("div",{className:"h-full rounded-full bg-accent",style:{width:`${Math.min(100,Math.round(o.progress*100))}%`}})}),jsxRuntimeExports.jsxs("div",{className:"mt-auto flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>i(`/read/${o.id}`),className:"focus-ring inline-flex flex-1 items-center justify-center gap-2 rounded-3xl bg-accent px-4 py-2 font-medium text-[#1E1E1E] transition-transform duration-200 ease-in-out hover:scale-[1.02]",children:[jsxRuntimeExports.jsx(BookOpen,{className:"h-4 w-4"})," Ler"]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>i(`/texts?focus=${o.id}`),className:"focus-ring inline-flex items-center justify-center rounded-3xl bg-white/8 px-3 py-2 text-text-secondary transition-all duration-200 ease-in-out hover:bg-white/12 hover:text-text-primary","aria-label":"Ver detalhes",children:jsxRuntimeExports.jsx(MoreHorizontal,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>a(o.id),className:"focus-ring inline-flex items-center justify-center rounded-3xl bg-white/8 px-3 py-2 text-text-secondary transition-all duration-200 ease-in-out hover:bg-red-500/20 hover:text-red-200","aria-label":"Remover texto",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})]})]},o.id))})}const article=(...e)=>e.join(`

`),topicInsights={en:{culture:"Artists and cultural organizers involved in the project emphasized how language choice can reshape the tone of a performance, prompting audiences to reflect on migration, identity, and belonging from fresh angles.",technology:"Developers behind the initiative highlighted that blending pedagogy with engineering requires constant feedback from teachers, so they have built advisory boards to review privacy, accessibility, and curriculum alignment.",business:"Facilitators noted that multilingual workplaces thrive when teams invest in consistent terminology guides, allowing deals, customer calls, and compliance paperwork to flow without misunderstandings.",education:"Educators describe the initiative as part of a broader shift toward experiential learning, where students connect theory to practice through projects, exchanges, and community storytelling.",science:"Researchers involved say that opening complex topics to wider audiences demands precise yet approachable language, and they are publishing supporting glossaries to keep learners engaged."},es:{culture:"Artistas y gestores culturales remarcan que cambiar de idioma modifica la textura emocional de cada actividad, invitando al pblico a revisar la memoria migratoria y la identidad desde nuevas perspectivas.",technology:"El equipo de desarrollo insiste en que unir pedagoga con ingeniera requiere ciclos constantes de retroalimentacin, por lo que formaron comits docentes que revisan privacidad, accesibilidad y pertinencia curricular.",business:"Facilitadores empresariales subrayan que las organizaciones multilinges prosperan cuando documentan glosarios vivos, evitando malentendidos en negociaciones, atencin al cliente y procesos de cumplimiento.",education:"Docentes describen la propuesta como parte de una ola de aprendizaje experiencial, donde el alumnado enlaza teora y prctica mediante proyectos, intercambios y relatos comunitarios.",science:"Investigadores sealan que abrir temas complejos a nuevas audiencias exige un lenguaje preciso y cercano, por lo que publican glosarios de apoyo que mantienen la curiosidad encendida."},pt:{culture:"Artistas e gestores culturais destacam que alternar idiomas muda o clima emocional de cada atividade, levando o pblico a revisitar memrias de migrao e identidade por outros ngulos.",technology:"A equipe de tecnologia afirma que unir pedagogia e engenharia depende de ciclos constantes de feedback, por isso criaram conselhos docentes que avaliam privacidade, acessibilidade e aderncia curricular.",business:"Mentores empresariais apontam que ambientes de trabalho multilngues prosperam quando mantm glossrios vivos, reduzindo rudos em negociaes, suporte ao cliente e rotinas de compliance.",education:"Educadores descrevem a iniciativa como parte de uma virada para o aprendizado experiencial, em que estudantes conectam teoria e prtica por meio de projetos, intercmbios e narrativas comunitrias.",science:"Pesquisadores ressaltam que democratizar temas complexos demanda linguagem precisa e acolhedora, motivo pelo qual divulgam glossrios de apoio que mantm a curiosidade do pblico."}},closingInsights={en:"Learners following the project are encouraged to review the key expressions afterwards, add them to personalised study decks, and share reflections with peers so the vocabulary stays active beyond the news cycle.",es:"Quienes acompaan la iniciativa reciben guas para revisar expresiones clave despus, incorporarlas a sus propias listas de estudio y debatirlas con compaeros, manteniendo el vocabulario vivo ms all de la noticia.",pt:"Participantes e ouvintes recebem guias para revisar as expresses-chave depois, adicion-las s listas de estudo e coment-las com colegas, mantendo o vocabulrio ativo muito alm da reportagem."},articleFromSummary=({language:e,topic:i,title:s,summary:a,detail:o})=>article(`${s}. ${a}${o?` ${o}`:""}`.trim(),topicInsights[e][i],closingInsights[e]),curatedNews={en:{culture:[{id:"en-culture-1",title:"New bilingual theater collective sparks immersive performances",summary:"A troupe of actors from London and Bogot premiered a bilingual play that lets the audience choose scenes in English or Spanish, highlighting code-switching in daily life.",url:"https://www.example.com/en/culture/bilingual-theater-collective",source:"Cultural Pulse",topic:"culture",language:"en",content:article("A new bilingual theater collective linking London and Bogot is reshaping the way audiences experience live storytelling. Their debut production layers English and Spanish scenes, inviting viewers to vote in real time for which language and perspective the actors should adopt next. The ensemble says the format reflects the fluid conversations they hear on city streets and in immigrant households.","The creative team spent months workshopping idiomatic expressions, cultural references, and instruments so the transitions would feel organic instead of gimmicky. QR codes printed on the program lead to glossaries and short pronunciation clips, allowing attendees to prepare before curtain call. After each show the cast stays for an open forum where spectators share moments that challenged their comprehension and celebrate the phrases they carried home.","Language educators attending the premiere noted how the performance encouraged active listening and provided dozens of authentic phrases for classroom discussion. The collective plans to release study guides and annotated scripts so learners can revisit the material at their own pace. Tickets for the next run sold out in a weekend, signaling strong demand for cultural experiences that double as vibrant language labs.")},{id:"en-culture-2",title:"Literary caf hosts multilingual poetry night for learners",summary:"Students and teachers gathered in Lisbon to read short poems in their learning language, sharing tips on pronunciation and rhythm.",url:"https://www.example.com/en/culture/multilingual-poetry-night",source:"Language Today",topic:"culture",language:"en",content:article("A cozy literary caf tucked inside Lisbons Bairro Alto transformed into a stage for aspiring polyglots this weekend. Learners of all ages recited short poems in their target languages, alternating between Portuguese, English, French, and Cape Verdean Creole. Each reading began with a brief introduction highlighting the poems cultural background and the vocabulary that initially challenged the speaker.","Between performances, local linguists demonstrated breathing and rhythm exercises drawn from choral training to help readers maintain clarity under pressure. Attendees swapped annotated copies of the poems, comparing how literal translations can miss the playfulness or melancholy woven into the original text. Musicians provided soft accompaniment with fado guitar and hand drums, cueing transitions and underscoring the lyrical cadences of each language.","Organizers said the event is part of a monthly series aimed at demystifying public speaking for language learners while building a repository of crowd-sourced pronunciation notes. Recordings from the evening will be uploaded to an open archive, paired with learner reflections and mini-quizzes for educators. The caf plans to expand future sessions to include sign language poetry and spoken word pieces that mix multiple languages in the same performance.")},{id:"en-culture-3",title:"Community radio stages language exchange drama series",summary:"A volunteer station in Montreal airs short dramas co-written by learners, letting listeners vote on plot twists in English and French.",url:"https://www.example.com/en/culture/community-radio-language-drama",source:"Culture Wave",topic:"culture",language:"en",content:article("Volunteer producers at a neighborhood radio station in Montreal have launched a serialized drama that doubles as a language exchange experiment. Each episode follows roommates navigating workplace mishaps, family expectations, and late-night food cravings while switching fluidly between English and French. Scripts are co-written by learners who workshop vocabulary lists with mentors before recording in the stations basement studio.","Listeners can stream the show live or on-demand and then vote online for the next plot twist, forcing writers to respond with quick, idiom-rich dialogue. To support comprehension, the station publishes time-stamped transcripts, interactive glossaries, and behind-the-scenes interviews that unpack slang or regional expressions. A Discord community has sprung up around the series, where fans rehearse lines together and propose new characters representing Haitian Creole and Inuktitut communities.","The project illustrates how community media can create low-pressure immersion opportunities without the cost of formal classes. Teachers have already begun assigning episodes as homework, citing how the authentic pace of speech helps students get comfortable with natural code-switching. Funding from a local arts council will keep the series on air through the winter while the production team trains other neighborhoods to replicate the concept.")},{id:"en-culture-4",title:"Museum launches augmented reality language tours",summary:"Visitors wear smart glasses that overlay bilingual captions and pronunciation tips while they explore a rotating exhibit on migration stories.",url:"https://www.example.com/en/culture/museum-ar-language-tours",source:"Heritage Weekly",topic:"culture",language:"en",content:article("A waterfront museum in Rotterdam has debuted an augmented reality tour that blends migration history with live language coaching. Visitors borrow lightweight glasses that project bilingual captions, phonetic hints, and cultural trivia as they move from gallery to gallery. The current exhibition features oral histories from newcomers who describe their first impressions of Dutch markets, paperwork, and seaside weather.","The AR interface adapts in real time: pause near a vintage suitcase, and the overlay prompts key vocabulary related to travel logistics; linger at an archival photo, and the system offers idioms that express homesickness or resilience. Curators partnered with language teachers to script bite-size grammar notes and conversation starters families can practice while waiting in line. Feedback panels positioned throughout the exhibit capture new phrases guests plan to reuse at home.","Attendance has doubled since the launch, with many learners scheduling repeat visits to tackle higher difficulty settings that unlock region-specific dialects. The museum is packaging the platform as an open toolkit so smaller cultural centers can host similar bilingual tours. Educators hope the combination of visual storytelling and interactive language guidance will inspire more institutions to treat linguistic inclusion as a core part of visitor engagement.")},{id:"en-culture-5",title:"Indie game jam celebrates bilingual storytelling mechanics",summary:"Developers from Seoul and So Paulo prototyped games where players switch languages to unlock clues and character backstories.",url:"https://www.example.com/en/culture/bilingual-game-jam",source:"PlayLab",topic:"culture",language:"en",content:article("An indie game jam spanning Seoul and So Paulo challenged developers to weave bilingual mechanics directly into gameplay. Over a marathon weekend, small teams built prototypes where puzzles only unlock when players alternate between Portuguese, Korean, and English dialogue options. One standout entry cast gamers as translators decoding radio transmissions, rewarding correct context guesses with character backstories and new vocabulary flashcards.","Mentors from the localization industry hosted lightning talks on balancing readability with cultural nuance, encouraging participants to think beyond direct translation. Sound designers layered ambient recordings from both cities, blending subway announcements with street market chatter to reinforce the sense of navigating multiple linguistic worlds. Streamers broadcasting the event hosted live polls where viewers suggested slang terms to include in branching narratives.","Organizers plan to package the top prototypes as open-source learning tools, accompanied by teacher guides and worksheets. They hope the jam inspires studios to treat language switching as a core design choice rather than a subtitle toggle. The next edition will invite teams from Nairobi and Montreal, expanding the experiment into a rotating global residency for multilingual game design.")},{id:"en-culture-6",title:"Street art collective releases multilingual audio guides",summary:"A collective in Berlin mapped murals with QR codes that trigger narrative snippets recorded by local learners.",url:"https://www.example.com/en/culture/street-art-audio-guides",source:"Urban Canvas",topic:"culture",language:"en",content:article("Berlins street art collective Farbwechsel has unveiled a city-wide audio trail that transforms murals into mini language labs. Contributors affixed discrete QR codes to 30 large-format pieces across Kreuzberg and Neuklln, each linking to short narratives recorded in German, Turkish, and English. The stories mix artist interviews, neighborhood history, and vocabulary callouts designed by local adult learners.","Participants rehearse their scripts in community centers before stepping outside with portable recorders, capturing ambient noise so listeners feel embedded in each location. The project website displays transcripts with highlighted idioms and rough translations, while a mobile app lets users slow playback or loop tricky sentences. Residents can also submit their own interpretations, expanding the archive with dialects such as Arabic, Polish, and Spanish.","Tour guides report that even seasoned Berliners are revisiting alleyways to experience the new content, often pausing as a group to analyze metaphors or regional slang. Teachers have started assigning the walk as a scavenger hunt, pushing students to compare how graffiti vocabulary travels between languages. The collective hopes other cities will adopt the model and has published an open kit covering consent guidelines, signage templates, and audio post-production tips.")},{id:"en-culture-7",title:"Local library rotates manga translation workshops",summary:"Translators host monthly sessions breaking down visual storytelling cues and idioms found in contemporary manga.",url:"https://www.example.com/en/culture/library-manga-workshops",source:"Reader Connect",topic:"culture",language:"en",content:article("A suburban library outside Vancouver has discovered that manga can become a gateway to serious translation practice. Volunteer translators now host monthly workshops where participants dissect panels from contemporary series, comparing official English releases with fan-made versions. Facilitators focus on how facial expressions, panel pacing, and onomatopoeia shift the tone of a scene, prompting learners to justify their wording choices out loud.","The sessions include mini-lectures on cultural referenceseverything from regional snack brands to pop idolsso readers appreciate why certain jokes land differently abroad. Attendees split into small groups to produce revised drafts, then reconvene to present the linguistic compromises they negotiated. The library records the discussions and publishes anonymized commentary alongside vocabulary lists, turning each workshop into a reusable study kit.","Interest has grown so quickly that organizers now rotate themes, covering sports manga one month and slice-of-life dramas the next to keep the content fresh. Teachers of Japanese immersion programs have begun sending students to earn elective credit, noting how the collaborative environment encourages risk-taking with colloquial speech. The librarys leadership is exploring partnerships with publishers to secure early preview chapters and further enrich the curriculum.")},{id:"en-culture-8",title:"Cultural institute streams cross-border cooking classes",summary:"Chefs in Rabat and Marseille cook dishes side-by-side while teaching vocabulary for ingredients, utensils, and family traditions.",url:"https://www.example.com/en/culture/cross-border-cooking-stream",source:"Culinary Bridges",topic:"culture",language:"en",content:article("The Andalusian Cultural Institute has launched a livestream series that brings together chefs in Rabat and Marseille for synchronized cooking classes. Each episode features families preparing cherished recipesthink bissara soup alongside bouillabaissewhile narrating ingredient names and kitchen verbs in Arabic and French. Hosts pause regularly to zoom in on spices, utensils, and idiomatic expressions that describe simmering, marinating, or serving guests.","Viewers receive downloadable ingredient cards with phonetic spellings, plus substitution tips for sourcing items in different regions. A chat moderator fields vocabulary questions and invites audience members to share their own culinary stories, creating a dynamic glossary in real time. Between courses, the chefs swap anecdotes about holidays, markets, and grandmotherly advice, showing how food rituals encode values across generations.","The institute plans to archive each class with closed captions in three languages, turning the sessions into reusable learning modules for schools and community groups. Participants report that hearing culinary terms in context makes them stick, especially when paired with sensory cues from sizzling pans or mortar-and-pestle rhythms. Future episodes will expand to include guest appearances from Tunis, Lisbon, and Dakar, broadening the shared pantry of words and memories.")},{id:"en-culture-9",title:"Urban dance troupe shares glossary for choreography terms",summary:"Dancers compiled bilingual shorthand for movements so international crews can rehearse over video calls.",url:"https://www.example.com/en/culture/dance-troupe-glossary",source:"Movement Beat",topic:"culture",language:"en",content:article("An urban dance troupe known for viral rooftop performances has published a bilingual glossary to help crews rehearse across continents. The collective, splitting time between Manila and Los Angeles, catalogued more than 200 movement cues spanning popping, waacking, and contemporary fusion. Each entry includes a short definition in English and Filipino, audio clips that model pronunciation, and video snippets demonstrating how the term plays out in choreography.","Company co-founders explain that online rehearsals often stall when dancers interpret shorthand differently, so they spent months documenting the vocabulary they shout mid-routine. They invited collaborators in Seoul, Paris, and Lima to annotate the list with regional slang, adding context about how history and community influence naming conventions. The glossary lives on a free website with filters by style, tempo, and difficulty, complemented by a forum where users can request new terms.","Dance educators say the resource makes it easier to onboard beginners while preserving the genres rich oral tradition. The troupe plans to release quarterly updates that profile specific moves and trace their lineage through interviews with veteran dancers. Workshops built around the glossary now double as language practice sessions, proving that mastering a pirouette or dime-stop can also sharpen listening skills.")},{id:"en-culture-10",title:"Festival of lights hosts interactive vocabulary treasure hunt",summary:"Families scan illuminated installations to reveal riddles that must be solved in two languages to unlock the next clue.",url:"https://www.example.com/en/culture/festival-lights-vocabulary-hunt",source:"Nightlife Gazette",topic:"culture",language:"en",content:article("A riverside festival of lights in Lyon has turned its glowing sculptures into stations for an interactive vocabulary treasure hunt. Visitors use their phones to scan QR markers hidden within the installations, triggering riddles that must be solved in both French and English to advance. Families huddle together, comparing hints, testing pronunciations, and listening to short audio clues recorded by local schoolchildren.","Each puzzle blends wordplay with cultural referencesfrom culinary idioms about cheeses and pastries to expressions drawn from the citys silk-weaving past. When players submit a correct answer, the installation bursts into a new pattern of lights that highlights the featured words, offering instant visual reinforcement. Volunteers circulate with handheld projectors to display mini grammar lessons for anyone who wants a deeper explanation on the spot.","Festival organizers created the bilingual experience after surveys showed attendees wanted more opportunities to interact beyond passive viewing. The treasure hunt now anchors the events educational program, and teachers are booking field trips to let students test their skills in an immersive setting. Plans are already underway to add Italian and German tracks next year, ensuring the luminous maze keeps challenging multilingual adventurers.")}],technology:[{id:"en-tech-1",title:"AI subtitling tool boosts comprehension for language students",summary:"A startup released an offline-first subtitle enhancer that lets learners slow audio, highlight vocabulary, and export phrases straight into SRS decks.",url:"https://www.example.com/en/technology/ai-subtitling-tool",source:"Tech Lingua",topic:"technology",language:"en",content:article("An edtech startup based in Dublin has unveiled a subtitling companion that transforms streaming videos into personalized study sessions. The offline-first app overlays transcripts in multiple languages, offering sliders to adjust speech speed without distorting voices. Learners can tap any word or phrase to see contextual definitions, pitch accents, and usage notes crowd-sourced from teachers.","A standout feature exports selected phrases directly into spaced-repetition decks, tagging each card with timestamps so users can revisit the exact scene later. To respect privacy, the tool processes video locally on the device and stores notes in encrypted folders that sync only when users opt in. Pilot tests in university language labs showed a 20 percent increase in listening comprehension scores after four weeks of regular use.","The company plans to open-source its language models and publish accessibility guidelines so other developers can tailor the interface to low-vision or deaf learners. Educators praise the way the app encourages students to annotate media they already enjoy, bridging entertainment and study time. A roadmap for 2026 includes collaborative classrooms where teachers can push vocabulary packs to entire cohorts with a single click.")},{id:"en-tech-2",title:"Universities adopt open corpora to teach domain-specific jargon",summary:"European universities are sharing annotated corpora covering business, health, and climate topics to help learners access specialist language earlier.",url:"https://www.example.com/en/technology/open-corpora-program",source:"Academic Wire",topic:"technology",language:"en",content:article("A network of European universities has pooled resources to publish annotated corpora focused on business, healthcare, and climate science. The datasets combine journal excerpts, policy briefs, and interview transcripts, each tagged with grammatical patterns and industry-specific terminology. Educators can slice the corpus by proficiency level, generating reading packs that gradually introduce learners to acronyms, formulas, and meeting protocols.","Pilot classrooms report that students feel less intimidated when encountering specialist vocabulary in internships or exchange programs. The projects open license encourages companies and public institutions to contribute fresh material, ensuring lessons stay aligned with evolving jargon. Organizers are now recruiting mentors to host live coding sessions where learners explore the corpora with simple queries and build their own glossaries.")},{id:"en-tech-3",title:"Wearable translator adds spatial audio cues for vocabulary recall",summary:"A hardware startup built bone-conduction earbuds that whisper context-aware hints when learners pause during conversations.",url:"https://www.example.com/en/technology/wearable-spatial-audio",source:"Gadget Grid",topic:"technology",language:"en",content:articleFromSummary({language:"en",topic:"technology",title:"Wearable translator adds spatial audio cues for vocabulary recall",summary:"A hardware startup built bone-conduction earbuds that whisper context-aware hints when learners pause during conversations.",detail:"Beta testers praised the discreet prompts during networking events, saying the device nudged them toward natural phrasing without derailing the dialogue."})},{id:"en-tech-4",title:"Open-source plugin enforces bilingual commit messages",summary:"Global dev teams adopted a Git hook that suggests terminology matches across English and Japanese repositories.",url:"https://www.example.com/en/technology/bilingual-commit-plugin",source:"Code Relay",topic:"technology",language:"en",content:article("Distributed developer teams swapping between English and Japanese repositories have embraced a new open-source Git hook. The plugin analyzes commit messages and flags jargon that lacks a counterpart in the target language, proposing translations drawn from shared glossaries. Engineers can accept, tweak, or reject suggestions directly in their terminal before the commit lands.","Maintainers say the tool has reduced misunderstandings during code reviews and made onboarding smoother for new hires. The projects documentation includes tips for building parallel glossaries in other language pairs, and contributors are already experimenting with Spanish-German and Korean-French variants. Companies report that bilingual commit history doubles as a knowledge base for support staff who trace bugs across regions.")},{id:"en-tech-5",title:"AR dictionary overlays live transcripts onto transit signage",summary:"Commuters in Singapore test an app that projects translations on bus stops while highlighting related grammar patterns.",url:"https://www.example.com/en/technology/ar-transit-dictionary",source:"City Tech",topic:"technology",language:"en",content:articleFromSummary({language:"en",topic:"technology",title:"AR dictionary overlays live transcripts onto transit signage",summary:"Commuters in Singapore test an app that projects translations on bus stops while highlighting related grammar patterns.",detail:"Transit authorities embedded commuter feedback buttons in the pilot stations, and early surveys show riders revisiting the same stop just to practice new sentence structures."})},{id:"en-tech-6",title:"Browser extension gamifies reading with adaptive micro-quizzes",summary:"Learners earn points by answering context questions that pop up after tricky paragraphs on news sites.",url:"https://www.example.com/en/technology/browser-micro-quizzes",source:"Productivity Pulse",topic:"technology",language:"en",content:articleFromSummary({language:"en",topic:"technology",title:"Browser extension gamifies reading with adaptive micro-quizzes",summary:"Learners earn points by answering context questions that pop up after tricky paragraphs on news sites.",detail:"The extension now syncs with classroom leaderboards, letting teachers spotlight articles that inspired the most discussion and clarifying which question types still cause confusion."})},{id:"en-tech-7",title:"Synthetic voice pack tuned for slow-paced listening practice",summary:"Researchers released open voices that emphasize intonation patterns for intermediate learners.",url:"https://www.example.com/en/technology/synthetic-voice-pack",source:"Voice Frontier",topic:"technology",language:"en",content:articleFromSummary({language:"en",topic:"technology",title:"Synthetic voice pack tuned for slow-paced listening practice",summary:"Researchers released open voices that emphasize intonation patterns for intermediate learners.",detail:"Audio designers recorded native speakers reading dialogues at multiple tempos so learners can compare natural rhythm with slowed-down delivery inside the same track."})},{id:"en-tech-8",title:"Nonprofit curates dataset of accessible tech manuals",summary:"Community translators converted robotics documentation into simplified bilingual glossaries.",url:"https://www.example.com/en/technology/accessibility-manuals",source:"Inclusive Labs",topic:"technology",language:"en",content:articleFromSummary({language:"en",topic:"technology",title:"Nonprofit curates dataset of accessible tech manuals",summary:"Community translators converted robotics documentation into simplified bilingual glossaries.",detail:"Volunteer engineers annotated diagrams with plain-language captions, and the nonprofit is pairing each manual with short pronunciation guides recorded by apprentices."})},{id:"en-tech-9",title:"Hackathon prototypes AI meeting partner for real-time note-taking",summary:"Students designed a privacy-first agent that summarizes jargon and flags unknown terms for later review.",url:"https://www.example.com/en/technology/ai-meeting-partner",source:"Campus Innovate",topic:"technology",language:"en",content:articleFromSummary({language:"en",topic:"technology",title:"Hackathon prototypes AI meeting partner for real-time note-taking",summary:"Students designed a privacy-first agent that summarizes jargon and flags unknown terms for later review.",detail:"The team is releasing a sandbox dataset so other universities can stress-test the bot, and mentors insisted the code remain open to reassure participants about data handling."})},{id:"en-tech-10",title:"Universities compile multilingual cybersecurity playbooks",summary:"Joint task forces in Canada and Germany publish training modules to teach risk vocabulary for IT teams.",url:"https://www.example.com/en/technology/multilingual-cybersecurity-playbook",source:"Security Sphere",topic:"technology",language:"en",content:articleFromSummary({language:"en",topic:"technology",title:"Universities compile multilingual cybersecurity playbooks",summary:"Joint task forces in Canada and Germany publish training modules to teach risk vocabulary for IT teams.",detail:"Each module includes mock incident reports translated side by side, giving analysts a chance to practice escalations in English, French, and German before they face real alerts."})}],business:[{id:"en-business-1",title:"Remote companies invest in cross-language onboarding",summary:"Distributed teams are hiring coaches to help new employees learn workplace idioms and cultural cues within the first quarter.",url:"https://www.example.com/en/business/cross-language-onboarding",source:"Global Work",topic:"business",language:"en"},{id:"en-business-2",title:"Entrepreneurs launch marketplace for bilingual tutors",summary:"A cooperative of independent tutors offers lessons focused on negotiation and customer support in two languages.",url:"https://www.example.com/en/business/bilingual-tutor-marketplace",source:"Startup Weekly",topic:"business",language:"en"},{id:"en-business-3",title:"Global incubator mentors founders to pitch in three languages",summary:"A cohort of climate startups practiced investor decks in English, Mandarin, and Spanish with professional coaches.",url:"https://www.example.com/en/business/global-incubator-trilingual-pitches",source:"Venture Voice",topic:"business",language:"en"},{id:"en-business-4",title:"Trade show recruits interpreters for pop-up negotiation labs",summary:"Exhibitors simulate deals in rotating language pairs so teams can stress-test their sales scripts.",url:"https://www.example.com/en/business/trade-show-negotiation-labs",source:"Market Stage",topic:"business",language:"en"},{id:"en-business-5",title:"Finance firms roll out bilingual mentorship rotations",summary:"Analysts shadow peers in So Paulo and Toronto to master compliance terminology in both Portuguese and English.",url:"https://www.example.com/en/business/bilingual-mentorship-rotations",source:"Finance Ledger",topic:"business",language:"en"},{id:"en-business-6",title:"Customer support alliance shares glossary for regional slang",summary:"Support leads compiled idioms gathered from help desk transcripts through Latin America.",url:"https://www.example.com/en/business/customer-support-glossary",source:"Service Desk Pro",topic:"business",language:"en"},{id:"en-business-7",title:"Hospitality chain launches language stipends tied to retention",summary:"Hotels reimburse classes for concierge staff who demonstrate guest satisfaction gains in a second language.",url:"https://www.example.com/en/business/hospitality-language-stipends",source:"Travel Ledger",topic:"business",language:"en"},{id:"en-business-8",title:"Export council publishes multilingual supply chain templates",summary:"SMBs download contract boilerplates annotated with key phrases in English, Arabic, and French.",url:"https://www.example.com/en/business/multilingual-supply-chain-templates",source:"Logistics Today",topic:"business",language:"en"},{id:"en-business-9",title:"Remote-first companies test asynchronous language buddies",summary:"Employees pair up across time zones to exchange video notes focused on workplace idioms.",url:"https://www.example.com/en/business/asynchronous-language-buddies",source:"Future Work",topic:"business",language:"en"},{id:"en-business-10",title:"Retail giants host multilingual product feedback marathons",summary:"Teams invite customers to annotate packaging prototypes while capturing common expressions in Spanish and English.",url:"https://www.example.com/en/business/multilingual-feedback-marathons",source:"Commerce Insight",topic:"business",language:"en"}],education:[{id:"en-education-1",title:"Schools pilot story-based immersion modules",summary:"High schools in Canada replaced textbook drills with serialized audio dramas that adapt vocabulary to each class level.",url:"https://www.example.com/en/education/story-immersion-modules",source:"EduLab",topic:"education",language:"en"},{id:"en-education-2",title:"Teachers swap lessons on sustainable cities across borders",summary:"Educators from So Paulo and Barcelona co-wrote bilingual lessons about public transport and climate resilience.",url:"https://www.example.com/en/education/cross-border-lessons",source:"Classroom Exchange",topic:"education",language:"en"},{id:"en-education-3",title:"Community colleges launch micro-credentials in live interpreting",summary:"Students earn badges after practicing simultaneous interpretation during campus events and webinars.",url:"https://www.example.com/en/education/micro-credential-interpreting",source:"Academic Paths",topic:"education",language:"en"},{id:"en-education-4",title:"Blended reality field trips link classrooms across continents",summary:"Schools in Nairobi and Oslo shared VR walks where learners narrated scenes using curated vocabulary decks.",url:"https://www.example.com/en/education/blended-reality-field-trips",source:"Learning Horizons",topic:"education",language:"en"},{id:"en-education-5",title:"Language labs adopt AI conversation partners for homework help",summary:"Tutors monitor AI chats and inject targeted prompts so students reflect on grammar choices.",url:"https://www.example.com/en/education/ai-conversation-partners",source:"EdTech Journal",topic:"education",language:"en"},{id:"en-education-6",title:"After-school clubs digitize oral histories for heritage language practice",summary:"Teens interview grandparents and transform recordings into bilingual readers with comprehension quizzes.",url:"https://www.example.com/en/education/oral-history-clubs",source:"Community Classroom",topic:"education",language:"en"},{id:"en-education-7",title:"Scholarship program funds immersion exchange for vocational learners",summary:"Apprentices in culinary and renewable energy tracks pair with partner schools to master technical jargon abroad.",url:"https://www.example.com/en/education/vocational-immersion-scholarship",source:"Skills Network",topic:"education",language:"en"},{id:"en-education-8",title:"Libraries pilot bilingual storytime podcasts for families",summary:"Children record weekly episodes retelling folktales while librarians share comprehension prompts.",url:"https://www.example.com/en/education/bilingual-storytime-podcast",source:"Family Literacy",topic:"education",language:"en"},{id:"en-education-9",title:"Teacher cooperatives build open dataset of formative prompts",summary:"Educators mapped can-do statements to scaffolded questions for CLIL lessons across STEM subjects.",url:"https://www.example.com/en/education/formative-prompt-dataset",source:"Pedagogy Hub",topic:"education",language:"en"},{id:"en-education-10",title:"National exam board integrates intercultural communication modules",summary:"New assessments evaluate how students negotiate meaning and repair misunderstandings in second-language scenarios.",url:"https://www.example.com/en/education/intercultural-exam-modules",source:"Assessment Review",topic:"education",language:"en"}],science:[{id:"en-science-1",title:"Linguists map how climate news spreads across languages",summary:"A research group analyzed climate change terminology across thirteen languages to help fact-checkers localize alerts faster.",url:"https://www.example.com/en/science/climate-news-linguistics",source:"Science & Language",topic:"science",language:"en"},{id:"en-science-2",title:"Neuroscientists study drift in late bilingual pronunciation",summary:"A new study finds that daily shadowing exercises help adults maintain pronunciation accuracy even after switching work languages.",url:"https://www.example.com/en/science/bilingual-pronunciation-drift",source:"NeuroLingua",topic:"science",language:"en"},{id:"en-science-3",title:"Speech lab maps tone patterns across emerging dialects",summary:"Researchers collected tone contour datasets to help learners mimic regional intonation in Mandarin and Yoruba.",url:"https://www.example.com/en/science/tone-pattern-research",source:"Phonetics Review",topic:"science",language:"en"},{id:"en-science-4",title:"Cognitive scientists test spaced repetition for signed languages",summary:"A trial measured how learners retain ASL classifiers when practice includes haptic feedback.",url:"https://www.example.com/en/science/spaced-repetition-sign-language",source:"Cognition Lab",topic:"science",language:"en"},{id:"en-science-5",title:"Data scientists analyze learner podcasts for vocabulary density",summary:"The open dataset tracks how community shows recycle high-frequency terms and introduces idioms.",url:"https://www.example.com/en/science/podcast-vocabulary-density",source:"DataLingua",topic:"science",language:"en"},{id:"en-science-6",title:"Ecologists co-design multilingual citizen science prompts",summary:"Teams crafted birdwatching surveys in three languages to minimize ambiguity for volunteers.",url:"https://www.example.com/en/science/multilingual-citizen-science",source:"Green Science",topic:"science",language:"en"},{id:"en-science-7",title:"AI researchers model accent adaptation for text-to-speech systems",summary:"New models let learners blend their native phonology with target language prosody for more natural feedback.",url:"https://www.example.com/en/science/accent-adaptation-tts",source:"AI Speech Digest",topic:"science",language:"en"},{id:"en-science-8",title:"Medical linguists compile rapid-response telehealth lexicon",summary:"Clinics share multilingual scripts covering triage, consent, and follow-up instructions.",url:"https://www.example.com/en/science/telehealth-lexicon",source:"Health Language",topic:"science",language:"en"},{id:"en-science-9",title:"Psycholinguists study storytelling scaffolds in immersive VR lessons",summary:"Participants who rephrased plot summaries in VR retained figurative language at higher rates.",url:"https://www.example.com/en/science/vr-storytelling-scaffolds",source:"Mind & Language",topic:"science",language:"en"},{id:"en-science-10",title:"Space agency trains crew with cross-language mission rehearsals",summary:"Astronauts simulate emergency checklists alternating between Russian and English to reduce handover friction.",url:"https://www.example.com/en/science/cross-language-mission-rehearsal",source:"Orbital Research",topic:"science",language:"en"}]},es:{culture:[{id:"es-culture-1",title:"Festival de cine ofrece coloquios en el idioma del pblico",summary:"El festival de San Sebastin habilit sesiones bilinges donde los asistentes comentan cortometrajes en su idioma de aprendizaje.",url:"https://www.example.com/es/cultura/festival-cine-bilingue",source:"Cultura Viva",topic:"culture",language:"es"},{id:"es-culture-2",title:"Club de lectura en lnea mezcla autores latinoamericanos y asiticos",summary:"Estudiantes de Madrid y Ciudad de Mxico leen cuentos breves en su idioma meta y comparten audio-notas para practicar entonacin.",url:"https://www.example.com/es/cultura/club-lectura-multilingue",source:"Lectores Hoy",topic:"culture",language:"es"},{id:"es-culture-3",title:"Radio comunitaria estrena radionovela para intercambio lingstico",summary:"Un colectivo en Medelln produce episodios cortos en dos idiomas para practicar modismos y pronunciacin en vivo.",url:"https://www.example.com/es/cultura/radio-comunitaria-radionovela",source:"Voces Urbanas",topic:"culture",language:"es"},{id:"es-culture-4",title:"Museo lanza visitas de realidad aumentada con subttulos bilinges",summary:"Los visitantes activan paneles interactivos que muestran contextos histricos y expresiones clave en el idioma meta.",url:"https://www.example.com/es/cultura/museo-realidad-aumentada",source:"Patrimonio Hoy",topic:"culture",language:"es"},{id:"es-culture-5",title:"Jam de videojuegos impulsa narrativas interculturales",summary:"Equipos de Buenos Aires y Tokio disearon juegos donde avanzar requiere alternar entre vocabularios.",url:"https://www.example.com/es/cultura/jam-videojuegos-bilingue",source:"Pixel Colectivo",topic:"culture",language:"es"},{id:"es-culture-6",title:"Colectivo de muralistas publica audioguas multilinges",summary:"Un mapa de murales en Valparaso integra cdigos QR con relatos grabados por estudiantes de idiomas.",url:"https://www.example.com/es/cultura/murales-audioguias",source:"Arte Vivo",topic:"culture",language:"es"},{id:"es-culture-7",title:"Biblioteca organiza talleres de traduccin de cmics contemporneos",summary:"Editoras independientes comparten tcnicas para adaptar humor visual y expresiones coloquiales.",url:"https://www.example.com/es/cultura/taller-traduccion-comics",source:"Lectores Globales",topic:"culture",language:"es"},{id:"es-culture-8",title:"Instituto cultural transmite clases de cocina conectando ciudades hermanas",summary:"Chef de Puebla y Lyon ensean recetas familiares mientras comparan vocabulario gastronmico.",url:"https://www.example.com/es/cultura/clases-cocina-ciudades-hermanas",source:"Sabores del Mundo",topic:"culture",language:"es"},{id:"es-culture-9",title:"Compaa de danza urbana comparte glosario colaborativo",summary:"Bailarines documentan indicaciones escnicas en espaol e ingls para ensayar a distancia.",url:"https://www.example.com/es/cultura/danza-glosario-colaborativo",source:"Movimiento Libre",topic:"culture",language:"es"},{id:"es-culture-10",title:"Festival de luces propone gincana de vocabulario interactiva",summary:"Familias resuelven pistas bilinges proyectadas en fachadas histricas para desbloquear escenas secretas.",url:"https://www.example.com/es/cultura/festival-luces-gincana",source:"Noches Culturales",topic:"culture",language:"es"}],technology:[{id:"es-tech-1",title:"Aplicacin mvil ensea jerga tecnolgica con mini retos diarios",summary:"La app LabLingo lanza desafos de traduccin de commits y documentacin para desarrolladores en espaol.",url:"https://www.example.com/es/tecnologia/app-jerga-tecnologica",source:"TecnoAprende",topic:"technology",language:"es"},{id:"es-tech-2",title:"Universidades crean repositorio libre de guas de estilo multilinges",summary:"Facultades de ingeniera publican glosarios comparados para que estudiantes comprendan manuales tcnicos en varios idiomas.",url:"https://www.example.com/es/tecnologia/repositorio-estilo",source:"Campus Global",topic:"technology",language:"es"},{id:"es-tech-3",title:"Auriculares traductores aaden pistas espaciales para recordar vocabulario",summary:"Una startup disea dispositivos que detectan pausas en la conversacin y sugieren expresiones con volumen adaptativo.",url:"https://www.example.com/es/tecnologia/auriculares-traductores-pistas",source:"Innovacin Porttil",topic:"technology",language:"es"},{id:"es-tech-4",title:"Plugin open source exige mensajes de commit bilinges",summary:"Equipos distribuidos sincronizan trminos clave entre repositorios en espaol e ingls para evitar ambigedades.",url:"https://www.example.com/es/tecnologia/plugin-commit-bilingue",source:"Cdigo Abierto",topic:"technology",language:"es"},{id:"es-tech-5",title:"Aplicacin de realidad aumentada traduce sealizacin de transporte",summary:"Pasajeros en Ciudad de Mxico prueban un visor que resalta verbos y tiempos verbales presentes en anuncios pblicos.",url:"https://www.example.com/es/tecnologia/realidad-aumentada-transporte",source:"Movilidad Inteligente",topic:"technology",language:"es"},{id:"es-tech-6",title:"Extensin de navegador propone micro-cuestionarios segn el contexto",summary:"Lectores de noticias responden preguntas de opcin mltiple cada vez que aparece una expresin idiomtica.",url:"https://www.example.com/es/tecnologia/extension-cuestionarios-contexto",source:"Productividad Digital",topic:"technology",language:"es"},{id:"es-tech-7",title:"Paquete de voces sintticas se ajusta a ritmos de aprendizaje",summary:"Investigadores liberan voces que enfatizan entonacin y pausas para quienes estudian a velocidad lenta.",url:"https://www.example.com/es/tecnologia/voces-sinteticas-aprendizaje",source:"Laboratorio Vocal",topic:"technology",language:"es"},{id:"es-tech-8",title:"Organizacin sin fines de lucro recopila manuales tcnicos accesibles",summary:"Voluntarios generan glosarios paralelos de robtica y energas limpias con ejemplos prcticos.",url:"https://www.example.com/es/tecnologia/manuales-tecnicos-accesibles",source:"Tecnologa Inclusiva",topic:"technology",language:"es"},{id:"es-tech-9",title:"Hackatn desarrolla asistente de reuniones con resmenes terminolgicos",summary:"Estudiantes implementan un agente que etiqueta jerga especializada y la enva a la app de estudio del equipo.",url:"https://www.example.com/es/tecnologia/asistente-reuniones-terminologia",source:"Campus Tech",topic:"technology",language:"es"},{id:"es-tech-10",title:"Universidades crean manuales de ciberseguridad en varios idiomas",summary:"Docentes de Madrid y Bogot disean simulaciones de incidentes con vocabulario clave para equipos de TI.",url:"https://www.example.com/es/tecnologia/manuales-ciberseguridad-multilingues",source:"Seguridad 360",topic:"technology",language:"es"}],business:[{id:"es-business-1",title:"Cooperativas regionales ofrecen mentoras bilinges para exportadores",summary:"Pequeas empresas latinoamericanas reciben clases de ingls comercial para negociar con distribuidores europeos.",url:"https://www.example.com/es/negocios/mentorias-bilingues",source:"Mercado Abierto",topic:"business",language:"es"},{id:"es-business-2",title:"Podcast empresarial analiza expresiones idiomticas en ventas",summary:"Consultoras de Buenos Aires explican frases hechas y ofrecen ejemplos de pitch en espaol e ingls.",url:"https://www.example.com/es/negocios/podcast-expresiones",source:"Negocios Hoy",topic:"business",language:"es"},{id:"es-business-3",title:"Aceleradora global entrena a emprendedores para pitch trilinge",summary:"Startups de energa limpia ensayan presentaciones en ingls, mandarn y espaol con asesora especializada.",url:"https://www.example.com/es/negocios/aceleradora-pitch-trilingue",source:"Capital Emprendedor",topic:"business",language:"es"},{id:"es-business-4",title:"Feria comercial organiza laboratorios de negociacin con intrpretes",summary:"Expositores replican contratos ficticios en distintos idiomas para mejorar la comunicacin con proveedores.",url:"https://www.example.com/es/negocios/laboratorios-negociacion",source:"Mercados Unidos",topic:"business",language:"es"},{id:"es-business-5",title:"Firmas financieras lanzan mentoras bilinges entre sucursales",summary:"Analistas de Lima y Toronto intercambian terminologa regulatoria y simulaciones de reportes.",url:"https://www.example.com/es/negocios/mentorias-financieras-bilingues",source:"Finanzas Globales",topic:"business",language:"es"},{id:"es-business-6",title:"Alianza de soporte al cliente comparte glosario de modismos regionales",summary:"Empresas de e-commerce recolectan frases frecuentes de tickets para capacitar agentes remotos.",url:"https://www.example.com/es/negocios/glosario-modismos-soporte",source:"Atencin Total",topic:"business",language:"es"},{id:"es-business-7",title:"Cadenas hoteleras vinculan estipendios de idioma con retencin laboral",summary:"Gerentes demuestran mayor satisfaccin de huspedes tras ofrecer coaching de vocabulario especializado.",url:"https://www.example.com/es/negocios/hoteles-estipendios-idiomas",source:"Turismo Profesional",topic:"business",language:"es"},{id:"es-business-8",title:"Consejo exportador publica plantillas de cadena de suministro multilinges",summary:"Pequeas empresas descargan contratos con notas sobre clusulas clave en rabe, francs e ingls.",url:"https://www.example.com/es/negocios/plantillas-cadena-suministro",source:"Logstica Hoy",topic:"business",language:"es"},{id:"es-business-9",title:"Compaas remotas prueban parejas lingsticas asincrnicas",summary:"Colaboradores se envan videomensajes semanales centrados en expresiones corporativas difciles.",url:"https://www.example.com/es/negocios/parejas-linguisticas-asincronas",source:"Trabajo Futuro",topic:"business",language:"es"},{id:"es-business-10",title:"Minoristas organizan maratones de retroalimentacin multilinge de productos",summary:"Clientes editan etiquetas piloto mientras graban comentarios en ingls y espaol para equipos de diseo.",url:"https://www.example.com/es/negocios/maratones-retroalimentacion",source:"Retail Insight",topic:"business",language:"es"}],education:[{id:"es-education-1",title:"Programa de intercambio conecta aulas rurales con ciudades",summary:"Docentes de Cusco y Barcelona disean actividades en espaol y cataln para comparar la vida rural y urbana.",url:"https://www.example.com/es/educacion/intercambio-rural",source:"Aula Viva",topic:"education",language:"es"},{id:"es-education-2",title:"Curso en lnea gua estudiantes por museos virtuales",summary:"El programa Museos sin frontera ofrece tours narrados en tiempo real con foco en vocabulario de arte.",url:"https://www.example.com/es/educacion/museos-virtuales",source:"Aprender Arte",topic:"education",language:"es"},{id:"es-education-3",title:"Colegios comunitarios crean microcredenciales en interpretacin en vivo",summary:"Estudiantes obtienen certificaciones tras traducir charlas y seminarios transmitidos por streaming.",url:"https://www.example.com/es/educacion/microcredenciales-interpretacion",source:"Ruta Acadmica",topic:"education",language:"es"},{id:"es-education-4",title:"Excursiones hbridas conectan aulas en Nairobi y Bilbao",summary:"Alumnado narra experiencias en realidad virtual y crea glosarios compartidos para describir paisajes urbanos.",url:"https://www.example.com/es/educacion/excursiones-hibridas",source:"Horizonte Escolar",topic:"education",language:"es"},{id:"es-education-5",title:"Laboratorios de idiomas adoptan acompaantes conversacionales con IA",summary:"Docentes revisan chats y dejan notas metalingsticas para reforzar estructuras complejas.",url:"https://www.example.com/es/educacion/companion-ia-conversacion",source:"Aula Digital",topic:"education",language:"es"},{id:"es-education-6",title:"Clubes vespertinos digitalizan historias orales familiares",summary:"Adolescentes convierten relatos de abuelos en lecturas bilinges con preguntas de comprensin.",url:"https://www.example.com/es/educacion/historias-orales-digitales",source:"Comunidad Educadora",topic:"education",language:"es"},{id:"es-education-7",title:"Programa de becas financia inmersin tcnica en oficios",summary:"Aprendices de gastronoma y energa solar realizan rotaciones cortas en pases socios.",url:"https://www.example.com/es/educacion/becas-inmersion-oficios",source:"Red de Talentos",topic:"education",language:"es"},{id:"es-education-8",title:"Bibliotecas lanzan pdcast de cuentos bilinges para familias",summary:"Nios narran fbulas mientras bibliotecarias aaden retos de vocabulario y pronunciacin.",url:"https://www.example.com/es/educacion/podcast-cuentos-bilingues",source:"Lectura Familiar",topic:"education",language:"es"},{id:"es-education-9",title:"Cooperativa docente construye banco abierto de preguntas formativas",summary:"Profesores relacionan objetivos comunicativos con situaciones autnticas en ciencias y humanidades.",url:"https://www.example.com/es/educacion/banco-preguntas-formativas",source:"Pedagoga Colectiva",topic:"education",language:"es"},{id:"es-education-10",title:"Organismo evaluador incorpora mdulos de comunicacin intercultural",summary:"Nuevas pruebas miden cmo los estudiantes reparan malentendidos y construyen significado en otra lengua.",url:"https://www.example.com/es/educacion/modulos-comunicacion-intercultural",source:"Evaluacin Integral",topic:"education",language:"es"}],science:[{id:"es-science-1",title:"Investigadores analizan cmo se comunica la ciencia climtica en espaol",summary:"El proyecto TermoClima detecta lagunas terminolgicas en noticias ambientales y propone equivalentes claros.",url:"https://www.example.com/es/ciencia/comunicacion-climatica",source:"Ciencia Pblica",topic:"science",language:"es"},{id:"es-science-2",title:"Neuropsiclogos estudian la memoria al alternar idiomas",summary:"Un equipo de Valencia descubre que repasar vocabulario antes de dormir mejora la consolidacin en bilinges tardos.",url:"https://www.example.com/es/ciencia/memoria-bilingue",source:"Neuro Aprendizaje",topic:"science",language:"es"},{id:"es-science-3",title:"Laboratorio fontico mapea patrones tonales en dialectos emergentes",summary:"Investigadores recopilan curvas meldicas para ayudar a estudiantes a imitar entonaciones regionales.",url:"https://www.example.com/es/ciencia/patrones-tonales-dialectos",source:"Fontica Aplicada",topic:"science",language:"es"},{id:"es-science-4",title:"Cientficos cognitivos prueban repeticin espaciada en lengua de seas",summary:"Un estudio analiza la retencin de clasificadores cuando se combinan prcticas hpticas y visuales.",url:"https://www.example.com/es/ciencia/repeticion-espaciada-senas",source:"Cognicin y Lenguaje",topic:"science",language:"es"},{id:"es-science-5",title:"Analistas de datos estudian pdcasts estudiantiles para medir densidad lxica",summary:"La base abierta rastrea cmo los programas comunitarios introducen modismos a lo largo de la temporada.",url:"https://www.example.com/es/ciencia/podcasts-densidad-lexica",source:"Datos Lingsticos",topic:"science",language:"es"},{id:"es-science-6",title:"Ecologistas disean cuestionarios de ciencia ciudadana multilinges",summary:"Las guas reducen ambigedades para voluntarios que registran aves migratorias en rutas compartidas.",url:"https://www.example.com/es/ciencia/ciencia-ciudadana-multilingue",source:"Planeta Vivo",topic:"science",language:"es"},{id:"es-science-7",title:"Equipo de IA modela adaptacin de acento en sistemas de sntesis",summary:"Los modelos permiten ajustar rasgos prosdicos sin perder claridad para oyentes principiantes.",url:"https://www.example.com/es/ciencia/adaptacion-acento-tts",source:"IA y Voz",topic:"science",language:"es"},{id:"es-science-8",title:"Lingistas mdicos compilan lxico para telemedicina",summary:"Centros de salud publican scripts de triage, consentimiento y seguimiento en varios dialectos.",url:"https://www.example.com/es/ciencia/lexico-telemedicina",source:"Salud Lingstica",topic:"science",language:"es"},{id:"es-science-9",title:"Psicolingistas exploran andamiajes narrativos en aulas de realidad virtual",summary:"Participantes que reformulan tramas muestran mayor retencin de lenguaje figurado.",url:"https://www.example.com/es/ciencia/andamiaje-narrativo-vr",source:"Mente y Idioma",topic:"science",language:"es"},{id:"es-science-10",title:"Agencia espacial ensaya protocolos cruzados entre ruso e ingls",summary:"Astronautas practican listas de verificacin de emergencia alternando idiomas para reducir errores de transferencia.",url:"https://www.example.com/es/ciencia/protocolos-cruzados-mision",source:"Exploracin Orbital",topic:"science",language:"es"}]},pt:{culture:[{id:"pt-culture-1",title:"Festival literrio promove saraus em mltiplos idiomas",summary:"Em Recife, leitores se renem para ler contos curtos na lngua que esto estudando e receber feedback de sotaque.",url:"https://www.example.com/pt/cultura/festival-literario-multilingue",source:"Cultura em Rede",topic:"culture",language:"pt"},{id:"pt-culture-2",title:"Clube de cinema oferece debates com mediao bilngue",summary:"Cineastas independentes exibem filmes estrangeiros e propem perguntas guiadas para ampliar vocabulrio.",url:"https://www.example.com/pt/cultura/clube-cinema-bilingue",source:"Tela Aberta",topic:"culture",language:"pt"},{id:"pt-culture-3",title:"Rdio comunitria lana radionovela para intercmbio lingustico",summary:"Em Belo Horizonte, voluntrios escrevem episdios bilngues que apresentam grias e expresses cotidianas.",url:"https://www.example.com/pt/cultura/radio-radionovela-intercambio",source:"Vozes Locais",topic:"culture",language:"pt"},{id:"pt-culture-4",title:"Museu inaugura visitas com realidade aumentada e legendas duplas",summary:"culos inteligentes exibem termos histricos e pronncia guiada  medida que o pblico percorre as salas.",url:"https://www.example.com/pt/cultura/museu-realidade-aumentada",source:"Patrimnio Vivo",topic:"culture",language:"pt"},{id:"pt-culture-5",title:"Maratona de jogos independentes celebra narrativas bilngues",summary:"Times de Curitiba e Lisboa criaram prottipos em que trocar de idioma revela pistas secretas.",url:"https://www.example.com/pt/cultura/maratona-jogos-bilingues",source:"Pixel Livre",topic:"culture",language:"pt"},{id:"pt-culture-6",title:"Coletivo de arte urbana lana audioguias multilngues",summary:"Mapas de grafites em So Paulo trazem QR codes com relatos interpretados por estudantes.",url:"https://www.example.com/pt/cultura/audioguia-arte-urbana",source:"Cidade Criativa",topic:"culture",language:"pt"},{id:"pt-culture-7",title:"Biblioteca promove oficinas de traduo de mangs contemporneos",summary:"Tradutores convidam leitores a adaptar grias e onomatopeias preservando o ritmo da narrativa.",url:"https://www.example.com/pt/cultura/oficina-traducao-mangas",source:"Leitura Aberta",topic:"culture",language:"pt"},{id:"pt-culture-8",title:"Instituto cultural transmite aulas de culinria entre cidades irms",summary:"Chefes de Salvador e Porto ensinam pratos familiares enquanto explicam termos regionais.",url:"https://www.example.com/pt/cultura/aulas-culinaria-cidades-irmas",source:"Sabores Conectados",topic:"culture",language:"pt"},{id:"pt-culture-9",title:"Grupo de dana urbana divulga glossrio colaborativo",summary:"Coregrafos registram comandos em portugus e ingls para ensaios remotos sincronizados.",url:"https://www.example.com/pt/cultura/danca-glossario-colaborativo",source:"Movimento Vivo",topic:"culture",language:"pt"},{id:"pt-culture-10",title:"Festival de luzes cria caa ao tesouro de vocabulrio",summary:"Visitantes desbloqueiam poemas projetados ao resolver charadas em dois idiomas.",url:"https://www.example.com/pt/cultura/festival-luzes-vocabulario",source:"Noite Cultural",topic:"culture",language:"pt"}],technology:[{id:"pt-tech-1",title:"Plataforma open source traduz boletins tcnicos em tempo real",summary:"Voluntrios criaram glossrios comparados para termos de energia renovvel em portugus e alemo.",url:"https://www.example.com/pt/tecnologia/plataforma-traducao-tecnica",source:"Tech&Lnguas",topic:"technology",language:"pt"},{id:"pt-tech-2",title:"Aplicativo nacional lana coach de pronncia com IA offline",summary:"O recurso treina entonao e d feedback sobre sotaque usando frases reais de podcasts populares.",url:"https://www.example.com/pt/tecnologia/app-pronuncia-ia",source:"Inovao Brasil",topic:"technology",language:"pt"},{id:"pt-tech-3",title:"Fone tradutor inclui pistas espaciais para reforar vocabulrio",summary:"Uma startup carioca ajusta volume e posio do udio conforme o nvel de confiana do aprendiz.",url:"https://www.example.com/pt/tecnologia/fone-tradutor-pistas",source:"Inova Som",topic:"technology",language:"pt"},{id:"pt-tech-4",title:"Plugin open source sugere commits bilngues automaticamente",summary:"Equipes distribuem glossrios sincronizados entre repositrios em portugus e ingls.",url:"https://www.example.com/pt/tecnologia/plugin-commits-bilingues",source:"Cdigo Vivo",topic:"technology",language:"pt"},{id:"pt-tech-5",title:"App de realidade aumentada traduz sinalizao de metr em tempo real",summary:"Passageiros no Rio apontam o celular para placas e recebem tradues com notas gramaticais.",url:"https://www.example.com/pt/tecnologia/app-ra-metro",source:"Mobilidade Inteligente",topic:"technology",language:"pt"},{id:"pt-tech-6",title:"Extenso de navegador aplica quizzes contextuais enquanto o usurio l",summary:"Perguntas aparecem aps pargrafos complexos e oferecem explicaes de expresses idiomticas.",url:"https://www.example.com/pt/tecnologia/extensao-quizzes-contexto",source:"Produtividade Agora",topic:"technology",language:"pt"},{id:"pt-tech-7",title:"Pacote de vozes sintticas destaca prosdia para estudantes intermedirios",summary:"Pesquisadores lanam modelos que enfatizam ritmo natural sem acelerar demais as frases.",url:"https://www.example.com/pt/tecnologia/pacote-vozes-prosodia",source:"Voz e IA",topic:"technology",language:"pt"},{id:"pt-tech-8",title:"ONG organiza repositrio de manuais tcnicos acessveis",summary:"Voluntrios compartilham tradues comentadas de documentos sobre energia solar e automao.",url:"https://www.example.com/pt/tecnologia/manuais-tecnicos-acessiveis",source:"Tech Solidria",topic:"technology",language:"pt"},{id:"pt-tech-9",title:"Hackathon cria assistente de reunies que marca jarges desconhecidos",summary:"O prottipo gera resumos com termos-chave e links para revises posteriores.",url:"https://www.example.com/pt/tecnologia/assistente-reunioes-jargao",source:"Campus Inova",topic:"technology",language:"pt"},{id:"pt-tech-10",title:"Universidades publicam playbooks de cibersegurana multilngues",summary:"Instituies de Braslia e Berlim elaboram drills que padronizam terminologia crtica.",url:"https://www.example.com/pt/tecnologia/playbook-ciberseguranca-multilingue",source:"Segurana em Rede",topic:"technology",language:"pt"}],business:[{id:"pt-business-1",title:"Startups criam programas de imerso para equipes globais",summary:"Empresas brasileiras oferecem rotinas bilngues de onboarding com foco em linguagem de negcios.",url:"https://www.example.com/pt/negocios/imersao-equipes-globais",source:"Mercado Global",topic:"business",language:"pt"},{id:"pt-business-2",title:"Consultorias ensinam expresses comerciais em encontros semanais",summary:"Mentores ajudam profissionais a adaptar pitches de vendas para clientes internacionais.",url:"https://www.example.com/pt/negocios/consultoria-expressoes",source:"Negcios em Foco",topic:"business",language:"pt"},{id:"pt-business-3",title:"Aceleradora global prepara fundadores para pitches trilingues",summary:"Empreendedores de impacto social treinam apresentaes em ingls, espanhol e portugus.",url:"https://www.example.com/pt/negocios/aceleradora-pitches-trilingues",source:"Capital Criativo",topic:"business",language:"pt"},{id:"pt-business-4",title:"Feira internacional monta laboratrio de negociao com intrpretes",summary:"Expositores simulam contratos em diferentes idiomas para testar repertrios de vendas.",url:"https://www.example.com/pt/negocios/laboratorio-negociacao",source:"Mercado Conectado",topic:"business",language:"pt"},{id:"pt-business-5",title:"Bancos criam mentorias bilngues entre escritrios regionais",summary:"Analistas de Porto Alegre e Toronto trocam relatrios e desenvolvem vocabulrio regulatrio compartilhado.",url:"https://www.example.com/pt/negocios/mentoria-bilingue-bancos",source:"Finance Lab",topic:"business",language:"pt"},{id:"pt-business-6",title:"Rede de suporte ao cliente divulga glossrio de expresses locais",summary:"Equipes compilam ditados e abreviaes comuns para acelerar respostas em chats multilngues.",url:"https://www.example.com/pt/negocios/glossario-expressao-suporte",source:"Atendimento 360",topic:"business",language:"pt"},{id:"pt-business-7",title:"Hotelaria vincula bnus de idiomas  satisfao dos hspedes",summary:"Concierges recebem formao contnua e monitoram avaliaes para medir impacto do aprendizado.",url:"https://www.example.com/pt/negocios/hotelaria-bonus-idiomas",source:"Turismo Inteligente",topic:"business",language:"pt"},{id:"pt-business-8",title:"Conselho exportador disponibiliza modelos logsticos bilngues",summary:"PMEs baixam planilhas com clusulas destacadas em rabe, ingls e portugus.",url:"https://www.example.com/pt/negocios/modelos-logisticos-bilingues",source:"Cadeia Global",topic:"business",language:"pt"},{id:"pt-business-9",title:"Empresas remotas experimentam duplas de idioma assncronas",summary:"Colaboradores gravam vdeos semanais focados em expresses corporativas difceis.",url:"https://www.example.com/pt/negocios/duplas-idioma-assincronas",source:"Trabalho Hbrido",topic:"business",language:"pt"},{id:"pt-business-10",title:"Varejistas promovem maratonas de feedback em mltiplos idiomas",summary:"Clientes comentam prottipos de embalagens e registram sugestes em espanhol e portugus.",url:"https://www.example.com/pt/negocios/maratona-feedback-multilingue",source:"Retail Brasil",topic:"business",language:"pt"}],education:[{id:"pt-education-1",title:"Rede pblica integra histrias seriadas nas aulas de idiomas",summary:"Professores utilizam narrativas curtas em udio para reforar vocabulrio com atividades interativas.",url:"https://www.example.com/pt/educacao/historias-seriadas",source:"Educao Hoje",topic:"education",language:"pt"},{id:"pt-education-2",title:"Parceria internacional leva laboratrio de idiomas a bairros perifricos",summary:"Estudantes de Recife e Porto trocam cartas de udio comentando iniciativas de sustentabilidade.",url:"https://www.example.com/pt/educacao/laboratorio-idiomas",source:"Rede Escola",topic:"education",language:"pt"},{id:"pt-education-3",title:"Institutos federais criam microcertificaes em interpretao simultnea",summary:"Turmas praticam traduo ao vivo em eventos acadmicos e recebem feedback de especialistas.",url:"https://www.example.com/pt/educacao/microcertificacao-interpretacao",source:"Educao Tcnica",topic:"education",language:"pt"},{id:"pt-education-4",title:"Excurses imersivas unem escolas de Maputo e Porto Alegre",summary:"Estudantes descrevem cenrios em realidade virtual e constroem glossrios colaborativos.",url:"https://www.example.com/pt/educacao/excursoes-imersivas",source:"Mundos Conectados",topic:"education",language:"pt"},{id:"pt-education-5",title:"Laboratrios de idiomas adotam parceiros conversacionais com IA",summary:"Tutoras supervisionam dilogos gerados por IA e inserem desafios especficos de gramtica.",url:"https://www.example.com/pt/educacao/parceiro-conversacional-ia",source:"EdTech Brasil",topic:"education",language:"pt"},{id:"pt-education-6",title:"Clubes juvenis digitalizam memrias familiares para estudo de lngua de herana",summary:"Grupos transformam entrevistas em livros digitais com exerccios de compreenso.",url:"https://www.example.com/pt/educacao/memorias-familiares-digitais",source:"Comunidade Escola",topic:"education",language:"pt"},{id:"pt-education-7",title:"Bolsa de intercmbio financia imerso tcnica para aprendizes",summary:"Cursos profissionalizantes de gastronomia e tecnologia enviam estudantes para residncias curtas.",url:"https://www.example.com/pt/educacao/bolsa-imersao-tecnica",source:"Rede Profisses",topic:"education",language:"pt"},{id:"pt-education-8",title:"Bibliotecas lanam podcast de contao de histrias bilngue",summary:"Famlias participam lendo episdios e recebendo sugestes de entonao.",url:"https://www.example.com/pt/educacao/podcast-contacao-bilingue",source:"Leitura em Casa",topic:"education",language:"pt"},{id:"pt-education-9",title:"Coletivo docente cria banco aberto de tarefas formativas",summary:"Educadores alinham descritores de nvel com perguntas situadas em STEAM.",url:"https://www.example.com/pt/educacao/banco-tarefas-formativas",source:"Pedagogia Aberta",topic:"education",language:"pt"},{id:"pt-education-10",title:"Conselho avaliador inclui mdulos de comunicao intercultural",summary:"Avaliaes nacionais passam a medir estratgias de negociao de sentido em segunda lngua.",url:"https://www.example.com/pt/educacao/modulos-comunicacao-intercultural",source:"Avalia Brasil",topic:"education",language:"pt"}],science:[{id:"pt-science-1",title:"Pesquisadores analisam terminologia de sade em mltiplos idiomas",summary:"Universidades lusfonas mapeiam diferenas em relatrios mdicos para acelerar tradues de urgncia.",url:"https://www.example.com/pt/ciencia/terminologia-saude",source:"Cincia Viva",topic:"science",language:"pt"},{id:"pt-science-2",title:"Estudo revela impacto da msica na reteno de vocabulrio",summary:"Neurocientistas brasileiros observam que cantar com letras adaptadas ajuda adultos a memorizar expresses complexas.",url:"https://www.example.com/pt/ciencia/musica-vocabulario",source:"NeuroEdu",topic:"science",language:"pt"},{id:"pt-science-3",title:"Laboratrio de fontica mapeia entoao em dialetos emergentes",summary:"Pesquisadores disponibilizam curvas de tons para auxiliar imitadores de sotaque.",url:"https://www.example.com/pt/ciencia/entoacao-dialetos-emergentes",source:"Fontica Em Foco",topic:"science",language:"pt"},{id:"pt-science-4",title:"Cientistas cognitivos testam repetio espaada em lnguas de sinais",summary:"Participantes usam luvas hpticas para reforar classificadores complexos.",url:"https://www.example.com/pt/ciencia/repeticao-espacada-libras",source:"Cognio & Linguagem",topic:"science",language:"pt"},{id:"pt-science-5",title:"Equipe de dados avalia densidade vocabular em podcasts estudantis",summary:"O conjunto aberto mede frequncia de expresses idiomticas ao longo dos episdios.",url:"https://www.example.com/pt/ciencia/podcasts-densidade-vocabular",source:"Dados & Lnguas",topic:"science",language:"pt"},{id:"pt-science-6",title:"Ecologistas criam guias de cincia cidad multilngues",summary:"Projetos de observao de aves recebem roteiros claros para voluntrios internacionais.",url:"https://www.example.com/pt/ciencia/guias-ciencia-cidada",source:"Planeta Verde",topic:"science",language:"pt"},{id:"pt-science-7",title:"Pesquisa em IA modela adaptao de sotaque para sntese de fala",summary:"Modelos ajustam prosdia de acordo com a lngua alvo, preservando inteligibilidade.",url:"https://www.example.com/pt/ciencia/adaptacao-sotaque-tts",source:"IA & Voz",topic:"science",language:"pt"},{id:"pt-science-8",title:"Linguistas clnicos criam lxico gil para telemedicina",summary:"Hospitais compartilham scripts multilingues para triagem, consentimento e alta.",url:"https://www.example.com/pt/ciencia/lexico-telemedicina",source:"Sade Lingustica",topic:"science",language:"pt"},{id:"pt-science-9",title:"Psicolinguistas estudam narrativas em aulas imersivas de VR",summary:"Alunos que recontam histrias em realidade virtual retm metforas com maior preciso.",url:"https://www.example.com/pt/ciencia/narrativas-vr-imersivo",source:"Mente & Fala",topic:"science",language:"pt"},{id:"pt-science-10",title:"Agncia espacial treina equipes com checklists bilngues",summary:"Operaes simuladas alternam russo e ingls para reduzir rudo em emergncias.",url:"https://www.example.com/pt/ciencia/checklists-bilingues-espaco",source:"Pesquisa Orbital",topic:"science",language:"pt"}]}};function getCuratedNews(e,i){var o,c;const s=e.toLowerCase(),[a]=s.split("-");return(o=curatedNews[s])!=null&&o[i]?curatedNews[s][i]:(c=curatedNews[a])!=null&&c[i]?curatedNews[a][i]:curatedNews.en[i]}const defaultPrefs={theme:"dark",targetLang:"en",fontSize:16,lineHeight:1.6,ambientSound:"none"},usePrefsStore=create$1((e,i)=>{const s=async()=>{try{e({isLoading:!0,error:void 0});const a=await db.getPrefs();e({prefs:a??defaultPrefs,isLoading:!1})}catch(a){e({prefs:defaultPrefs,isLoading:!1,error:a instanceof Error?a.message:"Failed to load preferences"})}};return s(),{prefs:defaultPrefs,isLoading:!0,error:void 0,updatePrefs:a=>{const o={...i().prefs,...a};e({prefs:o}),db.putPrefs(o)},hydrate:s}}),uiLocales={en:{meta:{code:"en",name:"English",languageLabel:"English",topics:[{id:"culture",label:"Culture"},{id:"technology",label:"Technology"},{id:"business",label:"Business"},{id:"education",label:"Education"},{id:"science",label:"Science"}],storyModes:{vocab:"Saved vocabulary",prompt:"Custom prompt"}},nav:{library:"Library",import:"Import",vocabulary:"Vocabulary",review:"Review",stories:"Creations",account:"Account"},common:{refresh:"Refresh",topic:"Topic",noContent:"Nothing to show yet."},library:{tag:"Library",headline:"Your comprehensible input garden",description:"Organize texts, videos, and audio to nurture your fluency. Everything works offline, at your own pace.",emptyHeading:"No texts yet  transform your input into learning.",emptyDescription:"Import a text, video, or subtitle file and dive into focused reading.",error:"Something did not load. Try again?"},quickActions:{youtube:{title:"Save from YouTube",description:"Paste a video link and turn it into study material."},news:{title:"News clipping",description:"Read timely topics to practice extensive comprehension."},vocab:{title:"Saved vocabulary",description:"Review flagged words and track spaced repetition progress."},stories:{title:"Generate stories",description:"Combine vocabulary or your own prompt to craft mini tales."}},news:{title:"News highlights",subtitle:"Daily digest curated for your study language. Pick a topic to dive in.",error:"We could not refresh the clipping right now. Try again in a moment.",empty:"No curated articles for this topic yet.",cta:"Read article",save:"Add to library",saving:"Saving",saved:"Article saved to your library.",saveError:"We could not save this article right now."},texts:{tag:"Creations",title:"Mini stories and term remixes",description:"Mix your vocabulary or write a custom prompt to spin new stories.",modeLabel:"Story basis",promptLabel:"Custom prompt",promptPlaceholder:"Describe the setting, characters, tone, or grammar focus you want.",promptHint:"Switch modes to choose between saved words or a fully custom prompt.",extraPromptHint:"Add extra guidance (optional) when using vocabulary mode.",summary:{selected:"Selected",due:"Due",mastered:"Mastered",length:"Length",lengthUnit:"chars"},controls:{selectAll:"Select all",clear:"Clear",shuffle:"Shuffle"},actions:{copy:"Copy",copied:"Copied",generate:"Generate story",generating:"Generating...",export:"Save to library"},messages:{needVocab:"Save some words before generating stories.",promptRequired:"Describe your idea before generating.",copied:"Copied to the clipboard.",copyError:"We could not copy right now.",saved:"Story saved to the library.",emptyGenerated:"Generate a story first.",fallback:"Pollinations is unavailable. Showing a locally generated story instead."},storyPlaceholder:"Your generated story appears here. Tweak it freely before exporting.",footerNote:"Story is generated locally. Adjust manually to weave in cultural nuances.",story:{intro:"Create a mini-story in {language} that uses the following terms naturally. Vary verb tenses and keep an engaging tone.",vocabHeading:"Focus vocabulary:",storyHeading:"Story:",fallbackSentence:'Write a short scene where "{term}"{translationClause} becomes meaningful to someone learning {language}.',translationClause:" ({translation})",promptIntro:"Use the following brief as inspiration: {prompt}",promptMiddle:"Develop two concise paragraphs that highlight sensory detail and emotional stakes.",promptEnding:"Finish with a line that invites reflection or discussion from learners.",promptTitle:"Story idea ({date})"}}},es:{meta:{code:"es",name:"Espaol",languageLabel:"Espaol",topics:[{id:"culture",label:"Cultura"},{id:"technology",label:"Tecnologa"},{id:"business",label:"Negocios"},{id:"education",label:"Educacin"},{id:"science",label:"Ciencia"}],storyModes:{vocab:"Palabras guardadas",prompt:"Prompt personalizado"}},nav:{library:"Biblioteca",import:"Importar",vocabulary:"Vocabulario",review:"Revisin",stories:"Creaciones",account:"Cuenta"},common:{refresh:"Actualizar",topic:"Tema",noContent:"An no hay contenido."},library:{tag:"Biblioteca",headline:"Tu jardn de input comprensible",description:"Organiza textos, vdeos y audios para nutrir tu fluidez. Todo funciona sin conexin, a tu ritmo.",emptyHeading:"An no hay textos  convierte tu input en aprendizaje.",emptyDescription:"Importa un texto, vdeo o subttulo y sumrgete en una lectura enfocada.",error:"Algo no carg. Intentas de nuevo?"},quickActions:{youtube:{title:"Guardar desde YouTube",description:"Pega un enlace de vdeo y convirtelo en material de estudio."},news:{title:"Recorte de noticias",description:"Lee temas actuales para practicar comprensin extensiva."},vocab:{title:"Vocabulario guardado",description:"Repasa palabras marcadas y sigue el progreso del SRS."},stories:{title:"Generar historias",description:"Combina vocabulario o tu propio prompt para crear mini relatos."}},news:{title:"Noticias destacadas",subtitle:"Digest diario curado para tu idioma de estudio. Elige un tema para explorar.",error:"No pudimos actualizar el clipping ahora. Intenta de nuevo ms tarde.",empty:"Todava no hay artculos curados para este tema.",cta:"Leer artculo",save:"Agregar a la biblioteca",saving:"Guardando",saved:"Artculo guardado en tu biblioteca.",saveError:"No pudimos guardar el artculo ahora."},texts:{tag:"Creaciones",title:"Mini historias y mezclas de trminos",description:"Mezcla tu vocabulario o escribe un prompt propio para generar historias nuevas.",modeLabel:"Base de la historia",promptLabel:"Prompt personalizado",promptPlaceholder:"Describe el escenario, los personajes, el tono o el enfoque gramatical que quieres.",promptHint:"Cambia de modo para elegir entre palabras guardadas o un prompt totalmente personalizado.",extraPromptHint:"Aade orientacin adicional (opcional) cuando uses el modo de vocabulario.",summary:{selected:"Seleccionadas",due:"Pendientes",mastered:"Dominadas",length:"Longitud",lengthUnit:"caracteres"},controls:{selectAll:"Seleccionar todo",clear:"Limpiar",shuffle:"Aleatorio"},actions:{copy:"Copiar",copied:"Copiado",generate:"Generar historia",generating:"Generando...",export:"Guardar en la biblioteca"},messages:{needVocab:"Guarda algunas palabras antes de generar historias.",promptRequired:"Describe tu idea antes de generar.",copied:"Copiado al portapapeles.",copyError:"No pudimos copiar ahora.",saved:"Historia guardada en la biblioteca.",emptyGenerated:"Genera una historia primero.",fallback:"Pollinations no est disponible. Mostramos una historia generada localmente."},storyPlaceholder:"Tu historia generada aparece aqu. Edtala libremente antes de exportar.",footerNote:"El texto se genera localmente. Ajusta a mano para incorporar matices culturales.",story:{intro:"Crea una mini historia en {language} que utilice los siguientes trminos de forma natural. Vara los tiempos verbales y mantn un tono atractivo.",vocabHeading:"Vocabulario focal:",storyHeading:"Historia:",fallbackSentence:"Escribe una escena breve donde {term}{translationClause} cobre sentido para alguien que aprende {language}.",translationClause:" ({translation})",promptIntro:"Usa el siguiente brief como inspiracin: {prompt}",promptMiddle:"Desarrolla dos prrafos concisos con detalles sensoriales y tensin emocional.",promptEnding:"Cierra con una frase que invite a la reflexin o al debate entre estudiantes.",promptTitle:"Idea de historia ({date})"}}},pt:{meta:{code:"pt",name:"Portugus",languageLabel:"Portugus",topics:[{id:"culture",label:"Cultura"},{id:"technology",label:"Tecnologia"},{id:"business",label:"Negcios"},{id:"education",label:"Educao"},{id:"science",label:"Cincia"}],storyModes:{vocab:"Palavras salvas",prompt:"Prompt personalizado"}},nav:{library:"Biblioteca",import:"Importar",vocabulary:"Vocabulrio",review:"Revisar",stories:"Criaes",account:"Conta"},common:{refresh:"Atualizar",topic:"Tema",noContent:"Nada por aqui ainda."},library:{tag:"Biblioteca",headline:"Seu jardim de input compreensvel",description:"Organize textos, vdeos e udios para nutrir sua fluncia. Tudo funciona offline, no seu ritmo.",emptyHeading:"Nenhum texto ainda  transforme o seu input em aprendizado.",emptyDescription:"Importe um texto, vdeo ou legenda e mergulhe em uma leitura focada.",error:"Algo no carregou agora. Tentar novamente?"},quickActions:{youtube:{title:"Salvar do YouTube",description:"Cole o link de um vdeo e transforme em material de estudo."},news:{title:"Clipping de notcias",description:"Leia tpicos atuais para praticar leitura extensiva."},vocab:{title:"Vocabulrio salvo",description:"Revise termos marcados e acompanhe o progresso no SRS."},stories:{title:"Gerar histrias",description:"Combine vocabulrio ou um prompt prprio para criar mini-histrias."}},news:{title:"Notcias em destaque",subtitle:"Digest dirio curado para o idioma que voc estuda. Escolha um tema para mergulhar.",error:"No conseguimos atualizar o clipping agora. Tente novamente em instantes.",empty:"Ainda no h artigos curados para este tema.",cta:"Ler matria",save:"Adicionar  biblioteca",saving:"Salvando",saved:"Artigo adicionado  sua biblioteca.",saveError:"No conseguimos salvar o artigo agora."},texts:{tag:"Criaes",title:"Mini-histrias e remix de termos",description:"Misture o vocabulrio salvo ou escreva um prompt prprio para gerar novas histrias.",modeLabel:"Base da histria",promptLabel:"Prompt personalizado",promptPlaceholder:"Descreva cenrio, personagens, tom ou foco gramatical desejado.",promptHint:"Alterne o modo para escolher entre palavras salvas ou um prompt totalmente personalizado.",extraPromptHint:"Inclua orientaes extras (opcional) quando usar o modo de vocabulrio.",summary:{selected:"Selecionadas",due:"Pendentes",mastered:"Dominadas",length:"Comprimento",lengthUnit:"caracteres"},controls:{selectAll:"Selecionar tudo",clear:"Limpar",shuffle:"Aleatrio"},actions:{copy:"Copiar",copied:"Copiado",generate:"Gerar histria",generating:"Gerando...",export:"Salvar na biblioteca"},messages:{needVocab:"Salve algumas palavras antes de gerar histrias.",promptRequired:"Descreva a ideia antes de gerar.",copied:"Copiado para a rea de transferncia.",copyError:"No foi possvel copiar agora.",saved:"Histria salva na biblioteca.",emptyGenerated:"Gere uma histria primeiro.",fallback:"Pollinations est indisponvel. Mostramos uma histria gerada localmente."},storyPlaceholder:"Sua histria gerada aparece aqui. Edite livremente antes de exportar.",footerNote:"Contedo gerado localmente. Ajuste nuances culturais manualmente.",story:{intro:"Crie uma mini-histria em {language} que use naturalmente os termos a seguir. Varie tempos verbais e mantenha um tom envolvente.",vocabHeading:"Vocabulrio focal:",storyHeading:"Histria:",fallbackSentence:'Escreva uma cena breve em que "{term}"{translationClause} ganhe significado para quem aprende {language}.',translationClause:" ({translation})",promptIntro:"Use o brief a seguir como inspirao: {prompt}",promptMiddle:"Desenvolva dois pargrafos concisos com detalhes sensoriais e tenso emocional.",promptEnding:"Finalize com uma frase que convide  reflexo ou discusso entre aprendizes.",promptTitle:"Ideia de histria ({date})"}}}},rtlLanguages=new Set(["ar","he","fa"]),fallbackLocale=uiLocales.en;function normalizeLanguage(e){if(!e)return fallbackLocale.meta.code;const i=e.toLowerCase(),[s]=i.split("-");return uiLocales[i]?i:uiLocales[s]?s:fallbackLocale.meta.code}function getFromPath(e,i){return i.split(".").reduce((s,a)=>s&&typeof s=="object"?s[a]:void 0,e)}function useI18n(){const e=usePrefsStore(a=>a.prefs.targetLang),i=reactExports.useMemo(()=>{const a=normalizeLanguage(e);return uiLocales[a]??fallbackLocale},[e]);return{t:reactExports.useCallback((a,o)=>{const c=getFromPath(i,a);return typeof c=="string"?c:o??a},[i]),locale:i,currentLanguage:i.meta.code,isRTL:rtlLanguages.has(i.meta.code)}}const ToastContext=reactExports.createContext(void 0);function ToastProvider({children:e}){const[i,s]=reactExports.useState([]),a=reactExports.useCallback((c,d="info")=>{const h=crypto.randomUUID();s(g=>[...g,{id:h,message:c,intent:d}]),setTimeout(()=>{s(g=>g.filter(b=>b.id!==h))},2800)},[]),o=reactExports.useMemo(()=>({push:a}),[a]);return jsxRuntimeExports.jsxs(ToastContext.Provider,{value:o,children:[e,jsxRuntimeExports.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-6 z-50 flex flex-col items-center gap-3",children:jsxRuntimeExports.jsx(AnimatePresence,{children:i.map(c=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-16},animate:{opacity:1,y:0},exit:{opacity:0,y:-16},transition:{duration:.2,ease:"easeInOut"},className:cn("surface-glass pointer-events-auto flex items-center gap-3 px-5 py-3 text-sm text-text-primary shadow-soft",c.intent==="success"&&"border border-emerald-400/40 text-emerald-200",c.intent==="error"&&"border border-red-400/40 text-red-200"),children:[c.intent==="success"&&jsxRuntimeExports.jsx(CheckCircle2,{className:"h-4 w-4","aria-hidden":!0}),c.intent==="error"&&jsxRuntimeExports.jsx(AlertCircle,{className:"h-4 w-4","aria-hidden":!0}),c.intent==="info"&&jsxRuntimeExports.jsx(Info$1,{className:"h-4 w-4","aria-hidden":!0}),jsxRuntimeExports.jsx("span",{children:c.message})]},c.id))})})]})}function useToast(){const e=reactExports.useContext(ToastContext);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}const DEFAULT_IMAGE_WIDTH=640,DEFAULT_IMAGE_HEIGHT=480;var os;const DEFAULT_MODEL=((os={}.VITE_POLLINATIONS_MODEL)==null?void 0:os.trim())||"turbo";function buildPollinationsImageUrl(e,i={}){const s=i.seed??Math.floor(Math.random()*1e6),a=i.width??DEFAULT_IMAGE_WIDTH,o=i.height??DEFAULT_IMAGE_HEIGHT,c=new URLSearchParams;return c.set("seed",String(s)),c.set("width",String(a)),c.set("height",String(o)),i.aspect&&c.set("aspect",i.aspect),c.set("nologo",String(i.nologo??!0)),`https://image.pollinations.ai/prompt/${encodeURIComponent(e)}?${c.toString()}`}async function generatePollinationsText(e,i={}){const s=i.model??DEFAULT_MODEL,a=[e];i.language&&a.unshift(`Respond only in ${i.language}.`),i.maxCharacters&&a.push(`Limit the response to about ${i.maxCharacters} characters.`);const o=a.filter(Boolean).join(" "),c=i.maxCharacters?Math.max(Math.ceil(i.maxCharacters/3),80):void 0,d=await fetch("https://text.pollinations.ai/api/v1/text",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:s,prompt:o,options:{max_tokens:c,temperature:.8}})});if(!d.ok)throw new Error("Pollinations text generation failed");const h=await d.text();let g=h;try{const _=JSON.parse(h);typeof _=="string"?g=_:_!=null&&_.completion?g=_.completion:_!=null&&_.text?g=_.text:_!=null&&_.output&&(g=Array.isArray(_.output)?_.output.join(`
`):String(_.output))}catch(_){console.debug("Pollinations text response was not JSON",_)}const b=g.trim();if(!b)throw new Error("Pollinations text generation returned empty response");return b}async function generatePollinationsStory(e,i,s,a){const o=[`Write a vivid but concise story in ${i}.`,`Target roughly ${Math.max(s,120)} characters.`,"Keep sentences clear for language learners and favour concrete imagery.",`Story brief: ${e}`].join(" ");return generatePollinationsText(o,{model:a,language:i,maxCharacters:s})}const cache$1=new Map,DEFAULT_PLACEHOLDER_ICON="";function buildPlaceholder(e=DEFAULT_PLACEHOLDER_ICON){return`data:image/svg+xml,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" width="200" height="200" fill="none"><rect width="200" height="200" rx="24" ry="24" fill="rgba(255,255,255,0.05)"/><text x="50%" y="50%" font-size="56" text-anchor="middle" fill="rgba(255,255,255,0.4)" dy="18">${e}</text></svg>`)}`}async function tryPollinations(e,i){try{return buildPollinationsImageUrl(e,i)}catch(s){console.warn("Pollinations image build failed",s);return}}async function tryPexels(e){var s,a,o,c;const i=(s={}.VITE_PEXELS_API_KEY)==null?void 0:s.trim();if(i)try{const d=await fetch(`https://api.pexels.com/v1/search?query=${encodeURIComponent(e)}&per_page=1`,{headers:{Authorization:i}});if(!d.ok)return;const h=await d.json(),g=(a=h==null?void 0:h.photos)==null?void 0:a[0];return((o=g==null?void 0:g.src)==null?void 0:o.medium)??((c=g==null?void 0:g.src)==null?void 0:c.original)}catch(d){console.warn("Pexels fetch failed",d);return}}async function tryPixabay(e){var s,a;const i=(s={}.VITE_PIXABAY_API_KEY)==null?void 0:s.trim();if(i)try{const o=await fetch(`https://pixabay.com/api/?key=${encodeURIComponent(i)}&q=${encodeURIComponent(e)}&image_type=photo&per_page=3&safesearch=true`);if(!o.ok)return;const c=await o.json(),d=(a=c==null?void 0:c.hits)==null?void 0:a[0];return(d==null?void 0:d.webformatURL)??(d==null?void 0:d.largeImageURL)}catch(o){console.warn("Pixabay fetch failed",o);return}}async function tryGiphy(e){var s,a,o,c,d,h;const i=(s={}.VITE_GIPHY_API_KEY)==null?void 0:s.trim();if(i)try{const g=new URLSearchParams({api_key:i,q:e,limit:"1",rating:"g",lang:"en",bundle:"messaging_non_clips"}),b=await fetch(`https://api.giphy.com/v1/gifs/search?${g.toString()}`);if(!b.ok)return;const _=await b.json(),j=(o=(a=_==null?void 0:_.data)==null?void 0:a[0])==null?void 0:o.images;return((c=j==null?void 0:j.downsized_medium)==null?void 0:c.url)??((d=j==null?void 0:j.original)==null?void 0:d.url)??((h=j==null?void 0:j.downsized)==null?void 0:h.url)}catch(g){console.warn("Giphy fetch failed",g);return}}async function tryUnsplash(e){const i=`https://source.unsplash.com/featured/640x480?${encodeURIComponent(e)}`;try{const s=await fetch(i,{redirect:"follow"});if(s.ok)return s.url}catch(s){console.warn("Unsplash fetch failed",s)}}async function fetchImageForTerm(e,i={}){var g;const s=e==null?void 0:e.trim(),a=buildPlaceholder(i.fallbackIcon);if(!s)return a;const o=[s.toLowerCase(),((g=i.locale)==null?void 0:g.toLowerCase())??"",String(i.width??""),String(i.height??""),String(i.aspect??""),String(i.nologo??"")].join("|");if(cache$1.has(o))return cache$1.get(o);const c=i.locale?`${s} ${i.locale}`:s,d={seed:i.seed,width:i.width,height:i.height,aspect:i.aspect,nologo:i.nologo},h=[()=>tryPollinations(c,d),()=>tryPexels(c),()=>tryPixabay(c),()=>tryGiphy(c),()=>tryUnsplash(c)];for(const b of h)try{const _=await b();if(_)return cache$1.set(o,_),_}catch(_){console.warn("Image fetch attempt failed",_)}return cache$1.set(o,a),a}async function extractArticleContent(e,i,s){const a=()=>[i,"",s,"","Notas rpidas para estudo:","- Anote termos novos e tradues breves.","- Resuma o que entendeu em duas frases.","",`Fonte original: ${e}`].join(`
`);if(!e)return a();const o=/^https?:/i.test(e)?`https://r.jina.ai/${e}`:`https://r.jina.ai/https://${e}`,c=new AbortController,d=setTimeout(()=>c.abort(),8e3);try{const h=await fetch(o,{signal:c.signal});if(h.ok){const g=(await h.text()).trim();if(g.length>250)return g}}catch(h){console.debug("News extraction failed",h)}finally{clearTimeout(d)}return a()}function NewsHighlights(){var j;const{locale:e,t:i}=useI18n(),{push:s}=useToast(),a=useLibraryStore($=>$.addText),o=((j=e.meta.topics[0])==null?void 0:j.id)??"culture",[c,d]=reactExports.useState(o),[h,g]=reactExports.useState(null);reactExports.useEffect(()=>{var $;d((($=e.meta.topics[0])==null?void 0:$.id)??"culture")},[e.meta.code]);const b=reactExports.useMemo(()=>getCuratedNews(e.meta.code,c),[e.meta.code,c]),_=async $=>{if(!h){g($.id);try{const _e=await extractArticleContent($.url,$.title,$.summary);let rt;try{rt=await fetchImageForTerm($.title,{locale:$.language})}catch(nt){console.debug("News cover generation failed",nt)}a({title:$.title,lang:$.language,content:_e,coverUrl:rt,progress:0}),s(i("news.saved","Artigo salvo na biblioteca."),"success")}catch(_e){console.error(_e),s(i("news.saveError","No foi possvel salvar o artigo agora."),"error")}finally{g(null)}}};return jsxRuntimeExports.jsxs("section",{id:"news",className:"surface-glass flex flex-col gap-6 rounded-3xl px-6 py-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-text-tertiary",children:i("news.title")}),jsxRuntimeExports.jsx("h2",{className:"font-display text-2xl font-semibold text-text-primary",children:i("news.subtitle")})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 text-sm text-text-secondary",children:[i("common.topic"),jsxRuntimeExports.jsx("select",{value:c,onChange:$=>d($.target.value),className:"focus-ring rounded-2xl border border-white/10 bg-white/5 px-3 py-2 text-text-primary",children:e.meta.topics.map($=>jsxRuntimeExports.jsx("option",{value:$.id,children:$.label},$.id))})]})]}),b.length===0?jsxRuntimeExports.jsx("div",{className:"rounded-3xl border border-white/10 bg-white/5 px-5 py-6 text-sm text-text-secondary",children:i("news.empty")}):jsxRuntimeExports.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:b.map($=>jsxRuntimeExports.jsxs("div",{className:"group rounded-3xl border border-white/10 bg-white/5 px-5 py-4 transition hover:border-accent/40 hover:bg-accent/10",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-text-tertiary",children:$.source}),jsxRuntimeExports.jsx("h3",{className:"mt-2 font-display text-lg text-text-primary group-hover:text-accent",children:$.title}),jsxRuntimeExports.jsx("p",{className:"mt-3 text-sm text-text-secondary",children:$.summary}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[jsxRuntimeExports.jsxs("a",{href:$.url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 text-sm text-text-secondary hover:text-accent transition-colors",children:[i("news.cta")," ",jsxRuntimeExports.jsx(ExternalLink,{className:"h-4 w-4"})]}),jsxRuntimeExports.jsxs(Button,{intent:"ghost",onClick:()=>void _($),disabled:h===$.id,children:[h===$.id?jsxRuntimeExports.jsx(Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Library,{className:"mr-2 h-4 w-4"}),h===$.id?i("news.saving","Salvando..."):i("news.save","Adicionar  biblioteca")]})]})]},$.id))})]})}function LibraryHome(){const{texts:e,isLoading:i,error:s}=useLibraryStore(),{locale:a}=useI18n(),o=reactExports.useMemo(()=>e.length>0,[e]),c=reactExports.useMemo(()=>[{id:"youtube",to:"/import",icon:Youtube,title:a.quickActions.youtube.title,description:a.quickActions.youtube.description},{id:"news",href:"#news",icon:Newspaper,title:a.quickActions.news.title,description:a.quickActions.news.description},{id:"vocab",to:"/vocabulary",icon:BookMarked,title:a.quickActions.vocab.title,description:a.quickActions.vocab.description},{id:"stories",to:"/texts",icon:Sparkles,title:a.quickActions.stories.title,description:a.quickActions.stories.description}],[a.meta.code]);return jsxRuntimeExports.jsxs("div",{className:"flex min-h-screen flex-col pb-24 lg:pb-0",children:[jsxRuntimeExports.jsx(motion.header,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{duration:.2,ease:"easeInOut"},className:"mx-auto w-full max-w-5xl px-6 pt-10",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-text-tertiary",children:a.library.tag}),jsxRuntimeExports.jsx("h1",{className:"font-display text-3xl font-semibold text-text-primary md:text-4xl",children:a.library.headline}),jsxRuntimeExports.jsx("p",{className:"max-w-2xl text-text-secondary",children:a.library.description})]})}),jsxRuntimeExports.jsx("section",{className:"mx-auto w-full max-w-5xl px-6 pt-6",children:jsxRuntimeExports.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:c.map(({id:d,icon:h,title:g,description:b,to:_,href:j})=>{const $=jsxRuntimeExports.jsx("div",{className:"rounded-3xl border border-white/10 bg-white/5 px-5 py-6 transition hover:border-accent/40 hover:bg-accent/10",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-accent/10 text-accent",children:jsxRuntimeExports.jsx(h,{className:"h-5 w-5","aria-hidden":!0})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-display text-lg text-text-primary",children:g}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:b})]})]})});return _?jsxRuntimeExports.jsx(Link,{to:_,className:"focus-ring block","aria-label":g,children:$},d):jsxRuntimeExports.jsx("a",{href:j,className:"focus-ring block","aria-label":g,children:$},d)})})}),jsxRuntimeExports.jsxs("main",{className:"mx-auto w-full max-w-5xl flex-1 space-y-8 px-6 py-10",children:[jsxRuntimeExports.jsx(NewsHighlights,{}),i?jsxRuntimeExports.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((d,h)=>jsxRuntimeExports.jsx("div",{className:"surface-glass animate-pulse p-6"},h))}):o?jsxRuntimeExports.jsx(LibraryCardGrid,{texts:e}):jsxRuntimeExports.jsxs(motion.section,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2,ease:"easeInOut"},className:"surface-glass flex flex-col items-center gap-6 px-8 py-16 text-center",children:[jsxRuntimeExports.jsx("span",{className:"text-5xl",role:"img","aria-hidden":!0,children:""}),jsxRuntimeExports.jsxs("div",{className:"max-w-md space-y-2",children:[jsxRuntimeExports.jsx("h2",{className:"font-display text-2xl font-semibold text-text-primary",children:a.library.emptyHeading}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:a.library.emptyDescription})]}),jsxRuntimeExports.jsxs(Button,{to:"/import",intent:"accent",children:["+ ",a.nav.import]})]}),s&&jsxRuntimeExports.jsx("div",{className:"mt-8 rounded-3xl border border-accent/40 bg-accent/10 px-6 py-4 text-accent",children:a.library.error})]})]})}const LANGUAGE_HINTS={pt:[/\b(que|uma|para|no|est|com)\b/iu],en:[/\b(the|and|you|for|with|have)\b/iu],es:[/\b(que|con|para|esta|como|pero)\b/iu],fr:[/\b(que|pour|avec|vous|tre|avoir)\b/iu],de:[/\b(der|die|und|ist|mit|nicht)\b/iu],it:[/\b(che|per|con|sono|come|questa)\b/iu]};function detectLanguage(e,i="en"){var c;const s=e.toLowerCase();let a=i,o=0;return Object.entries(LANGUAGE_HINTS).forEach(([d,h])=>{const g=h.reduce((b,_)=>{var j;return b+(((j=s.match(_))==null?void 0:j.length)??0)},0);g>o&&(o=g,a=d)}),o===0&&s.length>1e3&&(((c=s.match(/[]/g))==null?void 0:c.length)??0)>5&&(a="pt"),a}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(i,s){module.exports=i.pdfjsLib=s()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,i)=>{var Nn;Object.defineProperty(i,"__esModule",{value:!0}),i.VerbosityLevel=i.Util=i.UnknownErrorException=i.UnexpectedResponseException=i.TextRenderingMode=i.RenderingIntentFlag=i.PromiseCapability=i.PermissionFlag=i.PasswordResponses=i.PasswordException=i.PageActionEventType=i.OPS=i.MissingPDFException=i.MAX_IMAGE_SIZE_TO_CACHE=i.LINE_FACTOR=i.LINE_DESCENT_FACTOR=i.InvalidPDFException=i.ImageKind=i.IDENTITY_MATRIX=i.FormatError=i.FeatureTest=i.FONT_IDENTITY_MATRIX=i.DocumentActionEventType=i.CMapCompressionType=i.BaseException=i.BASELINE_FACTOR=i.AnnotationType=i.AnnotationReplyType=i.AnnotationPrefix=i.AnnotationMode=i.AnnotationFlag=i.AnnotationFieldFlag=i.AnnotationEditorType=i.AnnotationEditorPrefix=i.AnnotationEditorParamsType=i.AnnotationBorderStyleType=i.AnnotationActionEventType=i.AbortException=void 0,i.assert=Nt,i.bytesToString=Mt,i.createValidAbsoluteUrl=Qt,i.getModificationDate=Yt,i.getUuid=Mn,i.getVerbosityLevel=It,i.info=Vt,i.isArrayBuffer=sn,i.isArrayEqual=Ft,i.isNodeJS=void 0,i.normalizeUnicode=jn,i.objectFromMap=tn,i.objectSize=Zt,i.setVerbosityLevel=kt,i.shadow=nn,i.string32=Xt,i.stringToBytes=Wt,i.stringToPDFString=an,i.stringToUTF8String=Gt,i.unreachable=St,i.utf8StringToString=qt,i.warn=Ht;const s=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");i.isNodeJS=s;const a=[1,0,0,1,0,0];i.IDENTITY_MATRIX=a;const o=[.001,0,0,.001,0,0];i.FONT_IDENTITY_MATRIX=o;const c=1e7;i.MAX_IMAGE_SIZE_TO_CACHE=c;const d=1.35;i.LINE_FACTOR=d;const h=.35;i.LINE_DESCENT_FACTOR=h;const g=h/d;i.BASELINE_FACTOR=g;const b={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};i.RenderingIntentFlag=b;const _={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};i.AnnotationMode=_;const j="pdfjs_internal_editor_";i.AnnotationEditorPrefix=j;const $={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};i.AnnotationEditorType=$;const _e={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};i.AnnotationEditorParamsType=_e;const rt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};i.PermissionFlag=rt;const nt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};i.TextRenderingMode=nt;const st={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};i.ImageKind=st;const tt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};i.AnnotationType=tt;const et={GROUP:"Group",REPLY:"R"};i.AnnotationReplyType=et;const it={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};i.AnnotationFlag=it;const pt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};i.AnnotationFieldFlag=pt;const ot={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};i.AnnotationBorderStyleType=ot;const at={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};i.AnnotationActionEventType=at;const xt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};i.DocumentActionEventType=xt;const gt={O:"PageOpen",C:"PageClose"};i.PageActionEventType=gt;const ut={ERRORS:0,WARNINGS:1,INFOS:5};i.VerbosityLevel=ut;const Et={NONE:0,BINARY:1};i.CMapCompressionType=Et;const vt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};i.OPS=vt;const _t={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};i.PasswordResponses=_t;let jt=ut.WARNINGS;function kt(en){Number.isInteger(en)&&(jt=en)}function It(){return jt}function Vt(en){jt>=ut.INFOS&&console.log(`Info: ${en}`)}function Ht(en){jt>=ut.WARNINGS&&console.log(`Warning: ${en}`)}function St(en){throw new Error(en)}function Nt(en,zt){en||St(zt)}function bt(en){switch(en==null?void 0:en.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Qt(en,zt=null,Ot=null){if(!en)return null;try{if(Ot&&typeof en=="string"){if(Ot.addDefaultProtocol&&en.startsWith("www.")){const hn=en.match(/\./g);(hn==null?void 0:hn.length)>=2&&(en=`http://${en}`)}if(Ot.tryConvertEncoding)try{en=Gt(en)}catch{}}const on=zt?new URL(en,zt):new URL(en);if(bt(on))return on}catch{}return null}function nn(en,zt,Ot,on=!1){return Object.defineProperty(en,zt,{value:Ot,enumerable:!on,configurable:!0,writable:!1}),Ot}const dt=function(){function zt(Ot,on){this.constructor===zt&&St("Cannot initialize BaseException."),this.message=Ot,this.name=on}return zt.prototype=new Error,zt.constructor=zt,zt}();i.BaseException=dt;class ct extends dt{constructor(zt,Ot){super(zt,"PasswordException"),this.code=Ot}}i.PasswordException=ct;class mt extends dt{constructor(zt,Ot){super(zt,"UnknownErrorException"),this.details=Ot}}i.UnknownErrorException=mt;class ht extends dt{constructor(zt){super(zt,"InvalidPDFException")}}i.InvalidPDFException=ht;class yt extends dt{constructor(zt){super(zt,"MissingPDFException")}}i.MissingPDFException=yt;class wt extends dt{constructor(zt,Ot){super(zt,"UnexpectedResponseException"),this.status=Ot}}i.UnexpectedResponseException=wt;class Ct extends dt{constructor(zt){super(zt,"FormatError")}}i.FormatError=Ct;class Rt extends dt{constructor(zt){super(zt,"AbortException")}}i.AbortException=Rt;function Mt(en){(typeof en!="object"||(en==null?void 0:en.length)===void 0)&&St("Invalid argument for bytesToString");const zt=en.length,Ot=8192;if(zt<Ot)return String.fromCharCode.apply(null,en);const on=[];for(let hn=0;hn<zt;hn+=Ot){const $n=Math.min(hn+Ot,zt),zn=en.subarray(hn,$n);on.push(String.fromCharCode.apply(null,zn))}return on.join("")}function Wt(en){typeof en!="string"&&St("Invalid argument for stringToBytes");const zt=en.length,Ot=new Uint8Array(zt);for(let on=0;on<zt;++on)Ot[on]=en.charCodeAt(on)&255;return Ot}function Xt(en){return String.fromCharCode(en>>24&255,en>>16&255,en>>8&255,en&255)}function Zt(en){return Object.keys(en).length}function tn(en){const zt=Object.create(null);for(const[Ot,on]of en)zt[Ot]=on;return zt}function dn(){const en=new Uint8Array(4);return en[0]=1,new Uint32Array(en.buffer,0,1)[0]===1}function rn(){try{return new Function(""),!0}catch{return!1}}class vn{static get isLittleEndian(){return nn(this,"isLittleEndian",dn())}static get isEvalSupported(){return nn(this,"isEvalSupported",rn())}static get isOffscreenCanvasSupported(){return nn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?nn(this,"platform",{isWin:!1,isMac:!1}):nn(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var zt,Ot;return nn(this,"isCSSRoundSupported",(Ot=(zt=globalThis.CSS)==null?void 0:zt.supports)==null?void 0:Ot.call(zt,"width: round(1.5px, 1px)"))}}i.FeatureTest=vn;const Rn=[...Array(256).keys()].map(en=>en.toString(16).padStart(2,"0"));class pn{static makeHexColor(zt,Ot,on){return`#${Rn[zt]}${Rn[Ot]}${Rn[on]}`}static scaleMinMax(zt,Ot){let on;zt[0]?(zt[0]<0&&(on=Ot[0],Ot[0]=Ot[1],Ot[1]=on),Ot[0]*=zt[0],Ot[1]*=zt[0],zt[3]<0&&(on=Ot[2],Ot[2]=Ot[3],Ot[3]=on),Ot[2]*=zt[3],Ot[3]*=zt[3]):(on=Ot[0],Ot[0]=Ot[2],Ot[2]=on,on=Ot[1],Ot[1]=Ot[3],Ot[3]=on,zt[1]<0&&(on=Ot[2],Ot[2]=Ot[3],Ot[3]=on),Ot[2]*=zt[1],Ot[3]*=zt[1],zt[2]<0&&(on=Ot[0],Ot[0]=Ot[1],Ot[1]=on),Ot[0]*=zt[2],Ot[1]*=zt[2]),Ot[0]+=zt[4],Ot[1]+=zt[4],Ot[2]+=zt[5],Ot[3]+=zt[5]}static transform(zt,Ot){return[zt[0]*Ot[0]+zt[2]*Ot[1],zt[1]*Ot[0]+zt[3]*Ot[1],zt[0]*Ot[2]+zt[2]*Ot[3],zt[1]*Ot[2]+zt[3]*Ot[3],zt[0]*Ot[4]+zt[2]*Ot[5]+zt[4],zt[1]*Ot[4]+zt[3]*Ot[5]+zt[5]]}static applyTransform(zt,Ot){const on=zt[0]*Ot[0]+zt[1]*Ot[2]+Ot[4],hn=zt[0]*Ot[1]+zt[1]*Ot[3]+Ot[5];return[on,hn]}static applyInverseTransform(zt,Ot){const on=Ot[0]*Ot[3]-Ot[1]*Ot[2],hn=(zt[0]*Ot[3]-zt[1]*Ot[2]+Ot[2]*Ot[5]-Ot[4]*Ot[3])/on,$n=(-zt[0]*Ot[1]+zt[1]*Ot[0]+Ot[4]*Ot[1]-Ot[5]*Ot[0])/on;return[hn,$n]}static getAxialAlignedBoundingBox(zt,Ot){const on=this.applyTransform(zt,Ot),hn=this.applyTransform(zt.slice(2,4),Ot),$n=this.applyTransform([zt[0],zt[3]],Ot),zn=this.applyTransform([zt[2],zt[1]],Ot);return[Math.min(on[0],hn[0],$n[0],zn[0]),Math.min(on[1],hn[1],$n[1],zn[1]),Math.max(on[0],hn[0],$n[0],zn[0]),Math.max(on[1],hn[1],$n[1],zn[1])]}static inverseTransform(zt){const Ot=zt[0]*zt[3]-zt[1]*zt[2];return[zt[3]/Ot,-zt[1]/Ot,-zt[2]/Ot,zt[0]/Ot,(zt[2]*zt[5]-zt[4]*zt[3])/Ot,(zt[4]*zt[1]-zt[5]*zt[0])/Ot]}static singularValueDecompose2dScale(zt){const Ot=[zt[0],zt[2],zt[1],zt[3]],on=zt[0]*Ot[0]+zt[1]*Ot[2],hn=zt[0]*Ot[1]+zt[1]*Ot[3],$n=zt[2]*Ot[0]+zt[3]*Ot[2],zn=zt[2]*Ot[1]+zt[3]*Ot[3],Ut=(on+zn)/2,mn=Math.sqrt((on+zn)**2-4*(on*zn-$n*hn))/2,Cn=Ut+mn||1,gn=Ut-mn||1;return[Math.sqrt(Cn),Math.sqrt(gn)]}static normalizeRect(zt){const Ot=zt.slice(0);return zt[0]>zt[2]&&(Ot[0]=zt[2],Ot[2]=zt[0]),zt[1]>zt[3]&&(Ot[1]=zt[3],Ot[3]=zt[1]),Ot}static intersect(zt,Ot){const on=Math.max(Math.min(zt[0],zt[2]),Math.min(Ot[0],Ot[2])),hn=Math.min(Math.max(zt[0],zt[2]),Math.max(Ot[0],Ot[2]));if(on>hn)return null;const $n=Math.max(Math.min(zt[1],zt[3]),Math.min(Ot[1],Ot[3])),zn=Math.min(Math.max(zt[1],zt[3]),Math.max(Ot[1],Ot[3]));return $n>zn?null:[on,$n,hn,zn]}static bezierBoundingBox(zt,Ot,on,hn,$n,zn,Ut,mn){const Cn=[],gn=[[],[]];let _n,Tn,Vn,un,Fn,An,Tt,ft;for(let $t=0;$t<2;++$t){if($t===0?(Tn=6*zt-12*on+6*$n,_n=-3*zt+9*on-9*$n+3*Ut,Vn=3*on-3*zt):(Tn=6*Ot-12*hn+6*zn,_n=-3*Ot+9*hn-9*zn+3*mn,Vn=3*hn-3*Ot),Math.abs(_n)<1e-12){if(Math.abs(Tn)<1e-12)continue;un=-Vn/Tn,0<un&&un<1&&Cn.push(un);continue}Tt=Tn*Tn-4*Vn*_n,ft=Math.sqrt(Tt),!(Tt<0)&&(Fn=(-Tn+ft)/(2*_n),0<Fn&&Fn<1&&Cn.push(Fn),An=(-Tn-ft)/(2*_n),0<An&&An<1&&Cn.push(An))}let At=Cn.length,Pt;const Dt=At;for(;At--;)un=Cn[At],Pt=1-un,gn[0][At]=Pt*Pt*Pt*zt+3*Pt*Pt*un*on+3*Pt*un*un*$n+un*un*un*Ut,gn[1][At]=Pt*Pt*Pt*Ot+3*Pt*Pt*un*hn+3*Pt*un*un*zn+un*un*un*mn;return gn[0][Dt]=zt,gn[1][Dt]=Ot,gn[0][Dt+1]=Ut,gn[1][Dt+1]=mn,gn[0].length=gn[1].length=Dt+2,[Math.min(...gn[0]),Math.min(...gn[1]),Math.max(...gn[0]),Math.max(...gn[1])]}}i.Util=pn;const kn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function an(en){if(en[0]>=""){let Ot;if(en[0]===""&&en[1]===""?Ot="utf-16be":en[0]===""&&en[1]===""?Ot="utf-16le":en[0]===""&&en[1]===""&&en[2]===""&&(Ot="utf-8"),Ot)try{const on=new TextDecoder(Ot,{fatal:!0}),hn=Wt(en);return on.decode(hn)}catch(on){Ht(`stringToPDFString: "${on}".`)}}const zt=[];for(let Ot=0,on=en.length;Ot<on;Ot++){const hn=kn[en.charCodeAt(Ot)];zt.push(hn?String.fromCharCode(hn):en.charAt(Ot))}return zt.join("")}function Gt(en){return decodeURIComponent(escape(en))}function qt(en){return unescape(encodeURIComponent(en))}function sn(en){return typeof en=="object"&&(en==null?void 0:en.byteLength)!==void 0}function Ft(en,zt){if(en.length!==zt.length)return!1;for(let Ot=0,on=en.length;Ot<on;Ot++)if(en[Ot]!==zt[Ot])return!1;return!0}function Yt(en=new Date){return[en.getUTCFullYear().toString(),(en.getUTCMonth()+1).toString().padStart(2,"0"),en.getUTCDate().toString().padStart(2,"0"),en.getUTCHours().toString().padStart(2,"0"),en.getUTCMinutes().toString().padStart(2,"0"),en.getUTCSeconds().toString().padStart(2,"0")].join("")}class fn{constructor(){Lt(this,Nn,!1);this.promise=new Promise((zt,Ot)=>{this.resolve=on=>{Kt(this,Nn,!0),zt(on)},this.reject=on=>{Kt(this,Nn,!0),Ot(on)}})}get settled(){return lt(this,Nn)}}Nn=new WeakMap,i.PromiseCapability=fn;let bn=null,wn=null;function jn(en){return bn||(bn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,wn=new Map([["","t"]])),en.replaceAll(bn,(zt,Ot,on)=>Ot?Ot.normalize("NFKC"):wn.get(on))}function Mn(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const en=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(en);else for(let zt=0;zt<32;zt++)en[zt]=Math.floor(Math.random()*255);return Mt(en)}const Pn="pdfjs_internal_id_";i.AnnotationPrefix=Pn},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var e,s,a,o,Jn,d,dr,g,b,_,j,$,_e,rt,nt,st,hr,et,it,Cr,ot,at;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(gt){if(typeof gt=="string"||gt instanceof URL?gt={url:gt}:(0,_util.isArrayBuffer)(gt)&&(gt={data:gt}),typeof gt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!gt.url&&!gt.data&&!gt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const ut=new PDFDocumentLoadingTask,{docId:Et}=ut,vt=gt.url?getUrlProp(gt.url):null,_t=gt.data?getDataProp(gt.data):null,jt=gt.httpHeaders||null,kt=gt.withCredentials===!0,It=gt.password??null,Vt=gt.range instanceof PDFDataRangeTransport?gt.range:null,Ht=Number.isInteger(gt.rangeChunkSize)&&gt.rangeChunkSize>0?gt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let St=gt.worker instanceof PDFWorker?gt.worker:null;const Nt=gt.verbosity,bt=typeof gt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(gt.docBaseUrl)?gt.docBaseUrl:null,Qt=typeof gt.cMapUrl=="string"?gt.cMapUrl:null,nn=gt.cMapPacked!==!1,dt=gt.CMapReaderFactory||DefaultCMapReaderFactory,ct=typeof gt.standardFontDataUrl=="string"?gt.standardFontDataUrl:null,mt=gt.StandardFontDataFactory||DefaultStandardFontDataFactory,ht=gt.stopAtErrors!==!0,yt=Number.isInteger(gt.maxImageSize)&&gt.maxImageSize>-1?gt.maxImageSize:-1,wt=gt.isEvalSupported!==!1,Ct=typeof gt.isOffscreenCanvasSupported=="boolean"?gt.isOffscreenCanvasSupported:!_util.isNodeJS,Rt=Number.isInteger(gt.canvasMaxAreaInBytes)?gt.canvasMaxAreaInBytes:-1,Mt=typeof gt.disableFontFace=="boolean"?gt.disableFontFace:_util.isNodeJS,Wt=gt.fontExtraProperties===!0,Xt=gt.enableXfa===!0,Zt=gt.ownerDocument||globalThis.document,tn=gt.disableRange===!0,dn=gt.disableStream===!0,rn=gt.disableAutoFetch===!0,vn=gt.pdfBug===!0,Rn=Vt?Vt.length:gt.length??NaN,pn=typeof gt.useSystemFonts=="boolean"?gt.useSystemFonts:!_util.isNodeJS&&!Mt,kn=typeof gt.useWorkerFetch=="boolean"?gt.useWorkerFetch:dt===_display_utils.DOMCMapReaderFactory&&mt===_display_utils.DOMStandardFontDataFactory&&Qt&&ct&&(0,_display_utils.isValidFetchUrl)(Qt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(ct,document.baseURI),an=gt.canvasFactory||new DefaultCanvasFactory({ownerDocument:Zt}),Gt=gt.filterFactory||new DefaultFilterFactory({docId:Et,ownerDocument:Zt}),qt=null;(0,_util.setVerbosityLevel)(Nt);const sn={canvasFactory:an,filterFactory:Gt};if(kn||(sn.cMapReaderFactory=new dt({baseUrl:Qt,isCompressed:nn}),sn.standardFontDataFactory=new mt({baseUrl:ct})),!St){const fn={verbosity:Nt,port:_worker_options.GlobalWorkerOptions.workerPort};St=fn.port?PDFWorker.fromPort(fn):new PDFWorker(fn),ut._worker=St}const Ft={docId:Et,apiVersion:"3.11.174",data:_t,password:It,disableAutoFetch:rn,rangeChunkSize:Ht,length:Rn,docBaseUrl:bt,enableXfa:Xt,evaluatorOptions:{maxImageSize:yt,disableFontFace:Mt,ignoreErrors:ht,isEvalSupported:wt,isOffscreenCanvasSupported:Ct,canvasMaxAreaInBytes:Rt,fontExtraProperties:Wt,useSystemFonts:pn,cMapUrl:kn?Qt:null,standardFontDataUrl:kn?ct:null}},Yt={ignoreErrors:ht,isEvalSupported:wt,disableFontFace:Mt,fontExtraProperties:Wt,enableXfa:Xt,ownerDocument:Zt,disableAutoFetch:rn,pdfBug:vn,styleElement:qt};return St.promise.then(function(){if(ut.destroyed)throw new Error("Loading aborted");const fn=_fetchDocument(St,Ft),bn=new Promise(function(wn){let jn;Vt?jn=new _transport_stream.PDFDataTransportStream({length:Rn,initialData:Vt.initialData,progressiveDone:Vt.progressiveDone,contentDispositionFilename:Vt.contentDispositionFilename,disableRange:tn,disableStream:dn},Vt):_t||(jn=(Pn=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Pn):(0,_display_utils.isValidFetchUrl)(Pn.url)?new _displayFetch_stream.PDFFetchStream(Pn):new _displayNetwork.PDFNetworkStream(Pn))({url:vt,length:Rn,httpHeaders:jt,withCredentials:kt,rangeChunkSize:Ht,disableRange:tn,disableStream:dn})),wn(jn)});return Promise.all([fn,bn]).then(function([wn,jn]){if(ut.destroyed)throw new Error("Loading aborted");const Mn=new _message_handler.MessageHandler(Et,wn,St.port),Pn=new WorkerTransport(Mn,ut,jn,Yt,sn);ut._transport=Pn,Mn.send("Ready",null)})}).catch(ut._capability.reject),ut}async function _fetchDocument(gt,ut){if(gt.destroyed)throw new Error("Worker was destroyed");const Et=await gt.messageHandler.sendWithPromise("GetDocRequest",ut,ut.data?[ut.data.buffer]:null);if(gt.destroyed)throw new Error("Worker was destroyed");return Et}function getUrlProp(gt){if(gt instanceof URL)return gt.href;try{return new URL(gt,window.location).href}catch{if(_util.isNodeJS&&typeof gt=="string")return gt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(gt){if(_util.isNodeJS&&typeof Buffer<"u"&&gt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(gt instanceof Uint8Array&&gt.byteLength===gt.buffer.byteLength)return gt;if(typeof gt=="string")return(0,_util.stringToBytes)(gt);if(typeof gt=="object"&&!isNaN(gt==null?void 0:gt.length)||(0,_util.isArrayBuffer)(gt))return new Uint8Array(gt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const i=class i{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${rr(i,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var ut,Et,vt;this.destroyed=!0;try{(ut=this._worker)!=null&&ut.port&&(this._worker._pendingDestroy=!0),await((Et=this._transport)==null?void 0:Et.destroy())}catch(_t){throw(vt=this._worker)!=null&&vt.port&&delete this._worker._pendingDestroy,_t}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};e=new WeakMap,Lt(i,e,0);let PDFDocumentLoadingTask=i;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(ut,Et,vt=!1,_t=null){this.length=ut,this.initialData=Et,this.progressiveDone=vt,this.contentDispositionFilename=_t,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(ut){this._rangeListeners.push(ut)}addProgressListener(ut){this._progressListeners.push(ut)}addProgressiveReadListener(ut){this._progressiveReadListeners.push(ut)}addProgressiveDoneListener(ut){this._progressiveDoneListeners.push(ut)}onDataRange(ut,Et){for(const vt of this._rangeListeners)vt(ut,Et)}onDataProgress(ut,Et){this._readyCapability.promise.then(()=>{for(const vt of this._progressListeners)vt(ut,Et)})}onDataProgressiveRead(ut){this._readyCapability.promise.then(()=>{for(const Et of this._progressiveReadListeners)Et(ut)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const ut of this._progressiveDoneListeners)ut()})}transportReady(){this._readyCapability.resolve()}requestDataRange(ut,Et){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(ut,Et){this._pdfInfo=ut,this._transport=Et,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(vt=>{if(!vt)return vt;const _t=[];for(const jt in vt)_t.push(...vt[jt]);return _t}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(ut){return this._transport.getPage(ut)}getPageIndex(ut){return this._transport.getPageIndex(ut)}getDestinations(){return this._transport.getDestinations()}getDestination(ut){return this._transport.getDestination(ut)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(ut=!1){return this._transport.startCleanup(ut||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(ut,Et,vt,_t=!1){Lt(this,o);Lt(this,d);Lt(this,s,null);Lt(this,a,!1);this._pageIndex=ut,this._pageInfo=Et,this._transport=vt,this._stats=_t?new _display_utils.StatTimer:null,this._pdfBug=_t,this.commonObjs=vt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:ut,rotation:Et=this.rotate,offsetX:vt=0,offsetY:_t=0,dontFlip:jt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:ut,rotation:Et,offsetX:vt,offsetY:_t,dontFlip:jt})}getAnnotations({intent:ut="display"}={}){const Et=this._transport.getRenderingIntent(ut);return this._transport.getAnnotations(this._pageIndex,Et.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var ut;return((ut=this._transport._htmlForXfa)==null?void 0:ut.children[this._pageIndex])||null}render({canvasContext:ut,viewport:Et,intent:vt="display",annotationMode:_t=_util.AnnotationMode.ENABLE,transform:jt=null,background:kt=null,optionalContentConfigPromise:It=null,annotationCanvasMap:Vt=null,pageColors:Ht=null,printAnnotationStorage:St=null}){var mt,ht;(mt=this._stats)==null||mt.time("Overall");const Nt=this._transport.getRenderingIntent(vt,_t,St);Kt(this,a,!1),Bt(this,d,dr).call(this),It||(It=this._transport.getOptionalContentConfig());let bt=this._intentStates.get(Nt.cacheKey);bt||(bt=Object.create(null),this._intentStates.set(Nt.cacheKey,bt)),bt.streamReaderCancelTimeout&&(clearTimeout(bt.streamReaderCancelTimeout),bt.streamReaderCancelTimeout=null);const Qt=!!(Nt.renderingIntent&_util.RenderingIntentFlag.PRINT);bt.displayReadyCapability||(bt.displayReadyCapability=new _util.PromiseCapability,bt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(ht=this._stats)==null||ht.time("Page Request"),this._pumpOperatorList(Nt));const nn=yt=>{var wt,Ct;bt.renderTasks.delete(dt),(this._maybeCleanupAfterRender||Qt)&&Kt(this,a,!0),Bt(this,o,Jn).call(this,!Qt),yt?(dt.capability.reject(yt),this._abortOperatorList({intentState:bt,reason:yt instanceof Error?yt:new Error(yt)})):dt.capability.resolve(),(wt=this._stats)==null||wt.timeEnd("Rendering"),(Ct=this._stats)==null||Ct.timeEnd("Overall")},dt=new InternalRenderTask({callback:nn,params:{canvasContext:ut,viewport:Et,transform:jt,background:kt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Vt,operatorList:bt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Qt,pdfBug:this._pdfBug,pageColors:Ht});(bt.renderTasks||(bt.renderTasks=new Set)).add(dt);const ct=dt.task;return Promise.all([bt.displayReadyCapability.promise,It]).then(([yt,wt])=>{var Ct;if(this.destroyed){nn();return}(Ct=this._stats)==null||Ct.time("Rendering"),dt.initializeGraphics({transparency:yt,optionalContentConfig:wt}),dt.operatorListChanged()}).catch(nn),ct}getOperatorList({intent:ut="display",annotationMode:Et=_util.AnnotationMode.ENABLE,printAnnotationStorage:vt=null}={}){var Vt;function _t(){kt.operatorList.lastChunk&&(kt.opListReadCapability.resolve(kt.operatorList),kt.renderTasks.delete(It))}const jt=this._transport.getRenderingIntent(ut,Et,vt,!0);let kt=this._intentStates.get(jt.cacheKey);kt||(kt=Object.create(null),this._intentStates.set(jt.cacheKey,kt));let It;return kt.opListReadCapability||(It=Object.create(null),It.operatorListChanged=_t,kt.opListReadCapability=new _util.PromiseCapability,(kt.renderTasks||(kt.renderTasks=new Set)).add(It),kt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Vt=this._stats)==null||Vt.time("Page Request"),this._pumpOperatorList(jt)),kt.opListReadCapability.promise}streamTextContent({includeMarkedContent:ut=!1,disableNormalization:Et=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:ut===!0,disableNormalization:Et===!0},{highWaterMark:100,size(_t){return _t.items.length}})}getTextContent(ut={}){if(this._transport._htmlForXfa)return this.getXfa().then(vt=>_xfa_text.XfaText.textContent(vt));const Et=this.streamTextContent(ut);return new Promise(function(vt,_t){function jt(){kt.read().then(function({value:Vt,done:Ht}){if(Ht){vt(It);return}Object.assign(It.styles,Vt.styles),It.items.push(...Vt.items),jt()},_t)}const kt=Et.getReader(),It={items:[],styles:Object.create(null)};jt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const ut=[];for(const Et of this._intentStates.values())if(this._abortOperatorList({intentState:Et,reason:new Error("Page was destroyed."),force:!0}),!Et.opListReadCapability)for(const vt of Et.renderTasks)ut.push(vt.completed),vt.cancel();return this.objs.clear(),Kt(this,a,!1),Bt(this,d,dr).call(this),Promise.all(ut)}cleanup(ut=!1){Kt(this,a,!0);const Et=Bt(this,o,Jn).call(this,!1);return ut&&Et&&this._stats&&(this._stats=new _display_utils.StatTimer),Et}_startRenderPage(ut,Et){var _t,jt;const vt=this._intentStates.get(Et);vt&&((_t=this._stats)==null||_t.timeEnd("Page Request"),(jt=vt.displayReadyCapability)==null||jt.resolve(ut))}_renderPageChunk(ut,Et){for(let vt=0,_t=ut.length;vt<_t;vt++)Et.operatorList.fnArray.push(ut.fnArray[vt]),Et.operatorList.argsArray.push(ut.argsArray[vt]);Et.operatorList.lastChunk=ut.lastChunk,Et.operatorList.separateAnnots=ut.separateAnnots;for(const vt of Et.renderTasks)vt.operatorListChanged();ut.lastChunk&&Bt(this,o,Jn).call(this,!0)}_pumpOperatorList({renderingIntent:ut,cacheKey:Et,annotationStorageSerializable:vt}){const{map:_t,transfers:jt}=vt,It=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:ut,cacheKey:Et,annotationStorage:_t},jt).getReader(),Vt=this._intentStates.get(Et);Vt.streamReader=It;const Ht=()=>{It.read().then(({value:St,done:Nt})=>{if(Nt){Vt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(St,Vt),Ht())},St=>{if(Vt.streamReader=null,!this._transport.destroyed){if(Vt.operatorList){Vt.operatorList.lastChunk=!0;for(const Nt of Vt.renderTasks)Nt.operatorListChanged();Bt(this,o,Jn).call(this,!0)}if(Vt.displayReadyCapability)Vt.displayReadyCapability.reject(St);else if(Vt.opListReadCapability)Vt.opListReadCapability.reject(St);else throw St}})};Ht()}_abortOperatorList({intentState:ut,reason:Et,force:vt=!1}){if(ut.streamReader){if(ut.streamReaderCancelTimeout&&(clearTimeout(ut.streamReaderCancelTimeout),ut.streamReaderCancelTimeout=null),!vt){if(ut.renderTasks.size>0)return;if(Et instanceof _display_utils.RenderingCancelledException){let _t=RENDERING_CANCELLED_TIMEOUT;Et.extraDelay>0&&Et.extraDelay<1e3&&(_t+=Et.extraDelay),ut.streamReaderCancelTimeout=setTimeout(()=>{ut.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:ut,reason:Et,force:!0})},_t);return}}if(ut.streamReader.cancel(new _util.AbortException(Et.message)).catch(()=>{}),ut.streamReader=null,!this._transport.destroyed){for(const[_t,jt]of this._intentStates)if(jt===ut){this._intentStates.delete(_t);break}this.cleanup()}}}get stats(){return this._stats}}s=new WeakMap,a=new WeakMap,o=new WeakSet,Jn=function(ut=!1){if(Bt(this,d,dr).call(this),!lt(this,a)||this.destroyed)return!1;if(ut)return Kt(this,s,setTimeout(()=>{Kt(this,s,null),Bt(this,o,Jn).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:Et,operatorList:vt}of this._intentStates.values())if(Et.size>0||!vt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Kt(this,a,!1),!0},d=new WeakSet,dr=function(){lt(this,s)&&(clearTimeout(lt(this,s)),Kt(this,s,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Lt(this,g,new Set);Lt(this,b,Promise.resolve())}postMessage(ut,Et){const vt={data:structuredClone(ut,Et?{transfer:Et}:null)};lt(this,b).then(()=>{for(const _t of lt(this,g))_t.call(this,vt)})}addEventListener(ut,Et){lt(this,g).add(Et)}removeEventListener(ut,Et){lt(this,g).delete(Et)}terminate(){lt(this,g).clear()}}g=new WeakMap,b=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const gt=(_=document==null?void 0:document.currentScript)==null?void 0:_.src;gt&&(PDFWorkerUtil.fallbackWorkerSrc=gt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(gt,ut){let Et;try{if(Et=new URL(gt),!Et.origin||Et.origin==="null")return!1}catch{return!1}const vt=new URL(ut,Et);return Et.origin===vt.origin},PDFWorkerUtil.createCDNWrapper=function(gt){const ut=`importScripts("${gt}");`;return URL.createObjectURL(new Blob([ut]))}}const _PDFWorker=class _PDFWorker{constructor({name:gt=null,port:ut=null,verbosity:Et=(0,_util.getVerbosityLevel)()}={}){var vt;if(this.name=gt,this.destroyed=!1,this.verbosity=Et,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,ut){if((vt=lt(_PDFWorker,j))!=null&&vt.has(ut))throw new Error("Cannot use more than one PDFWorker per port.");(lt(_PDFWorker,j)||Kt(_PDFWorker,j,new WeakMap)).set(ut,this),this._initializeFromPort(ut);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(gt){this._port=gt,this._messageHandler=new _message_handler.MessageHandler("main","worker",gt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:gt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,gt)||(gt=PDFWorkerUtil.createCDNWrapper(new URL(gt,window.location).href));const ut=new Worker(gt),Et=new _message_handler.MessageHandler("main","worker",ut),vt=()=>{ut.removeEventListener("error",_t),Et.destroy(),ut.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},_t=()=>{this._webWorker||vt()};ut.addEventListener("error",_t),Et.on("test",kt=>{if(ut.removeEventListener("error",_t),this.destroyed){vt();return}kt?(this._messageHandler=Et,this._port=ut,this._webWorker=ut,this._readyCapability.resolve(),Et.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Et.destroy(),ut.terminate())}),Et.on("ready",kt=>{if(ut.removeEventListener("error",_t),this.destroyed){vt();return}try{jt()}catch{this._setupFakeWorker()}});const jt=()=>{const kt=new Uint8Array;Et.send("test",kt,[kt.buffer])};jt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(gt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const ut=new LoopbackPort;this._port=ut;const Et=`fake${PDFWorkerUtil.fakeWorkerId++}`,vt=new _message_handler.MessageHandler(Et+"_worker",Et,ut);gt.setup(vt,ut);const _t=new _message_handler.MessageHandler(Et,Et+"_worker",ut);this._messageHandler=_t,this._readyCapability.resolve(),_t.send("configure",{verbosity:this.verbosity})}).catch(gt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${gt.message}".`))})}destroy(){var gt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(gt=lt(_PDFWorker,j))==null||gt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(gt){var Et;if(!(gt!=null&&gt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const ut=(Et=lt(this,j))==null?void 0:Et.get(gt.port);if(ut){if(ut._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return ut}return new _PDFWorker(gt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var gt;try{return((gt=globalThis.pdfjsWorker)==null?void 0:gt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};j=new WeakMap,Lt(_PDFWorker,j,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(ut,Et,vt,_t,jt){Lt(this,st);Lt(this,$,new Map);Lt(this,_e,new Map);Lt(this,rt,new Map);Lt(this,nt,null);this.messageHandler=ut,this.loadingTask=Et,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:_t.ownerDocument,styleElement:_t.styleElement}),this._params=_t,this.canvasFactory=jt.canvasFactory,this.filterFactory=jt.filterFactory,this.cMapReaderFactory=jt.cMapReaderFactory,this.standardFontDataFactory=jt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=vt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(ut,Et=_util.AnnotationMode.ENABLE,vt=null,_t=!1){let jt=_util.RenderingIntentFlag.DISPLAY,kt=_annotation_storage.SerializableEmpty;switch(ut){case"any":jt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":jt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${ut}`)}switch(Et){case _util.AnnotationMode.DISABLE:jt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:jt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:jt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,kt=(jt&_util.RenderingIntentFlag.PRINT&&vt instanceof _annotation_storage.PrintAnnotationStorage?vt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Et}`)}return _t&&(jt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:jt,cacheKey:`${jt}_${kt.hash}`,annotationStorageSerializable:kt}}destroy(){var vt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(vt=lt(this,nt))==null||vt.reject(new Error("Worker was destroyed during onPassword callback"));const ut=[];for(const _t of lt(this,_e).values())ut.push(_t._destroy());lt(this,_e).clear(),lt(this,rt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Et=this.messageHandler.sendWithPromise("Terminate",null);return ut.push(Et),Promise.all(ut).then(()=>{var _t;this.commonObjs.clear(),this.fontLoader.clear(),lt(this,$).clear(),this.filterFactory.destroy(),(_t=this._networkStream)==null||_t.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:ut,loadingTask:Et}=this;ut.on("GetReader",(vt,_t)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=jt=>{this._lastProgress={loaded:jt.loaded,total:jt.total}},_t.onPull=()=>{this._fullReader.read().then(function({value:jt,done:kt}){if(kt){_t.close();return}(0,_util.assert)(jt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),_t.enqueue(new Uint8Array(jt),1,[jt])}).catch(jt=>{_t.error(jt)})},_t.onCancel=jt=>{this._fullReader.cancel(jt),_t.ready.catch(kt=>{if(!this.destroyed)throw kt})}}),ut.on("ReaderHeadersReady",vt=>{const _t=new _util.PromiseCapability,jt=this._fullReader;return jt.headersReady.then(()=>{var kt;(!jt.isStreamingSupported||!jt.isRangeSupported)&&(this._lastProgress&&((kt=Et.onProgress)==null||kt.call(Et,this._lastProgress)),jt.onProgress=It=>{var Vt;(Vt=Et.onProgress)==null||Vt.call(Et,{loaded:It.loaded,total:It.total})}),_t.resolve({isStreamingSupported:jt.isStreamingSupported,isRangeSupported:jt.isRangeSupported,contentLength:jt.contentLength})},_t.reject),_t.promise}),ut.on("GetRangeReader",(vt,_t)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const jt=this._networkStream.getRangeReader(vt.begin,vt.end);if(!jt){_t.close();return}_t.onPull=()=>{jt.read().then(function({value:kt,done:It}){if(It){_t.close();return}(0,_util.assert)(kt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),_t.enqueue(new Uint8Array(kt),1,[kt])}).catch(kt=>{_t.error(kt)})},_t.onCancel=kt=>{jt.cancel(kt),_t.ready.catch(It=>{if(!this.destroyed)throw It})}}),ut.on("GetDoc",({pdfInfo:vt})=>{this._numPages=vt.numPages,this._htmlForXfa=vt.htmlForXfa,delete vt.htmlForXfa,Et._capability.resolve(new PDFDocumentProxy(vt,this))}),ut.on("DocException",function(vt){let _t;switch(vt.name){case"PasswordException":_t=new _util.PasswordException(vt.message,vt.code);break;case"InvalidPDFException":_t=new _util.InvalidPDFException(vt.message);break;case"MissingPDFException":_t=new _util.MissingPDFException(vt.message);break;case"UnexpectedResponseException":_t=new _util.UnexpectedResponseException(vt.message,vt.status);break;case"UnknownErrorException":_t=new _util.UnknownErrorException(vt.message,vt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Et._capability.reject(_t)}),ut.on("PasswordRequest",vt=>{if(Kt(this,nt,new _util.PromiseCapability),Et.onPassword){const _t=jt=>{jt instanceof Error?lt(this,nt).reject(jt):lt(this,nt).resolve({password:jt})};try{Et.onPassword(_t,vt.code)}catch(jt){lt(this,nt).reject(jt)}}else lt(this,nt).reject(new _util.PasswordException(vt.message,vt.code));return lt(this,nt).promise}),ut.on("DataLoaded",vt=>{var _t;(_t=Et.onProgress)==null||_t.call(Et,{loaded:vt.length,total:vt.length}),this.downloadInfoCapability.resolve(vt)}),ut.on("StartRenderPage",vt=>{if(this.destroyed)return;lt(this,_e).get(vt.pageIndex)._startRenderPage(vt.transparency,vt.cacheKey)}),ut.on("commonobj",([vt,_t,jt])=>{var kt;if(!this.destroyed&&!this.commonObjs.has(vt))switch(_t){case"Font":const It=this._params;if("error"in jt){const St=jt.error;(0,_util.warn)(`Error during font loading: ${St}`),this.commonObjs.resolve(vt,St);break}const Vt=It.pdfBug&&((kt=globalThis.FontInspector)!=null&&kt.enabled)?(St,Nt)=>globalThis.FontInspector.fontAdded(St,Nt):null,Ht=new _font_loader.FontFaceObject(jt,{isEvalSupported:It.isEvalSupported,disableFontFace:It.disableFontFace,ignoreErrors:It.ignoreErrors,inspectFont:Vt});this.fontLoader.bind(Ht).catch(St=>ut.sendWithPromise("FontFallback",{id:vt})).finally(()=>{!It.fontExtraProperties&&Ht.data&&(Ht.data=null),this.commonObjs.resolve(vt,Ht)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(vt,jt);break;default:throw new Error(`Got unknown common object type ${_t}`)}}),ut.on("obj",([vt,_t,jt,kt])=>{var Vt;if(this.destroyed)return;const It=lt(this,_e).get(_t);if(!It.objs.has(vt))switch(jt){case"Image":if(It.objs.resolve(vt,kt),kt){let Ht;if(kt.bitmap){const{width:St,height:Nt}=kt;Ht=St*Nt*4}else Ht=((Vt=kt.data)==null?void 0:Vt.length)||0;Ht>_util.MAX_IMAGE_SIZE_TO_CACHE&&(It._maybeCleanupAfterRender=!0)}break;case"Pattern":It.objs.resolve(vt,kt);break;default:throw new Error(`Got unknown object type ${jt}`)}}),ut.on("DocProgress",vt=>{var _t;this.destroyed||(_t=Et.onProgress)==null||_t.call(Et,{loaded:vt.loaded,total:vt.total})}),ut.on("FetchBuiltInCMap",vt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(vt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),ut.on("FetchStandardFontData",vt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(vt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var vt;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:ut,transfers:Et}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:ut,filename:((vt=this._fullReader)==null?void 0:vt.filename)??null},Et).finally(()=>{this.annotationStorage.resetModified()})}getPage(ut){if(!Number.isInteger(ut)||ut<=0||ut>this._numPages)return Promise.reject(new Error("Invalid page request."));const Et=ut-1,vt=lt(this,rt).get(Et);if(vt)return vt;const _t=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Et}).then(jt=>{if(this.destroyed)throw new Error("Transport destroyed");const kt=new PDFPageProxy(Et,jt,this,this._params.pdfBug);return lt(this,_e).set(Et,kt),kt});return lt(this,rt).set(Et,_t),_t}getPageIndex(ut){return typeof ut!="object"||ut===null||!Number.isInteger(ut.num)||ut.num<0||!Number.isInteger(ut.gen)||ut.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:ut.num,gen:ut.gen})}getAnnotations(ut,Et){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:ut,intent:Et})}getFieldObjects(){return Bt(this,st,hr).call(this,"GetFieldObjects")}hasJSActions(){return Bt(this,st,hr).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(ut){return typeof ut!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:ut})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Bt(this,st,hr).call(this,"GetDocJSActions")}getPageJSActions(ut){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:ut})}getStructTree(ut){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:ut})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(ut=>new _optional_content_config.OptionalContentConfig(ut))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const ut="GetMetadata",Et=lt(this,$).get(ut);if(Et)return Et;const vt=this.messageHandler.sendWithPromise(ut,null).then(_t=>{var jt,kt;return{info:_t[0],metadata:_t[1]?new _metadata.Metadata(_t[1]):null,contentDispositionFilename:((jt=this._fullReader)==null?void 0:jt.filename)??null,contentLength:((kt=this._fullReader)==null?void 0:kt.contentLength)??null}});return lt(this,$).set(ut,vt),vt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(ut=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Et of lt(this,_e).values())if(!Et.cleanup())throw new Error(`startCleanup: Page ${Et.pageNumber} is currently rendering.`);this.commonObjs.clear(),ut||this.fontLoader.clear(),lt(this,$).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:ut,enableXfa:Et}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:ut,enableXfa:Et})}}$=new WeakMap,_e=new WeakMap,rt=new WeakMap,nt=new WeakMap,st=new WeakSet,hr=function(ut,Et=null){const vt=lt(this,$).get(ut);if(vt)return vt;const _t=this.messageHandler.sendWithPromise(ut,Et);return lt(this,$).set(ut,_t),_t};class PDFObjects{constructor(){Lt(this,it);Lt(this,et,Object.create(null))}get(ut,Et=null){if(Et){const _t=Bt(this,it,Cr).call(this,ut);return _t.capability.promise.then(()=>Et(_t.data)),null}const vt=lt(this,et)[ut];if(!(vt!=null&&vt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${ut}.`);return vt.data}has(ut){const Et=lt(this,et)[ut];return(Et==null?void 0:Et.capability.settled)||!1}resolve(ut,Et=null){const vt=Bt(this,it,Cr).call(this,ut);vt.data=Et,vt.capability.resolve()}clear(){var ut;for(const Et in lt(this,et)){const{data:vt}=lt(this,et)[Et];(ut=vt==null?void 0:vt.bitmap)==null||ut.close()}Kt(this,et,Object.create(null))}}et=new WeakMap,it=new WeakSet,Cr=function(ut){var Et;return(Et=lt(this,et))[ut]||(Et[ut]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(ut){Lt(this,ot,null);Kt(this,ot,ut),this.onContinue=null}get promise(){return lt(this,ot).capability.promise}cancel(ut=0){lt(this,ot).cancel(null,ut)}get separateAnnots(){const{separateAnnots:ut}=lt(this,ot).operatorList;if(!ut)return!1;const{annotationCanvasMap:Et}=lt(this,ot);return ut.form||ut.canvas&&(Et==null?void 0:Et.size)>0}}ot=new WeakMap,exports.RenderTask=RenderTask;const xt=class xt{constructor({callback:ut,params:Et,objs:vt,commonObjs:_t,annotationCanvasMap:jt,operatorList:kt,pageIndex:It,canvasFactory:Vt,filterFactory:Ht,useRequestAnimationFrame:St=!1,pdfBug:Nt=!1,pageColors:bt=null}){this.callback=ut,this.params=Et,this.objs=vt,this.commonObjs=_t,this.annotationCanvasMap=jt,this.operatorListIdx=null,this.operatorList=kt,this._pageIndex=It,this.canvasFactory=Vt,this.filterFactory=Ht,this._pdfBug=Nt,this.pageColors=bt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=St===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Et.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:ut=!1,optionalContentConfig:Et}){var It,Vt;if(this.cancelled)return;if(this._canvas){if(lt(xt,at).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");lt(xt,at).add(this._canvas)}this._pdfBug&&((It=globalThis.StepperManager)!=null&&It.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:vt,viewport:_t,transform:jt,background:kt}=this.params;this.gfx=new _canvas.CanvasGraphics(vt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Et},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:jt,viewport:_t,transparency:ut,background:kt}),this.operatorListIdx=0,this.graphicsReady=!0,(Vt=this.graphicsReadyCallback)==null||Vt.call(this)}cancel(ut=null,Et=0){var vt;this.running=!1,this.cancelled=!0,(vt=this.gfx)==null||vt.endDrawing(),lt(xt,at).delete(this._canvas),this.callback(ut||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Et))}operatorListChanged(){var ut;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(ut=this.stepper)==null||ut.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),lt(xt,at).delete(this._canvas),this.callback())))}};at=new WeakMap,Lt(xt,at,new WeakSet);let InternalRenderTask=xt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(e,i,s)=>{var b,_,j,cs,_e;Object.defineProperty(i,"__esModule",{value:!0}),i.SerializableEmpty=i.PrintAnnotationStorage=i.AnnotationStorage=void 0;var a=s(1),o=s(4),c=s(8);const d=Object.freeze({map:null,hash:"",transfers:void 0});i.SerializableEmpty=d;class h{constructor(){Lt(this,j);Lt(this,b,!1);Lt(this,_,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(nt,st){const tt=lt(this,_).get(nt);return tt===void 0?st:Object.assign(st,tt)}getRawValue(nt){return lt(this,_).get(nt)}remove(nt){if(lt(this,_).delete(nt),lt(this,_).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const st of lt(this,_).values())if(st instanceof o.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(nt,st){const tt=lt(this,_).get(nt);let et=!1;if(tt!==void 0)for(const[it,pt]of Object.entries(st))tt[it]!==pt&&(et=!0,tt[it]=pt);else et=!0,lt(this,_).set(nt,st);et&&Bt(this,j,cs).call(this),st instanceof o.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(st.constructor._type)}has(nt){return lt(this,_).has(nt)}getAll(){return lt(this,_).size>0?(0,a.objectFromMap)(lt(this,_)):null}setAll(nt){for(const[st,tt]of Object.entries(nt))this.setValue(st,tt)}get size(){return lt(this,_).size}resetModified(){lt(this,b)&&(Kt(this,b,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new g(this)}get serializable(){if(lt(this,_).size===0)return d;const nt=new Map,st=new c.MurmurHash3_64,tt=[],et=Object.create(null);let it=!1;for(const[pt,ot]of lt(this,_)){const at=ot instanceof o.AnnotationEditor?ot.serialize(!1,et):ot;at&&(nt.set(pt,at),st.update(`${pt}:${JSON.stringify(at)}`),it||(it=!!at.bitmap))}if(it)for(const pt of nt.values())pt.bitmap&&tt.push(pt.bitmap);return nt.size>0?{map:nt,hash:st.hexdigest(),transfers:tt}:d}}b=new WeakMap,_=new WeakMap,j=new WeakSet,cs=function(){lt(this,b)||(Kt(this,b,!0),typeof this.onSetModified=="function"&&this.onSetModified())},i.AnnotationStorage=h;class g extends h{constructor(st){super();Lt(this,_e,void 0);const{map:tt,hash:et,transfers:it}=st.serializable,pt=structuredClone(tt,it?{transfer:it}:null);Kt(this,_e,{map:pt,hash:et,transfers:it})}get print(){(0,a.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return lt(this,_e)}}_e=new WeakMap,i.PrintAnnotationStorage=g},(e,i,s)=>{var g,b,_,j,$,_e,rt,nt,st,tt,et,it,pt,ot,at,_r,gt,Rr,Et,Tr,_t,Pr,kt,us,Vt,ds,St,hs,bt,jr,nn,ps;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditor=void 0;var a=s(5),o=s(1),c=s(6);const ct=class ct{constructor(ht){Lt(this,at);Lt(this,gt);Lt(this,_t);Lt(this,kt);Lt(this,Vt);Lt(this,St);Lt(this,bt);Lt(this,nn);Lt(this,g,"");Lt(this,b,!1);Lt(this,_,null);Lt(this,j,null);Lt(this,$,null);Lt(this,_e,!1);Lt(this,rt,null);Lt(this,nt,this.focusin.bind(this));Lt(this,st,this.focusout.bind(this));Lt(this,tt,!1);Lt(this,et,!1);Lt(this,it,!1);Un(this,"_initialOptions",Object.create(null));Un(this,"_uiManager",null);Un(this,"_focusEventsAllowed",!0);Un(this,"_l10nPromise",null);Lt(this,pt,!1);Lt(this,ot,ct._zIndex++);this.constructor===ct&&(0,o.unreachable)("Cannot initialize AnnotationEditor."),this.parent=ht.parent,this.id=ht.id,this.width=this.height=null,this.pageIndex=ht.parent.pageIndex,this.name=ht.name,this.div=null,this._uiManager=ht.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=ht.isCentered,this._structTreeParentId=null;const{rotation:yt,rawDims:{pageWidth:wt,pageHeight:Ct,pageX:Rt,pageY:Mt}}=this.parent.viewport;this.rotation=yt,this.pageRotation=(360+yt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[wt,Ct],this.pageTranslation=[Rt,Mt];const[Wt,Xt]=this.parentDimensions;this.x=ht.x/Wt,this.y=ht.y/Xt,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,o.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(ht){const yt=new h({id:ht.parent.getNextId(),parent:ht.parent,uiManager:ht._uiManager});yt.annotationElementId=ht.annotationElementId,yt.deleted=!0,yt._uiManager.addToAnnotationStorage(yt)}static initialize(ht,yt=null){if(ct._l10nPromise||(ct._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Ct=>[Ct,ht.get(Ct)]))),yt!=null&&yt.strings)for(const Ct of yt.strings)ct._l10nPromise.set(Ct,ht.get(Ct));if(ct._borderLineWidth!==-1)return;const wt=getComputedStyle(document.documentElement);ct._borderLineWidth=parseFloat(wt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(ht,yt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(ht){return!1}static paste(ht,yt){(0,o.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return lt(this,pt)}set _isDraggable(ht){var yt;Kt(this,pt,ht),(yt=this.div)==null||yt.classList.toggle("draggable",ht)}center(){const[ht,yt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*yt/(ht*2),this.y+=this.width*ht/(yt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*yt/(ht*2),this.y-=this.width*ht/(yt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(ht){this._uiManager.addCommands(ht)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=lt(this,ot)}setParent(ht){ht!==null&&(this.pageIndex=ht.pageIndex,this.pageDimensions=ht.pageDimensions),this.parent=ht}focusin(ht){this._focusEventsAllowed&&(lt(this,tt)?Kt(this,tt,!1):this.parent.setSelected(this))}focusout(ht){var wt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const yt=ht.relatedTarget;yt!=null&&yt.closest(`#${this.id}`)||(ht.preventDefault(),(wt=this.parent)!=null&&wt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(ht,yt,wt,Ct){const[Rt,Mt]=this.parentDimensions;[wt,Ct]=this.screenToPageTranslation(wt,Ct),this.x=(ht+wt)/Rt,this.y=(yt+Ct)/Mt,this.fixAndSetPosition()}translate(ht,yt){Bt(this,at,_r).call(this,this.parentDimensions,ht,yt)}translateInPage(ht,yt){Bt(this,at,_r).call(this,this.pageDimensions,ht,yt),this.div.scrollIntoView({block:"nearest"})}drag(ht,yt){const[wt,Ct]=this.parentDimensions;if(this.x+=ht/wt,this.y+=yt/Ct,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Zt,y:tn}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Zt,tn)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Rt,y:Mt}=this;const[Wt,Xt]=Bt(this,gt,Rr).call(this);Rt+=Wt,Mt+=Xt,this.div.style.left=`${(100*Rt).toFixed(2)}%`,this.div.style.top=`${(100*Mt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[ht,yt]=this.pageDimensions;let{x:wt,y:Ct,width:Rt,height:Mt}=this;switch(Rt*=ht,Mt*=yt,wt*=ht,Ct*=yt,this.rotation){case 0:wt=Math.max(0,Math.min(ht-Rt,wt)),Ct=Math.max(0,Math.min(yt-Mt,Ct));break;case 90:wt=Math.max(0,Math.min(ht-Mt,wt)),Ct=Math.min(yt,Math.max(Rt,Ct));break;case 180:wt=Math.min(ht,Math.max(Rt,wt)),Ct=Math.min(yt,Math.max(Mt,Ct));break;case 270:wt=Math.min(ht,Math.max(Mt,wt)),Ct=Math.max(0,Math.min(yt-Rt,Ct));break}this.x=wt/=ht,this.y=Ct/=yt;const[Wt,Xt]=Bt(this,gt,Rr).call(this);wt+=Wt,Ct+=Xt;const{style:Zt}=this.div;Zt.left=`${(100*wt).toFixed(2)}%`,Zt.top=`${(100*Ct).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(ht,yt){var wt;return Bt(wt=ct,Et,Tr).call(wt,ht,yt,this.parentRotation)}pageTranslationToScreen(ht,yt){var wt;return Bt(wt=ct,Et,Tr).call(wt,ht,yt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:ht,pageDimensions:[yt,wt]}=this,Ct=yt*ht,Rt=wt*ht;return o.FeatureTest.isCSSRoundSupported?[Math.round(Ct),Math.round(Rt)]:[Ct,Rt]}setDims(ht,yt){var Rt;const[wt,Ct]=this.parentDimensions;this.div.style.width=`${(100*ht/wt).toFixed(2)}%`,lt(this,_e)||(this.div.style.height=`${(100*yt/Ct).toFixed(2)}%`),(Rt=lt(this,_))==null||Rt.classList.toggle("small",ht<ct.SMALL_EDITOR_SIZE||yt<ct.SMALL_EDITOR_SIZE)}fixDims(){const{style:ht}=this.div,{height:yt,width:wt}=ht,Ct=wt.endsWith("%"),Rt=!lt(this,_e)&&yt.endsWith("%");if(Ct&&Rt)return;const[Mt,Wt]=this.parentDimensions;Ct||(ht.width=`${(100*parseFloat(wt)/Mt).toFixed(2)}%`),!lt(this,_e)&&!Rt&&(ht.height=`${(100*parseFloat(yt)/Wt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(lt(this,_))return;const ht=Kt(this,_,document.createElement("button"));ht.className="altText";const yt=await ct._l10nPromise.get("editor_alt_text_button_label");ht.textContent=yt,ht.setAttribute("aria-label",yt),ht.tabIndex="0",ht.addEventListener("contextmenu",c.noContextMenu),ht.addEventListener("pointerdown",wt=>wt.stopPropagation()),ht.addEventListener("click",wt=>{wt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),ht.addEventListener("keydown",wt=>{wt.target===ht&&wt.key==="Enter"&&(wt.preventDefault(),this._uiManager.editAltText(this))}),Bt(this,bt,jr).call(this),this.div.append(ht),ct.SMALL_EDITOR_SIZE||(ct.SMALL_EDITOR_SIZE=Math.min(128,Math.round(ht.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:lt(this,g),decorative:lt(this,b)}}set altTextData({altText:ht,decorative:yt}){lt(this,g)===ht&&lt(this,b)===yt||(Kt(this,g,ht),Kt(this,b,yt),Bt(this,bt,jr).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",lt(this,nt)),this.div.addEventListener("focusout",lt(this,st));const[ht,yt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*yt/ht).toFixed(2)}%`,this.div.style.maxHeight=`${(100*ht/yt).toFixed(2)}%`);const[wt,Ct]=this.getInitialTranslation();return this.translate(wt,Ct),(0,a.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(ht){const{isMac:yt}=o.FeatureTest.platform;if(ht.button!==0||ht.ctrlKey&&yt){ht.preventDefault();return}Kt(this,tt,!0),Bt(this,nn,ps).call(this,ht)}moveInDOM(){var ht;(ht=this.parent)==null||ht.moveEditorInDOM(this)}_setParentAndPosition(ht,yt,wt){ht.changeParent(this),this.x=yt,this.y=wt,this.fixAndSetPosition()}getRect(ht,yt){const wt=this.parentScale,[Ct,Rt]=this.pageDimensions,[Mt,Wt]=this.pageTranslation,Xt=ht/wt,Zt=yt/wt,tn=this.x*Ct,dn=this.y*Rt,rn=this.width*Ct,vn=this.height*Rt;switch(this.rotation){case 0:return[tn+Xt+Mt,Rt-dn-Zt-vn+Wt,tn+Xt+rn+Mt,Rt-dn-Zt+Wt];case 90:return[tn+Zt+Mt,Rt-dn+Xt+Wt,tn+Zt+vn+Mt,Rt-dn+Xt+rn+Wt];case 180:return[tn-Xt-rn+Mt,Rt-dn+Zt+Wt,tn-Xt+Mt,Rt-dn+Zt+vn+Wt];case 270:return[tn-Zt-vn+Mt,Rt-dn-Xt-rn+Wt,tn-Zt+Mt,Rt-dn-Xt+Wt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(ht,yt){const[wt,Ct,Rt,Mt]=ht,Wt=Rt-wt,Xt=Mt-Ct;switch(this.rotation){case 0:return[wt,yt-Mt,Wt,Xt];case 90:return[wt,yt-Ct,Xt,Wt];case 180:return[Rt,yt-Ct,Wt,Xt];case 270:return[Rt,yt-Mt,Xt,Wt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Kt(this,it,!0)}disableEditMode(){Kt(this,it,!1)}isInEditMode(){return lt(this,it)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var ht,yt;(ht=this.div)==null||ht.addEventListener("focusin",lt(this,nt)),(yt=this.div)==null||yt.addEventListener("focusout",lt(this,st))}serialize(ht=!1,yt=null){(0,o.unreachable)("An editor must be serializable")}static deserialize(ht,yt,wt){const Ct=new this.prototype.constructor({parent:yt,id:yt.getNextId(),uiManager:wt});Ct.rotation=ht.rotation;const[Rt,Mt]=Ct.pageDimensions,[Wt,Xt,Zt,tn]=Ct.getRectInCurrentCoords(ht.rect,Mt);return Ct.x=Wt/Rt,Ct.y=Xt/Mt,Ct.width=Zt/Rt,Ct.height=tn/Mt,Ct}remove(){var ht;this.div.removeEventListener("focusin",lt(this,nt)),this.div.removeEventListener("focusout",lt(this,st)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(ht=lt(this,_))==null||ht.remove(),Kt(this,_,null),Kt(this,j,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Bt(this,kt,us).call(this),lt(this,rt).classList.remove("hidden"))}select(){var ht;this.makeResizable(),(ht=this.div)==null||ht.classList.add("selectedEditor")}unselect(){var ht,yt,wt;(ht=lt(this,rt))==null||ht.classList.add("hidden"),(yt=this.div)==null||yt.classList.remove("selectedEditor"),(wt=this.div)!=null&&wt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(ht,yt){}disableEditing(){lt(this,_)&&(lt(this,_).hidden=!0)}enableEditing(){lt(this,_)&&(lt(this,_).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return lt(this,et)}set isEditing(ht){Kt(this,et,ht),this.parent&&(ht?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(ht,yt){Kt(this,_e,!0);const wt=ht/yt,{style:Ct}=this.div;Ct.aspectRatio=wt,Ct.height="auto"}static get MIN_SIZE(){return 16}};g=new WeakMap,b=new WeakMap,_=new WeakMap,j=new WeakMap,$=new WeakMap,_e=new WeakMap,rt=new WeakMap,nt=new WeakMap,st=new WeakMap,tt=new WeakMap,et=new WeakMap,it=new WeakMap,pt=new WeakMap,ot=new WeakMap,at=new WeakSet,_r=function([ht,yt],wt,Ct){[wt,Ct]=this.screenToPageTranslation(wt,Ct),this.x+=wt/ht,this.y+=Ct/yt,this.fixAndSetPosition()},gt=new WeakSet,Rr=function(){const[ht,yt]=this.parentDimensions,{_borderLineWidth:wt}=ct,Ct=wt/ht,Rt=wt/yt;switch(this.rotation){case 90:return[-Ct,Rt];case 180:return[Ct,Rt];case 270:return[Ct,-Rt];default:return[-Ct,-Rt]}},Et=new WeakSet,Tr=function(ht,yt,wt){switch(wt){case 90:return[yt,-ht];case 180:return[-ht,-yt];case 270:return[-yt,ht];default:return[ht,yt]}},_t=new WeakSet,Pr=function(ht){switch(ht){case 90:{const[yt,wt]=this.pageDimensions;return[0,-yt/wt,wt/yt,0]}case 180:return[-1,0,0,-1];case 270:{const[yt,wt]=this.pageDimensions;return[0,yt/wt,-wt/yt,0]}default:return[1,0,0,1]}},kt=new WeakSet,us=function(){if(lt(this,rt))return;Kt(this,rt,document.createElement("div")),lt(this,rt).classList.add("resizers");const ht=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||ht.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const yt of ht){const wt=document.createElement("div");lt(this,rt).append(wt),wt.classList.add("resizer",yt),wt.addEventListener("pointerdown",Bt(this,Vt,ds).bind(this,yt)),wt.addEventListener("contextmenu",c.noContextMenu)}this.div.prepend(lt(this,rt))},Vt=new WeakSet,ds=function(ht,yt){yt.preventDefault();const{isMac:wt}=o.FeatureTest.platform;if(yt.button!==0||yt.ctrlKey&&wt)return;const Ct=Bt(this,St,hs).bind(this,ht),Rt=this._isDraggable;this._isDraggable=!1;const Mt={passive:!0,capture:!0};window.addEventListener("pointermove",Ct,Mt);const Wt=this.x,Xt=this.y,Zt=this.width,tn=this.height,dn=this.parent.div.style.cursor,rn=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(yt.target).cursor;const vn=()=>{this._isDraggable=Rt,window.removeEventListener("pointerup",vn),window.removeEventListener("blur",vn),window.removeEventListener("pointermove",Ct,Mt),this.parent.div.style.cursor=dn,this.div.style.cursor=rn;const Rn=this.x,pn=this.y,kn=this.width,an=this.height;Rn===Wt&&pn===Xt&&kn===Zt&&an===tn||this.addCommands({cmd:()=>{this.width=kn,this.height=an,this.x=Rn,this.y=pn;const[Gt,qt]=this.parentDimensions;this.setDims(Gt*kn,qt*an),this.fixAndSetPosition()},undo:()=>{this.width=Zt,this.height=tn,this.x=Wt,this.y=Xt;const[Gt,qt]=this.parentDimensions;this.setDims(Gt*Zt,qt*tn),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",vn),window.addEventListener("blur",vn)},St=new WeakSet,hs=function(ht,yt){const[wt,Ct]=this.parentDimensions,Rt=this.x,Mt=this.y,Wt=this.width,Xt=this.height,Zt=ct.MIN_SIZE/wt,tn=ct.MIN_SIZE/Ct,dn=on=>Math.round(on*1e4)/1e4,rn=Bt(this,_t,Pr).call(this,this.rotation),vn=(on,hn)=>[rn[0]*on+rn[2]*hn,rn[1]*on+rn[3]*hn],Rn=Bt(this,_t,Pr).call(this,360-this.rotation),pn=(on,hn)=>[Rn[0]*on+Rn[2]*hn,Rn[1]*on+Rn[3]*hn];let kn,an,Gt=!1,qt=!1;switch(ht){case"topLeft":Gt=!0,kn=(on,hn)=>[0,0],an=(on,hn)=>[on,hn];break;case"topMiddle":kn=(on,hn)=>[on/2,0],an=(on,hn)=>[on/2,hn];break;case"topRight":Gt=!0,kn=(on,hn)=>[on,0],an=(on,hn)=>[0,hn];break;case"middleRight":qt=!0,kn=(on,hn)=>[on,hn/2],an=(on,hn)=>[0,hn/2];break;case"bottomRight":Gt=!0,kn=(on,hn)=>[on,hn],an=(on,hn)=>[0,0];break;case"bottomMiddle":kn=(on,hn)=>[on/2,hn],an=(on,hn)=>[on/2,0];break;case"bottomLeft":Gt=!0,kn=(on,hn)=>[0,hn],an=(on,hn)=>[on,0];break;case"middleLeft":qt=!0,kn=(on,hn)=>[0,hn/2],an=(on,hn)=>[on,hn/2];break}const sn=kn(Wt,Xt),Ft=an(Wt,Xt);let Yt=vn(...Ft);const fn=dn(Rt+Yt[0]),bn=dn(Mt+Yt[1]);let wn=1,jn=1,[Mn,Pn]=this.screenToPageTranslation(yt.movementX,yt.movementY);if([Mn,Pn]=pn(Mn/wt,Pn/Ct),Gt){const on=Math.hypot(Wt,Xt);wn=jn=Math.max(Math.min(Math.hypot(Ft[0]-sn[0]-Mn,Ft[1]-sn[1]-Pn)/on,1/Wt,1/Xt),Zt/Wt,tn/Xt)}else qt?wn=Math.max(Zt,Math.min(1,Math.abs(Ft[0]-sn[0]-Mn)))/Wt:jn=Math.max(tn,Math.min(1,Math.abs(Ft[1]-sn[1]-Pn)))/Xt;const Nn=dn(Wt*wn),en=dn(Xt*jn);Yt=vn(...an(Nn,en));const zt=fn-Yt[0],Ot=bn-Yt[1];this.width=Nn,this.height=en,this.x=zt,this.y=Ot,this.setDims(wt*Nn,Ct*en),this.fixAndSetPosition()},bt=new WeakSet,jr=async function(){var wt;const ht=lt(this,_);if(!ht)return;if(!lt(this,g)&&!lt(this,b)){ht.classList.remove("done"),(wt=lt(this,j))==null||wt.remove();return}ct._l10nPromise.get("editor_alt_text_edit_button_label").then(Ct=>{ht.setAttribute("aria-label",Ct)});let yt=lt(this,j);if(!yt){Kt(this,j,yt=document.createElement("span")),yt.className="tooltip",yt.setAttribute("role","tooltip");const Ct=yt.id=`alt-text-tooltip-${this.id}`;ht.setAttribute("aria-describedby",Ct);const Rt=100;ht.addEventListener("mouseenter",()=>{Kt(this,$,setTimeout(()=>{Kt(this,$,null),lt(this,j).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Rt))}),ht.addEventListener("mouseleave",()=>{var Mt;clearTimeout(lt(this,$)),Kt(this,$,null),(Mt=lt(this,j))==null||Mt.classList.remove("show")})}ht.classList.add("done"),yt.innerText=lt(this,b)?await ct._l10nPromise.get("editor_alt_text_decorative_tooltip"):lt(this,g),yt.parentNode||ht.append(yt)},nn=new WeakSet,ps=function(ht){if(!this._isDraggable)return;const yt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let wt,Ct;yt&&(wt={passive:!0,capture:!0},Ct=Mt=>{const[Wt,Xt]=this.screenToPageTranslation(Mt.movementX,Mt.movementY);this._uiManager.dragSelectedEditors(Wt,Xt)},window.addEventListener("pointermove",Ct,wt));const Rt=()=>{if(window.removeEventListener("pointerup",Rt),window.removeEventListener("blur",Rt),yt&&window.removeEventListener("pointermove",Ct,wt),Kt(this,tt,!1),!this._uiManager.endDragSession()){const{isMac:Mt}=o.FeatureTest.platform;ht.ctrlKey&&!Mt||ht.shiftKey||ht.metaKey&&Mt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Rt),window.addEventListener("blur",Rt)},Lt(ct,Et),Un(ct,"_borderLineWidth",-1),Un(ct,"_colorManager",new a.ColorManager),Un(ct,"_zIndex",1),Un(ct,"SMALL_EDITOR_SIZE",0);let d=ct;i.AnnotationEditor=d;class h extends d{constructor(ht){super(ht),this.annotationElementId=ht.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,i,s)=>{var _e,rt,nt,st,tt,Lr,pt,ot,at,xt,gt,fs,vt,_t,jt,kt,It,Vt,Ht,St,Nt,bt,Qt,nn,dt,ct,mt,ht,yt,wt,Ct,Rt,Mt,Wt,Xt,Zt,tn,dn,rn,vn,Rn,pn,kn,an,Gt,qt,sn,ms,Yt,Mr,bn,Ir,jn,pr,Pn,Nr,en,Dr,Ot,qn,hn,ir,zn,gs,mn,xs,gn,Fr,Tn,sr,un,Or;Object.defineProperty(i,"__esModule",{value:!0}),i.KeyboardManager=i.CommandManager=i.ColorManager=i.AnnotationEditorUIManager=void 0,i.bindEvents=c,i.opacityToHex=d;var a=s(1),o=s(6);function c(Tt,ft,At){for(const Pt of At)ft.addEventListener(Pt,Tt[Pt].bind(Tt))}function d(Tt){return Math.round(Math.min(255,Math.max(1,255*Tt))).toString(16).padStart(2,"0")}class h{constructor(){Lt(this,_e,0)}getId(){return`${a.AnnotationEditorPrefix}${rr(this,_e)._++}`}}_e=new WeakMap;const it=class it{constructor(){Lt(this,tt);Lt(this,rt,(0,a.getUuid)());Lt(this,nt,0);Lt(this,st,null)}static get _isSVGFittingCanvas(){const ft='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Pt=new OffscreenCanvas(1,3).getContext("2d"),Dt=new Image;Dt.src=ft;const $t=Dt.decode().then(()=>(Pt.drawImage(Dt,0,0,1,1,0,0,1,3),new Uint32Array(Pt.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,a.shadow)(this,"_isSVGFittingCanvas",$t)}async getFromFile(ft){const{lastModified:At,name:Pt,size:Dt,type:$t}=ft;return Bt(this,tt,Lr).call(this,`${At}_${Pt}_${Dt}_${$t}`,ft)}async getFromUrl(ft){return Bt(this,tt,Lr).call(this,ft,ft)}async getFromId(ft){lt(this,st)||Kt(this,st,new Map);const At=lt(this,st).get(ft);return At?At.bitmap?(At.refCounter+=1,At):At.file?this.getFromFile(At.file):this.getFromUrl(At.url):null}getSvgUrl(ft){const At=lt(this,st).get(ft);return At!=null&&At.isSvg?At.svgUrl:null}deleteId(ft){lt(this,st)||Kt(this,st,new Map);const At=lt(this,st).get(ft);At&&(At.refCounter-=1,At.refCounter===0&&(At.bitmap=null))}isValidId(ft){return ft.startsWith(`image_${lt(this,rt)}_`)}};rt=new WeakMap,nt=new WeakMap,st=new WeakMap,tt=new WeakSet,Lr=async function(ft,At){lt(this,st)||Kt(this,st,new Map);let Pt=lt(this,st).get(ft);if(Pt===null)return null;if(Pt!=null&&Pt.bitmap)return Pt.refCounter+=1,Pt;try{Pt||(Pt={bitmap:null,id:`image_${lt(this,rt)}_${rr(this,nt)._++}`,refCounter:0,isSvg:!1});let Dt;if(typeof At=="string"){Pt.url=At;const $t=await fetch(At);if(!$t.ok)throw new Error($t.statusText);Dt=await $t.blob()}else Dt=Pt.file=At;if(Dt.type==="image/svg+xml"){const $t=it._isSVGFittingCanvas,Jt=new FileReader,ln=new Image,yn=new Promise((xn,In)=>{ln.onload=()=>{Pt.bitmap=ln,Pt.isSvg=!0,xn()},Jt.onload=async()=>{const En=Pt.svgUrl=Jt.result;ln.src=await $t?`${En}#svgView(preserveAspectRatio(none))`:En},ln.onerror=Jt.onerror=In});Jt.readAsDataURL(Dt),await yn}else Pt.bitmap=await createImageBitmap(Dt);Pt.refCounter=1}catch(Dt){console.error(Dt),Pt=null}return lt(this,st).set(ft,Pt),Pt&&lt(this,st).set(Pt.id,Pt),Pt};let g=it;class b{constructor(ft=128){Lt(this,pt,[]);Lt(this,ot,!1);Lt(this,at,void 0);Lt(this,xt,-1);Kt(this,at,ft)}add({cmd:ft,undo:At,mustExec:Pt,type:Dt=NaN,overwriteIfSameType:$t=!1,keepUndo:Jt=!1}){if(Pt&&ft(),lt(this,ot))return;const ln={cmd:ft,undo:At,type:Dt};if(lt(this,xt)===-1){lt(this,pt).length>0&&(lt(this,pt).length=0),Kt(this,xt,0),lt(this,pt).push(ln);return}if($t&&lt(this,pt)[lt(this,xt)].type===Dt){Jt&&(ln.undo=lt(this,pt)[lt(this,xt)].undo),lt(this,pt)[lt(this,xt)]=ln;return}const yn=lt(this,xt)+1;yn===lt(this,at)?lt(this,pt).splice(0,1):(Kt(this,xt,yn),yn<lt(this,pt).length&&lt(this,pt).splice(yn)),lt(this,pt).push(ln)}undo(){lt(this,xt)!==-1&&(Kt(this,ot,!0),lt(this,pt)[lt(this,xt)].undo(),Kt(this,ot,!1),Kt(this,xt,lt(this,xt)-1))}redo(){lt(this,xt)<lt(this,pt).length-1&&(Kt(this,xt,lt(this,xt)+1),Kt(this,ot,!0),lt(this,pt)[lt(this,xt)].cmd(),Kt(this,ot,!1))}hasSomethingToUndo(){return lt(this,xt)!==-1}hasSomethingToRedo(){return lt(this,xt)<lt(this,pt).length-1}destroy(){Kt(this,pt,null)}}pt=new WeakMap,ot=new WeakMap,at=new WeakMap,xt=new WeakMap,i.CommandManager=b;class _{constructor(ft){Lt(this,gt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:At}=a.FeatureTest.platform;for(const[Pt,Dt,$t={}]of ft)for(const Jt of Pt){const ln=Jt.startsWith("mac+");At&&ln?(this.callbacks.set(Jt.slice(4),{callback:Dt,options:$t}),this.allKeys.add(Jt.split("+").at(-1))):!At&&!ln&&(this.callbacks.set(Jt,{callback:Dt,options:$t}),this.allKeys.add(Jt.split("+").at(-1)))}}exec(ft,At){if(!this.allKeys.has(At.key))return;const Pt=this.callbacks.get(Bt(this,gt,fs).call(this,At));if(!Pt)return;const{callback:Dt,options:{bubbles:$t=!1,args:Jt=[],checker:ln=null}}=Pt;ln&&!ln(ft,At)||(Dt.bind(ft,...Jt)(),$t||(At.stopPropagation(),At.preventDefault()))}}gt=new WeakSet,fs=function(ft){ft.altKey&&this.buffer.push("alt"),ft.ctrlKey&&this.buffer.push("ctrl"),ft.metaKey&&this.buffer.push("meta"),ft.shiftKey&&this.buffer.push("shift"),this.buffer.push(ft.key);const At=this.buffer.join("+");return this.buffer.length=0,At},i.KeyboardManager=_;const Et=class Et{get _colors(){const ft=new Map([["CanvasText",null],["Canvas",null]]);return(0,o.getColorValues)(ft),(0,a.shadow)(this,"_colors",ft)}convert(ft){const At=(0,o.getRGB)(ft);if(!window.matchMedia("(forced-colors: active)").matches)return At;for(const[Pt,Dt]of this._colors)if(Dt.every(($t,Jt)=>$t===At[Jt]))return Et._colorsMapping.get(Pt);return At}getHexCode(ft){const At=this._colors.get(ft);return At?a.Util.makeHexColor(...At):ft}};Un(Et,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let j=Et;i.ColorManager=j;const An=class An{constructor(ft,At,Pt,Dt,$t,Jt){Lt(this,sn);Lt(this,Yt);Lt(this,bn);Lt(this,jn);Lt(this,Pn);Lt(this,en);Lt(this,Ot);Lt(this,hn);Lt(this,zn);Lt(this,mn);Lt(this,gn);Lt(this,Tn);Lt(this,un);Lt(this,vt,null);Lt(this,_t,new Map);Lt(this,jt,new Map);Lt(this,kt,null);Lt(this,It,null);Lt(this,Vt,new b);Lt(this,Ht,0);Lt(this,St,new Set);Lt(this,Nt,null);Lt(this,bt,null);Lt(this,Qt,new Set);Lt(this,nn,null);Lt(this,dt,new h);Lt(this,ct,!1);Lt(this,mt,!1);Lt(this,ht,null);Lt(this,yt,a.AnnotationEditorType.NONE);Lt(this,wt,new Set);Lt(this,Ct,null);Lt(this,Rt,this.blur.bind(this));Lt(this,Mt,this.focus.bind(this));Lt(this,Wt,this.copy.bind(this));Lt(this,Xt,this.cut.bind(this));Lt(this,Zt,this.paste.bind(this));Lt(this,tn,this.keydown.bind(this));Lt(this,dn,this.onEditingAction.bind(this));Lt(this,rn,this.onPageChanging.bind(this));Lt(this,vn,this.onScaleChanging.bind(this));Lt(this,Rn,this.onRotationChanging.bind(this));Lt(this,pn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Lt(this,kn,[0,0]);Lt(this,an,null);Lt(this,Gt,null);Lt(this,qt,null);Kt(this,Gt,ft),Kt(this,qt,At),Kt(this,kt,Pt),this._eventBus=Dt,this._eventBus._on("editingaction",lt(this,dn)),this._eventBus._on("pagechanging",lt(this,rn)),this._eventBus._on("scalechanging",lt(this,vn)),this._eventBus._on("rotationchanging",lt(this,Rn)),Kt(this,It,$t.annotationStorage),Kt(this,nn,$t.filterFactory),Kt(this,Ct,Jt),this.viewParameters={realScale:o.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const ft=An.prototype,At=$t=>{const{activeElement:Jt}=document;return Jt&&lt($t,Gt).contains(Jt)&&$t.hasSomethingToControl()},Pt=this.TRANSLATE_SMALL,Dt=this.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new _([[["ctrl+a","mac+meta+a"],ft.selectAll],[["ctrl+z","mac+meta+z"],ft.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],ft.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],ft.delete],[["Escape","mac+Escape"],ft.unselectAll],[["ArrowLeft","mac+ArrowLeft"],ft.translateSelectedEditors,{args:[-Pt,0],checker:At}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],ft.translateSelectedEditors,{args:[-Dt,0],checker:At}],[["ArrowRight","mac+ArrowRight"],ft.translateSelectedEditors,{args:[Pt,0],checker:At}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],ft.translateSelectedEditors,{args:[Dt,0],checker:At}],[["ArrowUp","mac+ArrowUp"],ft.translateSelectedEditors,{args:[0,-Pt],checker:At}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],ft.translateSelectedEditors,{args:[0,-Dt],checker:At}],[["ArrowDown","mac+ArrowDown"],ft.translateSelectedEditors,{args:[0,Pt],checker:At}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],ft.translateSelectedEditors,{args:[0,Dt],checker:At}]]))}destroy(){Bt(this,jn,pr).call(this),Bt(this,Yt,Mr).call(this),this._eventBus._off("editingaction",lt(this,dn)),this._eventBus._off("pagechanging",lt(this,rn)),this._eventBus._off("scalechanging",lt(this,vn)),this._eventBus._off("rotationchanging",lt(this,Rn));for(const ft of lt(this,jt).values())ft.destroy();lt(this,jt).clear(),lt(this,_t).clear(),lt(this,Qt).clear(),Kt(this,vt,null),lt(this,wt).clear(),lt(this,Vt).destroy(),lt(this,kt).destroy()}get hcmFilter(){return(0,a.shadow)(this,"hcmFilter",lt(this,Ct)?lt(this,nn).addHCMFilter(lt(this,Ct).foreground,lt(this,Ct).background):"none")}get direction(){return(0,a.shadow)(this,"direction",getComputedStyle(lt(this,Gt)).direction)}editAltText(ft){var At;(At=lt(this,kt))==null||At.editAltText(this,ft)}onPageChanging({pageNumber:ft}){Kt(this,Ht,ft-1)}focusMainContainer(){lt(this,Gt).focus()}findParent(ft,At){for(const Pt of lt(this,jt).values()){const{x:Dt,y:$t,width:Jt,height:ln}=Pt.div.getBoundingClientRect();if(ft>=Dt&&ft<=Dt+Jt&&At>=$t&&At<=$t+ln)return Pt}return null}disableUserSelect(ft=!1){lt(this,qt).classList.toggle("noUserSelect",ft)}addShouldRescale(ft){lt(this,Qt).add(ft)}removeShouldRescale(ft){lt(this,Qt).delete(ft)}onScaleChanging({scale:ft}){this.commitOrRemove(),this.viewParameters.realScale=ft*o.PixelsPerInch.PDF_TO_CSS_UNITS;for(const At of lt(this,Qt))At.onScaleChanging()}onRotationChanging({pagesRotation:ft}){this.commitOrRemove(),this.viewParameters.rotation=ft}addToAnnotationStorage(ft){!ft.isEmpty()&&lt(this,It)&&!lt(this,It).has(ft.id)&&lt(this,It).setValue(ft.id,ft)}blur(){if(!this.hasSelection)return;const{activeElement:ft}=document;for(const At of lt(this,wt))if(At.div.contains(ft)){Kt(this,ht,[At,ft]),At._focusEventsAllowed=!1;break}}focus(){if(!lt(this,ht))return;const[ft,At]=lt(this,ht);Kt(this,ht,null),At.addEventListener("focusin",()=>{ft._focusEventsAllowed=!0},{once:!0}),At.focus()}addEditListeners(){Bt(this,bn,Ir).call(this),Bt(this,Pn,Nr).call(this)}removeEditListeners(){Bt(this,jn,pr).call(this),Bt(this,en,Dr).call(this)}copy(ft){var Pt;if(ft.preventDefault(),(Pt=lt(this,vt))==null||Pt.commitOrRemove(),!this.hasSelection)return;const At=[];for(const Dt of lt(this,wt)){const $t=Dt.serialize(!0);$t&&At.push($t)}At.length!==0&&ft.clipboardData.setData("application/pdfjs",JSON.stringify(At))}cut(ft){this.copy(ft),this.delete()}paste(ft){ft.preventDefault();const{clipboardData:At}=ft;for(const $t of At.items)for(const Jt of lt(this,bt))if(Jt.isHandlingMimeForPasting($t.type)){Jt.paste($t,this.currentLayer);return}let Pt=At.getData("application/pdfjs");if(!Pt)return;try{Pt=JSON.parse(Pt)}catch($t){(0,a.warn)(`paste: "${$t.message}".`);return}if(!Array.isArray(Pt))return;this.unselectAll();const Dt=this.currentLayer;try{const $t=[];for(const yn of Pt){const xn=Dt.deserialize(yn);if(!xn)return;$t.push(xn)}const Jt=()=>{for(const yn of $t)Bt(this,gn,Fr).call(this,yn);Bt(this,un,Or).call(this,$t)},ln=()=>{for(const yn of $t)yn.remove()};this.addCommands({cmd:Jt,undo:ln,mustExec:!0})}catch($t){(0,a.warn)(`paste: "${$t.message}".`)}}keydown(ft){var At;(At=this.getActive())!=null&&At.shouldGetKeyboardEvents()||An._keyboardManager.exec(this,ft)}onEditingAction(ft){["undo","redo","delete","selectAll"].includes(ft.name)&&this[ft.name]()}setEditingState(ft){ft?(Bt(this,sn,ms).call(this),Bt(this,bn,Ir).call(this),Bt(this,Pn,Nr).call(this),Bt(this,Ot,qn).call(this,{isEditing:lt(this,yt)!==a.AnnotationEditorType.NONE,isEmpty:Bt(this,Tn,sr).call(this),hasSomethingToUndo:lt(this,Vt).hasSomethingToUndo(),hasSomethingToRedo:lt(this,Vt).hasSomethingToRedo(),hasSelectedEditor:!1})):(Bt(this,Yt,Mr).call(this),Bt(this,jn,pr).call(this),Bt(this,en,Dr).call(this),Bt(this,Ot,qn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(ft){if(!lt(this,bt)){Kt(this,bt,ft);for(const At of lt(this,bt))Bt(this,hn,ir).call(this,At.defaultPropertiesToUpdate)}}getId(){return lt(this,dt).getId()}get currentLayer(){return lt(this,jt).get(lt(this,Ht))}getLayer(ft){return lt(this,jt).get(ft)}get currentPageIndex(){return lt(this,Ht)}addLayer(ft){lt(this,jt).set(ft.pageIndex,ft),lt(this,ct)?ft.enable():ft.disable()}removeLayer(ft){lt(this,jt).delete(ft.pageIndex)}updateMode(ft,At=null){if(lt(this,yt)!==ft){if(Kt(this,yt,ft),ft===a.AnnotationEditorType.NONE){this.setEditingState(!1),Bt(this,mn,xs).call(this);return}this.setEditingState(!0),Bt(this,zn,gs).call(this),this.unselectAll();for(const Pt of lt(this,jt).values())Pt.updateMode(ft);if(At){for(const Pt of lt(this,_t).values())if(Pt.annotationElementId===At){this.setSelected(Pt),Pt.enterInEditMode();break}}}}updateToolbar(ft){ft!==lt(this,yt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:ft})}updateParams(ft,At){if(lt(this,bt)){if(ft===a.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(ft);return}for(const Pt of lt(this,wt))Pt.updateParams(ft,At);for(const Pt of lt(this,bt))Pt.updateDefaultParams(ft,At)}}enableWaiting(ft=!1){if(lt(this,mt)!==ft){Kt(this,mt,ft);for(const At of lt(this,jt).values())ft?At.disableClick():At.enableClick(),At.div.classList.toggle("waiting",ft)}}getEditors(ft){const At=[];for(const Pt of lt(this,_t).values())Pt.pageIndex===ft&&At.push(Pt);return At}getEditor(ft){return lt(this,_t).get(ft)}addEditor(ft){lt(this,_t).set(ft.id,ft)}removeEditor(ft){var At;lt(this,_t).delete(ft.id),this.unselect(ft),(!ft.annotationElementId||!lt(this,St).has(ft.annotationElementId))&&((At=lt(this,It))==null||At.remove(ft.id))}addDeletedAnnotationElement(ft){lt(this,St).add(ft.annotationElementId),ft.deleted=!0}isDeletedAnnotationElement(ft){return lt(this,St).has(ft)}removeDeletedAnnotationElement(ft){lt(this,St).delete(ft.annotationElementId),ft.deleted=!1}setActiveEditor(ft){lt(this,vt)!==ft&&(Kt(this,vt,ft),ft&&Bt(this,hn,ir).call(this,ft.propertiesToUpdate))}toggleSelected(ft){if(lt(this,wt).has(ft)){lt(this,wt).delete(ft),ft.unselect(),Bt(this,Ot,qn).call(this,{hasSelectedEditor:this.hasSelection});return}lt(this,wt).add(ft),ft.select(),Bt(this,hn,ir).call(this,ft.propertiesToUpdate),Bt(this,Ot,qn).call(this,{hasSelectedEditor:!0})}setSelected(ft){for(const At of lt(this,wt))At!==ft&&At.unselect();lt(this,wt).clear(),lt(this,wt).add(ft),ft.select(),Bt(this,hn,ir).call(this,ft.propertiesToUpdate),Bt(this,Ot,qn).call(this,{hasSelectedEditor:!0})}isSelected(ft){return lt(this,wt).has(ft)}unselect(ft){ft.unselect(),lt(this,wt).delete(ft),Bt(this,Ot,qn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return lt(this,wt).size!==0}undo(){lt(this,Vt).undo(),Bt(this,Ot,qn).call(this,{hasSomethingToUndo:lt(this,Vt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Bt(this,Tn,sr).call(this)})}redo(){lt(this,Vt).redo(),Bt(this,Ot,qn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:lt(this,Vt).hasSomethingToRedo(),isEmpty:Bt(this,Tn,sr).call(this)})}addCommands(ft){lt(this,Vt).add(ft),Bt(this,Ot,qn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Bt(this,Tn,sr).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const ft=[...lt(this,wt)],At=()=>{for(const Dt of ft)Dt.remove()},Pt=()=>{for(const Dt of ft)Bt(this,gn,Fr).call(this,Dt)};this.addCommands({cmd:At,undo:Pt,mustExec:!0})}commitOrRemove(){var ft;(ft=lt(this,vt))==null||ft.commitOrRemove()}hasSomethingToControl(){return lt(this,vt)||this.hasSelection}selectAll(){for(const ft of lt(this,wt))ft.commit();Bt(this,un,Or).call(this,lt(this,_t).values())}unselectAll(){if(lt(this,vt)){lt(this,vt).commitOrRemove();return}if(this.hasSelection){for(const ft of lt(this,wt))ft.unselect();lt(this,wt).clear(),Bt(this,Ot,qn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(ft,At,Pt=!1){if(Pt||this.commitOrRemove(),!this.hasSelection)return;lt(this,kn)[0]+=ft,lt(this,kn)[1]+=At;const[Dt,$t]=lt(this,kn),Jt=[...lt(this,wt)],ln=1e3;lt(this,an)&&clearTimeout(lt(this,an)),Kt(this,an,setTimeout(()=>{Kt(this,an,null),lt(this,kn)[0]=lt(this,kn)[1]=0,this.addCommands({cmd:()=>{for(const yn of Jt)lt(this,_t).has(yn.id)&&yn.translateInPage(Dt,$t)},undo:()=>{for(const yn of Jt)lt(this,_t).has(yn.id)&&yn.translateInPage(-Dt,-$t)},mustExec:!1})},ln));for(const yn of Jt)yn.translateInPage(ft,At)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Kt(this,Nt,new Map);for(const ft of lt(this,wt))lt(this,Nt).set(ft,{savedX:ft.x,savedY:ft.y,savedPageIndex:ft.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!lt(this,Nt))return!1;this.disableUserSelect(!1);const ft=lt(this,Nt);Kt(this,Nt,null);let At=!1;for(const[{x:Dt,y:$t,pageIndex:Jt},ln]of ft)ln.newX=Dt,ln.newY=$t,ln.newPageIndex=Jt,At||(At=Dt!==ln.savedX||$t!==ln.savedY||Jt!==ln.savedPageIndex);if(!At)return!1;const Pt=(Dt,$t,Jt,ln)=>{if(lt(this,_t).has(Dt.id)){const yn=lt(this,jt).get(ln);yn?Dt._setParentAndPosition(yn,$t,Jt):(Dt.pageIndex=ln,Dt.x=$t,Dt.y=Jt)}};return this.addCommands({cmd:()=>{for(const[Dt,{newX:$t,newY:Jt,newPageIndex:ln}]of ft)Pt(Dt,$t,Jt,ln)},undo:()=>{for(const[Dt,{savedX:$t,savedY:Jt,savedPageIndex:ln}]of ft)Pt(Dt,$t,Jt,ln)},mustExec:!0}),!0}dragSelectedEditors(ft,At){if(lt(this,Nt))for(const Pt of lt(this,Nt).keys())Pt.drag(ft,At)}rebuild(ft){if(ft.parent===null){const At=this.getLayer(ft.pageIndex);At?(At.changeParent(ft),At.addOrRebuild(ft)):(this.addEditor(ft),this.addToAnnotationStorage(ft),ft.rebuild())}else ft.parent.addOrRebuild(ft)}isActive(ft){return lt(this,vt)===ft}getActive(){return lt(this,vt)}getMode(){return lt(this,yt)}get imageManager(){return(0,a.shadow)(this,"imageManager",new g)}};vt=new WeakMap,_t=new WeakMap,jt=new WeakMap,kt=new WeakMap,It=new WeakMap,Vt=new WeakMap,Ht=new WeakMap,St=new WeakMap,Nt=new WeakMap,bt=new WeakMap,Qt=new WeakMap,nn=new WeakMap,dt=new WeakMap,ct=new WeakMap,mt=new WeakMap,ht=new WeakMap,yt=new WeakMap,wt=new WeakMap,Ct=new WeakMap,Rt=new WeakMap,Mt=new WeakMap,Wt=new WeakMap,Xt=new WeakMap,Zt=new WeakMap,tn=new WeakMap,dn=new WeakMap,rn=new WeakMap,vn=new WeakMap,Rn=new WeakMap,pn=new WeakMap,kn=new WeakMap,an=new WeakMap,Gt=new WeakMap,qt=new WeakMap,sn=new WeakSet,ms=function(){window.addEventListener("focus",lt(this,Mt)),window.addEventListener("blur",lt(this,Rt))},Yt=new WeakSet,Mr=function(){window.removeEventListener("focus",lt(this,Mt)),window.removeEventListener("blur",lt(this,Rt))},bn=new WeakSet,Ir=function(){window.addEventListener("keydown",lt(this,tn),{capture:!0})},jn=new WeakSet,pr=function(){window.removeEventListener("keydown",lt(this,tn),{capture:!0})},Pn=new WeakSet,Nr=function(){document.addEventListener("copy",lt(this,Wt)),document.addEventListener("cut",lt(this,Xt)),document.addEventListener("paste",lt(this,Zt))},en=new WeakSet,Dr=function(){document.removeEventListener("copy",lt(this,Wt)),document.removeEventListener("cut",lt(this,Xt)),document.removeEventListener("paste",lt(this,Zt))},Ot=new WeakSet,qn=function(ft){Object.entries(ft).some(([Pt,Dt])=>lt(this,pn)[Pt]!==Dt)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(lt(this,pn),ft)})},hn=new WeakSet,ir=function(ft){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:ft})},zn=new WeakSet,gs=function(){if(!lt(this,ct)){Kt(this,ct,!0);for(const ft of lt(this,jt).values())ft.enable()}},mn=new WeakSet,xs=function(){if(this.unselectAll(),lt(this,ct)){Kt(this,ct,!1);for(const ft of lt(this,jt).values())ft.disable()}},gn=new WeakSet,Fr=function(ft){const At=lt(this,jt).get(ft.pageIndex);At?At.addOrRebuild(ft):this.addEditor(ft)},Tn=new WeakSet,sr=function(){if(lt(this,_t).size===0)return!0;if(lt(this,_t).size===1)for(const ft of lt(this,_t).values())return ft.isEmpty();return!1},un=new WeakSet,Or=function(ft){lt(this,wt).clear();for(const At of ft)At.isEmpty()||(lt(this,wt).add(At),At.select());Bt(this,Ot,qn).call(this,{hasSelectedEditor:!0})},Un(An,"TRANSLATE_SMALL",1),Un(An,"TRANSLATE_BIG",10);let $=An;i.AnnotationEditorUIManager=$},(e,i,s)=>{var Ht,St,Nt,bt,Qt,nn,dt,ct,mt,ht,yt,wt,Zn,Rt,er,Wt,Vr,Zt,fr,dn,mr,vn,ar,pn,or;Object.defineProperty(i,"__esModule",{value:!0}),i.StatTimer=i.RenderingCancelledException=i.PixelsPerInch=i.PageViewport=i.PDFDateString=i.DOMStandardFontDataFactory=i.DOMSVGFactory=i.DOMFilterFactory=i.DOMCanvasFactory=i.DOMCMapReaderFactory=void 0,i.deprecated=xt,i.getColorValues=_t,i.getCurrentTransform=jt,i.getCurrentTransformInverse=kt,i.getFilenameFromUrl=tt,i.getPdfFilenameFromUrl=et,i.getRGB=vt,i.getXfaPageViewport=Et,i.isDataScheme=nt,i.isPdfFile=st,i.isValidFetchUrl=pt,i.loadScript=at,i.noContextMenu=ot,i.setLayerDimensions=It;var a=s(7),o=s(1);const c="http://www.w3.org/2000/svg",Vt=class Vt{};Un(Vt,"CSS",96),Un(Vt,"PDF",72),Un(Vt,"PDF_TO_CSS_UNITS",Vt.CSS/Vt.PDF);let d=Vt;i.PixelsPerInch=d;class h extends a.BaseFilterFactory{constructor({docId:qt,ownerDocument:sn=globalThis.document}={}){super();Lt(this,wt);Lt(this,Rt);Lt(this,Wt);Lt(this,Zt);Lt(this,dn);Lt(this,vn);Lt(this,pn);Lt(this,Ht,void 0);Lt(this,St,void 0);Lt(this,Nt,void 0);Lt(this,bt,void 0);Lt(this,Qt,void 0);Lt(this,nn,void 0);Lt(this,dt,void 0);Lt(this,ct,void 0);Lt(this,mt,void 0);Lt(this,ht,void 0);Lt(this,yt,0);Kt(this,Nt,qt),Kt(this,bt,sn)}addFilter(qt){if(!qt)return"none";let sn=lt(this,wt,Zn).get(qt);if(sn)return sn;let Ft,Yt,fn,bn;if(qt.length===1){const Pn=qt[0],Nn=new Array(256);for(let en=0;en<256;en++)Nn[en]=Pn[en]/255;bn=Ft=Yt=fn=Nn.join(",")}else{const[Pn,Nn,en]=qt,zt=new Array(256),Ot=new Array(256),on=new Array(256);for(let hn=0;hn<256;hn++)zt[hn]=Pn[hn]/255,Ot[hn]=Nn[hn]/255,on[hn]=en[hn]/255;Ft=zt.join(","),Yt=Ot.join(","),fn=on.join(","),bn=`${Ft}${Yt}${fn}`}if(sn=lt(this,wt,Zn).get(bn),sn)return lt(this,wt,Zn).set(qt,sn),sn;const wn=`g_${lt(this,Nt)}_transfer_map_${rr(this,yt)._++}`,jn=`url(#${wn})`;lt(this,wt,Zn).set(qt,jn),lt(this,wt,Zn).set(bn,jn);const Mn=Bt(this,Zt,fr).call(this,wn);return Bt(this,vn,ar).call(this,Ft,Yt,fn,Mn),jn}addHCMFilter(qt,sn){var Nn;const Ft=`${qt}-${sn}`;if(lt(this,nn)===Ft)return lt(this,dt);if(Kt(this,nn,Ft),Kt(this,dt,"none"),(Nn=lt(this,Qt))==null||Nn.remove(),!qt||!sn)return lt(this,dt);const Yt=Bt(this,pn,or).call(this,qt);qt=o.Util.makeHexColor(...Yt);const fn=Bt(this,pn,or).call(this,sn);if(sn=o.Util.makeHexColor(...fn),lt(this,Rt,er).style.color="",qt==="#000000"&&sn==="#ffffff"||qt===sn)return lt(this,dt);const bn=new Array(256);for(let en=0;en<=255;en++){const zt=en/255;bn[en]=zt<=.03928?zt/12.92:((zt+.055)/1.055)**2.4}const wn=bn.join(","),jn=`g_${lt(this,Nt)}_hcm_filter`,Mn=Kt(this,ct,Bt(this,Zt,fr).call(this,jn));Bt(this,vn,ar).call(this,wn,wn,wn,Mn),Bt(this,Wt,Vr).call(this,Mn);const Pn=(en,zt)=>{const Ot=Yt[en]/255,on=fn[en]/255,hn=new Array(zt+1);for(let $n=0;$n<=zt;$n++)hn[$n]=Ot+$n/zt*(on-Ot);return hn.join(",")};return Bt(this,vn,ar).call(this,Pn(0,5),Pn(1,5),Pn(2,5),Mn),Kt(this,dt,`url(#${jn})`),lt(this,dt)}addHighlightHCMFilter(qt,sn,Ft,Yt){var on;const fn=`${qt}-${sn}-${Ft}-${Yt}`;if(lt(this,mt)===fn)return lt(this,ht);if(Kt(this,mt,fn),Kt(this,ht,"none"),(on=lt(this,ct))==null||on.remove(),!qt||!sn)return lt(this,ht);const[bn,wn]=[qt,sn].map(Bt(this,pn,or).bind(this));let jn=Math.round(.2126*bn[0]+.7152*bn[1]+.0722*bn[2]),Mn=Math.round(.2126*wn[0]+.7152*wn[1]+.0722*wn[2]),[Pn,Nn]=[Ft,Yt].map(Bt(this,pn,or).bind(this));Mn<jn&&([jn,Mn,Pn,Nn]=[Mn,jn,Nn,Pn]),lt(this,Rt,er).style.color="";const en=(hn,$n,zn)=>{const Ut=new Array(256),mn=(Mn-jn)/zn,Cn=hn/255,gn=($n-hn)/(255*zn);let _n=0;for(let Tn=0;Tn<=zn;Tn++){const Vn=Math.round(jn+Tn*mn),un=Cn+Tn*gn;for(let Fn=_n;Fn<=Vn;Fn++)Ut[Fn]=un;_n=Vn+1}for(let Tn=_n;Tn<256;Tn++)Ut[Tn]=Ut[_n-1];return Ut.join(",")},zt=`g_${lt(this,Nt)}_hcm_highlight_filter`,Ot=Kt(this,ct,Bt(this,Zt,fr).call(this,zt));return Bt(this,Wt,Vr).call(this,Ot),Bt(this,vn,ar).call(this,en(Pn[0],Nn[0],5),en(Pn[1],Nn[1],5),en(Pn[2],Nn[2],5),Ot),Kt(this,ht,`url(#${zt})`),lt(this,ht)}destroy(qt=!1){qt&&(lt(this,dt)||lt(this,ht))||(lt(this,St)&&(lt(this,St).parentNode.parentNode.remove(),Kt(this,St,null)),lt(this,Ht)&&(lt(this,Ht).clear(),Kt(this,Ht,null)),Kt(this,yt,0))}}Ht=new WeakMap,St=new WeakMap,Nt=new WeakMap,bt=new WeakMap,Qt=new WeakMap,nn=new WeakMap,dt=new WeakMap,ct=new WeakMap,mt=new WeakMap,ht=new WeakMap,yt=new WeakMap,wt=new WeakSet,Zn=function(){return lt(this,Ht)||Kt(this,Ht,new Map)},Rt=new WeakSet,er=function(){if(!lt(this,St)){const qt=lt(this,bt).createElement("div"),{style:sn}=qt;sn.visibility="hidden",sn.contain="strict",sn.width=sn.height=0,sn.position="absolute",sn.top=sn.left=0,sn.zIndex=-1;const Ft=lt(this,bt).createElementNS(c,"svg");Ft.setAttribute("width",0),Ft.setAttribute("height",0),Kt(this,St,lt(this,bt).createElementNS(c,"defs")),qt.append(Ft),Ft.append(lt(this,St)),lt(this,bt).body.append(qt)}return lt(this,St)},Wt=new WeakSet,Vr=function(qt){const sn=lt(this,bt).createElementNS(c,"feColorMatrix");sn.setAttribute("type","matrix"),sn.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),qt.append(sn)},Zt=new WeakSet,fr=function(qt){const sn=lt(this,bt).createElementNS(c,"filter");return sn.setAttribute("color-interpolation-filters","sRGB"),sn.setAttribute("id",qt),lt(this,Rt,er).append(sn),sn},dn=new WeakSet,mr=function(qt,sn,Ft){const Yt=lt(this,bt).createElementNS(c,sn);Yt.setAttribute("type","discrete"),Yt.setAttribute("tableValues",Ft),qt.append(Yt)},vn=new WeakSet,ar=function(qt,sn,Ft,Yt){const fn=lt(this,bt).createElementNS(c,"feComponentTransfer");Yt.append(fn),Bt(this,dn,mr).call(this,fn,"feFuncR",qt),Bt(this,dn,mr).call(this,fn,"feFuncG",sn),Bt(this,dn,mr).call(this,fn,"feFuncB",Ft)},pn=new WeakSet,or=function(qt){return lt(this,Rt,er).style.color=qt,vt(getComputedStyle(lt(this,Rt,er)).getPropertyValue("color"))},i.DOMFilterFactory=h;class g extends a.BaseCanvasFactory{constructor({ownerDocument:Gt=globalThis.document}={}){super(),this._document=Gt}_createCanvas(Gt,qt){const sn=this._document.createElement("canvas");return sn.width=Gt,sn.height=qt,sn}}i.DOMCanvasFactory=g;async function b(an,Gt=!1){if(pt(an,document.baseURI)){const qt=await fetch(an);if(!qt.ok)throw new Error(qt.statusText);return Gt?new Uint8Array(await qt.arrayBuffer()):(0,o.stringToBytes)(await qt.text())}return new Promise((qt,sn)=>{const Ft=new XMLHttpRequest;Ft.open("GET",an,!0),Gt&&(Ft.responseType="arraybuffer"),Ft.onreadystatechange=()=>{if(Ft.readyState===XMLHttpRequest.DONE){if(Ft.status===200||Ft.status===0){let Yt;if(Gt&&Ft.response?Yt=new Uint8Array(Ft.response):!Gt&&Ft.responseText&&(Yt=(0,o.stringToBytes)(Ft.responseText)),Yt){qt(Yt);return}}sn(new Error(Ft.statusText))}},Ft.send(null)})}class _ extends a.BaseCMapReaderFactory{_fetchData(Gt,qt){return b(Gt,this.isCompressed).then(sn=>({cMapData:sn,compressionType:qt}))}}i.DOMCMapReaderFactory=_;class j extends a.BaseStandardFontDataFactory{_fetchData(Gt){return b(Gt,!0)}}i.DOMStandardFontDataFactory=j;class $ extends a.BaseSVGFactory{_createSVG(Gt){return document.createElementNS(c,Gt)}}i.DOMSVGFactory=$;class _e{constructor({viewBox:Gt,scale:qt,rotation:sn,offsetX:Ft=0,offsetY:Yt=0,dontFlip:fn=!1}){this.viewBox=Gt,this.scale=qt,this.rotation=sn,this.offsetX=Ft,this.offsetY=Yt;const bn=(Gt[2]+Gt[0])/2,wn=(Gt[3]+Gt[1])/2;let jn,Mn,Pn,Nn;switch(sn%=360,sn<0&&(sn+=360),sn){case 180:jn=-1,Mn=0,Pn=0,Nn=1;break;case 90:jn=0,Mn=1,Pn=1,Nn=0;break;case 270:jn=0,Mn=-1,Pn=-1,Nn=0;break;case 0:jn=1,Mn=0,Pn=0,Nn=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}fn&&(Pn=-Pn,Nn=-Nn);let en,zt,Ot,on;jn===0?(en=Math.abs(wn-Gt[1])*qt+Ft,zt=Math.abs(bn-Gt[0])*qt+Yt,Ot=(Gt[3]-Gt[1])*qt,on=(Gt[2]-Gt[0])*qt):(en=Math.abs(bn-Gt[0])*qt+Ft,zt=Math.abs(wn-Gt[1])*qt+Yt,Ot=(Gt[2]-Gt[0])*qt,on=(Gt[3]-Gt[1])*qt),this.transform=[jn*qt,Mn*qt,Pn*qt,Nn*qt,en-jn*qt*bn-Pn*qt*wn,zt-Mn*qt*bn-Nn*qt*wn],this.width=Ot,this.height=on}get rawDims(){const{viewBox:Gt}=this;return(0,o.shadow)(this,"rawDims",{pageWidth:Gt[2]-Gt[0],pageHeight:Gt[3]-Gt[1],pageX:Gt[0],pageY:Gt[1]})}clone({scale:Gt=this.scale,rotation:qt=this.rotation,offsetX:sn=this.offsetX,offsetY:Ft=this.offsetY,dontFlip:Yt=!1}={}){return new _e({viewBox:this.viewBox.slice(),scale:Gt,rotation:qt,offsetX:sn,offsetY:Ft,dontFlip:Yt})}convertToViewportPoint(Gt,qt){return o.Util.applyTransform([Gt,qt],this.transform)}convertToViewportRectangle(Gt){const qt=o.Util.applyTransform([Gt[0],Gt[1]],this.transform),sn=o.Util.applyTransform([Gt[2],Gt[3]],this.transform);return[qt[0],qt[1],sn[0],sn[1]]}convertToPdfPoint(Gt,qt){return o.Util.applyInverseTransform([Gt,qt],this.transform)}}i.PageViewport=_e;class rt extends o.BaseException{constructor(Gt,qt=0){super(Gt,"RenderingCancelledException"),this.extraDelay=qt}}i.RenderingCancelledException=rt;function nt(an){const Gt=an.length;let qt=0;for(;qt<Gt&&an[qt].trim()==="";)qt++;return an.substring(qt,qt+5).toLowerCase()==="data:"}function st(an){return typeof an=="string"&&/\.pdf$/i.test(an)}function tt(an,Gt=!1){return Gt||([an]=an.split(/[#?]/,1)),an.substring(an.lastIndexOf("/")+1)}function et(an,Gt="document.pdf"){if(typeof an!="string")return Gt;if(nt(an))return(0,o.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Gt;const qt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,sn=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Ft=qt.exec(an);let Yt=sn.exec(Ft[1])||sn.exec(Ft[2])||sn.exec(Ft[3]);if(Yt&&(Yt=Yt[0],Yt.includes("%")))try{Yt=sn.exec(decodeURIComponent(Yt))[0]}catch{}return Yt||Gt}class it{constructor(){Un(this,"started",Object.create(null));Un(this,"times",[])}time(Gt){Gt in this.started&&(0,o.warn)(`Timer is already running for ${Gt}`),this.started[Gt]=Date.now()}timeEnd(Gt){Gt in this.started||(0,o.warn)(`Timer has not been started for ${Gt}`),this.times.push({name:Gt,start:this.started[Gt],end:Date.now()}),delete this.started[Gt]}toString(){const Gt=[];let qt=0;for(const{name:sn}of this.times)qt=Math.max(sn.length,qt);for(const{name:sn,start:Ft,end:Yt}of this.times)Gt.push(`${sn.padEnd(qt)} ${Yt-Ft}ms
`);return Gt.join("")}}i.StatTimer=it;function pt(an,Gt){try{const{protocol:qt}=Gt?new URL(an,Gt):new URL(an);return qt==="http:"||qt==="https:"}catch{return!1}}function ot(an){an.preventDefault()}function at(an,Gt=!1){return new Promise((qt,sn)=>{const Ft=document.createElement("script");Ft.src=an,Ft.onload=function(Yt){Gt&&Ft.remove(),qt(Yt)},Ft.onerror=function(){sn(new Error(`Cannot load script at: ${Ft.src}`))},(document.head||document.documentElement).append(Ft)})}function xt(an){console.log("Deprecated API usage: "+an)}let gt;class ut{static toDateObject(Gt){if(!Gt||typeof Gt!="string")return null;gt||(gt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const qt=gt.exec(Gt);if(!qt)return null;const sn=parseInt(qt[1],10);let Ft=parseInt(qt[2],10);Ft=Ft>=1&&Ft<=12?Ft-1:0;let Yt=parseInt(qt[3],10);Yt=Yt>=1&&Yt<=31?Yt:1;let fn=parseInt(qt[4],10);fn=fn>=0&&fn<=23?fn:0;let bn=parseInt(qt[5],10);bn=bn>=0&&bn<=59?bn:0;let wn=parseInt(qt[6],10);wn=wn>=0&&wn<=59?wn:0;const jn=qt[7]||"Z";let Mn=parseInt(qt[8],10);Mn=Mn>=0&&Mn<=23?Mn:0;let Pn=parseInt(qt[9],10)||0;return Pn=Pn>=0&&Pn<=59?Pn:0,jn==="-"?(fn+=Mn,bn+=Pn):jn==="+"&&(fn-=Mn,bn-=Pn),new Date(Date.UTC(sn,Ft,Yt,fn,bn,wn))}}i.PDFDateString=ut;function Et(an,{scale:Gt=1,rotation:qt=0}){const{width:sn,height:Ft}=an.attributes.style,Yt=[0,0,parseInt(sn),parseInt(Ft)];return new _e({viewBox:Yt,scale:Gt,rotation:qt})}function vt(an){if(an.startsWith("#")){const Gt=parseInt(an.slice(1),16);return[(Gt&16711680)>>16,(Gt&65280)>>8,Gt&255]}return an.startsWith("rgb(")?an.slice(4,-1).split(",").map(Gt=>parseInt(Gt)):an.startsWith("rgba(")?an.slice(5,-1).split(",").map(Gt=>parseInt(Gt)).slice(0,3):((0,o.warn)(`Not a valid color format: "${an}"`),[0,0,0])}function _t(an){const Gt=document.createElement("span");Gt.style.visibility="hidden",document.body.append(Gt);for(const qt of an.keys()){Gt.style.color=qt;const sn=window.getComputedStyle(Gt).color;an.set(qt,vt(sn))}Gt.remove()}function jt(an){const{a:Gt,b:qt,c:sn,d:Ft,e:Yt,f:fn}=an.getTransform();return[Gt,qt,sn,Ft,Yt,fn]}function kt(an){const{a:Gt,b:qt,c:sn,d:Ft,e:Yt,f:fn}=an.getTransform().invertSelf();return[Gt,qt,sn,Ft,Yt,fn]}function It(an,Gt,qt=!1,sn=!0){if(Gt instanceof _e){const{pageWidth:Ft,pageHeight:Yt}=Gt.rawDims,{style:fn}=an,bn=o.FeatureTest.isCSSRoundSupported,wn=`var(--scale-factor) * ${Ft}px`,jn=`var(--scale-factor) * ${Yt}px`,Mn=bn?`round(${wn}, 1px)`:`calc(${wn})`,Pn=bn?`round(${jn}, 1px)`:`calc(${jn})`;!qt||Gt.rotation%180===0?(fn.width=Mn,fn.height=Pn):(fn.width=Pn,fn.height=Mn)}sn&&an.setAttribute("data-main-rotation",Gt.rotation)}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BaseStandardFontDataFactory=i.BaseSVGFactory=i.BaseFilterFactory=i.BaseCanvasFactory=i.BaseCMapReaderFactory=void 0;var a=s(1);class o{constructor(){this.constructor===o&&(0,a.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(_){return"none"}addHCMFilter(_,j){return"none"}addHighlightHCMFilter(_,j,$,_e){return"none"}destroy(_=!1){}}i.BaseFilterFactory=o;class c{constructor(){this.constructor===c&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}create(_,j){if(_<=0||j<=0)throw new Error("Invalid canvas size");const $=this._createCanvas(_,j);return{canvas:$,context:$.getContext("2d")}}reset(_,j,$){if(!_.canvas)throw new Error("Canvas is not specified");if(j<=0||$<=0)throw new Error("Invalid canvas size");_.canvas.width=j,_.canvas.height=$}destroy(_){if(!_.canvas)throw new Error("Canvas is not specified");_.canvas.width=0,_.canvas.height=0,_.canvas=null,_.context=null}_createCanvas(_,j){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}i.BaseCanvasFactory=c;class d{constructor({baseUrl:_=null,isCompressed:j=!0}){this.constructor===d&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=_,this.isCompressed=j}async fetch({name:_}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!_)throw new Error("CMap name must be specified.");const j=this.baseUrl+_+(this.isCompressed?".bcmap":""),$=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE;return this._fetchData(j,$).catch(_e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${j}`)})}_fetchData(_,j){(0,a.unreachable)("Abstract method `_fetchData` called.")}}i.BaseCMapReaderFactory=d;class h{constructor({baseUrl:_=null}){this.constructor===h&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=_}async fetch({filename:_}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!_)throw new Error("Font filename must be specified.");const j=`${this.baseUrl}${_}`;return this._fetchData(j).catch($=>{throw new Error(`Unable to load font data at: ${j}`)})}_fetchData(_){(0,a.unreachable)("Abstract method `_fetchData` called.")}}i.BaseStandardFontDataFactory=h;class g{constructor(){this.constructor===g&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}create(_,j,$=!1){if(_<=0||j<=0)throw new Error("Invalid SVG dimensions");const _e=this._createSVG("svg:svg");return _e.setAttribute("version","1.1"),$||(_e.setAttribute("width",`${_}px`),_e.setAttribute("height",`${j}px`)),_e.setAttribute("preserveAspectRatio","none"),_e.setAttribute("viewBox",`0 0 ${_} ${j}`),_e}createElement(_){if(typeof _!="string")throw new Error("Invalid SVG element type");return this._createSVG(_)}_createSVG(_){(0,a.unreachable)("Abstract method `_createSVG` called.")}}i.BaseSVGFactory=g},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MurmurHash3_64=void 0;var a=s(1);const o=3285377520,c=4294901760,d=65535;class h{constructor(b){this.h1=b?b&4294967295:o,this.h2=b?b&4294967295:o}update(b){let _,j;if(typeof b=="string"){_=new Uint8Array(b.length*2),j=0;for(let xt=0,gt=b.length;xt<gt;xt++){const ut=b.charCodeAt(xt);ut<=255?_[j++]=ut:(_[j++]=ut>>>8,_[j++]=ut&255)}}else if((0,a.isArrayBuffer)(b))_=b.slice(),j=_.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const $=j>>2,_e=j-$*4,rt=new Uint32Array(_.buffer,0,$);let nt=0,st=0,tt=this.h1,et=this.h2;const it=3432918353,pt=461845907,ot=it&d,at=pt&d;for(let xt=0;xt<$;xt++)xt&1?(nt=rt[xt],nt=nt*it&c|nt*ot&d,nt=nt<<15|nt>>>17,nt=nt*pt&c|nt*at&d,tt^=nt,tt=tt<<13|tt>>>19,tt=tt*5+3864292196):(st=rt[xt],st=st*it&c|st*ot&d,st=st<<15|st>>>17,st=st*pt&c|st*at&d,et^=st,et=et<<13|et>>>19,et=et*5+3864292196);switch(nt=0,_e){case 3:nt^=_[$*4+2]<<16;case 2:nt^=_[$*4+1]<<8;case 1:nt^=_[$*4],nt=nt*it&c|nt*ot&d,nt=nt<<15|nt>>>17,nt=nt*pt&c|nt*at&d,$&1?tt^=nt:et^=nt}this.h1=tt,this.h2=et}hexdigest(){let b=this.h1,_=this.h2;return b^=_>>>1,b=b*3981806797&c|b*36045&d,_=_*4283543511&c|((_<<16|b>>>16)*2950163797&c)>>>16,b^=_>>>1,b=b*444984403&c|b*60499&d,_=_*3301882366&c|((_<<16|b>>>16)*3120437893&c)>>>16,b^=_>>>1,(b>>>0).toString(16).padStart(8,"0")+(_>>>0).toString(16).padStart(8,"0")}}i.MurmurHash3_64=h},(e,i,s)=>{var d;Object.defineProperty(i,"__esModule",{value:!0}),i.FontLoader=i.FontFaceObject=void 0;var a=s(1);class o{constructor({ownerDocument:g=globalThis.document,styleElement:b=null}){Lt(this,d,new Set);this._document=g,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(g){this.nativeFontFaces.add(g),this._document.fonts.add(g)}removeNativeFontFace(g){this.nativeFontFaces.delete(g),this._document.fonts.delete(g)}insertRule(g){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const b=this.styleElement.sheet;b.insertRule(g,b.cssRules.length)}clear(){for(const g of this.nativeFontFaces)this._document.fonts.delete(g);this.nativeFontFaces.clear(),lt(this,d).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(g){if(!(!g||lt(this,d).has(g.loadedName))){if((0,a.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:b,src:_,style:j}=g,$=new FontFace(b,_,j);this.addNativeFontFace($);try{await $.load(),lt(this,d).add(b)}catch{(0,a.warn)(`Cannot load system font: ${g.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace($)}return}(0,a.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(g){if(g.attached||g.missingFile&&!g.systemFontInfo)return;if(g.attached=!0,g.systemFontInfo){await this.loadSystemFont(g.systemFontInfo);return}if(this.isFontLoadingAPISupported){const _=g.createNativeFontFace();if(_){this.addNativeFontFace(_);try{await _.loaded}catch(j){throw(0,a.warn)(`Failed to load font '${_.family}': '${j}'.`),g.disableFontFace=!0,j}}return}const b=g.createFontFaceRule();if(b){if(this.insertRule(b),this.isSyncFontLoadingSupported)return;await new Promise(_=>{const j=this._queueLoadingCallback(_);this._prepareFontLoadEvent(g,j)})}}get isFontLoadingAPISupported(){var b;const g=!!((b=this._document)!=null&&b.fonts);return(0,a.shadow)(this,"isFontLoadingAPISupported",g)}get isSyncFontLoadingSupported(){let g=!1;return(a.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(g=!0),(0,a.shadow)(this,"isSyncFontLoadingSupported",g)}_queueLoadingCallback(g){function b(){for((0,a.assert)(!j.done,"completeRequest() cannot be called twice."),j.done=!0;_.length>0&&_[0].done;){const $=_.shift();setTimeout($.callback,0)}}const{loadingRequests:_}=this,j={done:!1,complete:b,callback:g};return _.push(j),j}get _loadTestFont(){const g=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,a.shadow)(this,"_loadTestFont",g)}_prepareFontLoadEvent(g,b){function _(vt,_t){return vt.charCodeAt(_t)<<24|vt.charCodeAt(_t+1)<<16|vt.charCodeAt(_t+2)<<8|vt.charCodeAt(_t+3)&255}function j(vt,_t,jt,kt){const It=vt.substring(0,_t),Vt=vt.substring(_t+jt);return It+kt+Vt}let $,_e;const rt=this._document.createElement("canvas");rt.width=1,rt.height=1;const nt=rt.getContext("2d");let st=0;function tt(vt,_t){if(++st>30){(0,a.warn)("Load test font never loaded."),_t();return}if(nt.font="30px "+vt,nt.fillText(".",0,20),nt.getImageData(0,0,1,1).data[3]>0){_t();return}setTimeout(tt.bind(null,vt,_t))}const et=`lt${Date.now()}${this.loadTestFontId++}`;let it=this._loadTestFont;it=j(it,976,et.length,et);const ot=16,at=1482184792;let xt=_(it,ot);for($=0,_e=et.length-3;$<_e;$+=4)xt=xt-at+_(et,$)|0;$<et.length&&(xt=xt-at+_(et+"XXX",$)|0),it=j(it,ot,4,(0,a.string32)(xt));const gt=`url(data:font/opentype;base64,${btoa(it)});`,ut=`@font-face {font-family:"${et}";src:${gt}}`;this.insertRule(ut);const Et=this._document.createElement("div");Et.style.visibility="hidden",Et.style.width=Et.style.height="10px",Et.style.position="absolute",Et.style.top=Et.style.left="0px";for(const vt of[g.loadedName,et]){const _t=this._document.createElement("span");_t.textContent="Hi",_t.style.fontFamily=vt,Et.append(_t)}this._document.body.append(Et),tt(et,()=>{Et.remove(),b.complete()})}}d=new WeakMap,i.FontLoader=o;class c{constructor(g,{isEvalSupported:b=!0,disableFontFace:_=!1,ignoreErrors:j=!1,inspectFont:$=null}){this.compiledGlyphs=Object.create(null);for(const _e in g)this[_e]=g[_e];this.isEvalSupported=b!==!1,this.disableFontFace=_===!0,this.ignoreErrors=j===!0,this._inspectFont=$}createNativeFontFace(){var b;if(!this.data||this.disableFontFace)return null;let g;if(!this.cssFontInfo)g=new FontFace(this.loadedName,this.data,{});else{const _={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(_.style=`oblique ${this.cssFontInfo.italicAngle}deg`),g=new FontFace(this.cssFontInfo.fontFamily,this.data,_)}return(b=this._inspectFont)==null||b.call(this,this),g}createFontFaceRule(){var j;if(!this.data||this.disableFontFace)return null;const g=(0,a.bytesToString)(this.data),b=`url(data:${this.mimetype};base64,${btoa(g)});`;let _;if(!this.cssFontInfo)_=`@font-face {font-family:"${this.loadedName}";src:${b}}`;else{let $=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&($+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),_=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${$}src:${b}}`}return(j=this._inspectFont)==null||j.call(this,this,b),_}getPathGenerator(g,b){if(this.compiledGlyphs[b]!==void 0)return this.compiledGlyphs[b];let _;try{_=g.get(this.loadedName+"_path_"+b)}catch(j){if(!this.ignoreErrors)throw j;return(0,a.warn)(`getPathGenerator - ignoring character: "${j}".`),this.compiledGlyphs[b]=function($,_e){}}if(this.isEvalSupported&&a.FeatureTest.isEvalSupported){const j=[];for(const $ of _){const _e=$.args!==void 0?$.args.join(","):"";j.push("c.",$.cmd,"(",_e,`);
`)}return this.compiledGlyphs[b]=new Function("c","size",j.join(""))}return this.compiledGlyphs[b]=function(j,$){for(const _e of _)_e.cmd==="scale"&&(_e.args=[$,-$]),j[_e.cmd].apply(j,_e.args)}}}i.FontFaceObject=c},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NodeStandardFontDataFactory=i.NodeFilterFactory=i.NodeCanvasFactory=i.NodeCMapReaderFactory=void 0;var a=s(7);s(1);const o=function(b){return new Promise((_,j)=>{require$$5.readFile(b,(_e,rt)=>{if(_e||!rt){j(new Error(_e));return}_(new Uint8Array(rt))})})};class c extends a.BaseFilterFactory{}i.NodeFilterFactory=c;class d extends a.BaseCanvasFactory{_createCanvas(_,j){return require$$5.createCanvas(_,j)}}i.NodeCanvasFactory=d;class h extends a.BaseCMapReaderFactory{_fetchData(_,j){return o(_).then($=>({cMapData:$,compressionType:j}))}}i.NodeCMapReaderFactory=h;class g extends a.BaseStandardFontDataFactory{_fetchData(_){return o(_)}}i.NodeStandardFontDataFactory=g},(e,i,s)=>{var St,Br,bt,zr;Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasGraphics=void 0;var a=s(1),o=s(6),c=s(12),d=s(13);const h=16,g=100,b=4096,_=15,j=10,$=1e3,_e=16;function rt(dt,ct){if(dt._removeMirroring)throw new Error("Context is already forwarding operations.");dt.__originalSave=dt.save,dt.__originalRestore=dt.restore,dt.__originalRotate=dt.rotate,dt.__originalScale=dt.scale,dt.__originalTranslate=dt.translate,dt.__originalTransform=dt.transform,dt.__originalSetTransform=dt.setTransform,dt.__originalResetTransform=dt.resetTransform,dt.__originalClip=dt.clip,dt.__originalMoveTo=dt.moveTo,dt.__originalLineTo=dt.lineTo,dt.__originalBezierCurveTo=dt.bezierCurveTo,dt.__originalRect=dt.rect,dt.__originalClosePath=dt.closePath,dt.__originalBeginPath=dt.beginPath,dt._removeMirroring=()=>{dt.save=dt.__originalSave,dt.restore=dt.__originalRestore,dt.rotate=dt.__originalRotate,dt.scale=dt.__originalScale,dt.translate=dt.__originalTranslate,dt.transform=dt.__originalTransform,dt.setTransform=dt.__originalSetTransform,dt.resetTransform=dt.__originalResetTransform,dt.clip=dt.__originalClip,dt.moveTo=dt.__originalMoveTo,dt.lineTo=dt.__originalLineTo,dt.bezierCurveTo=dt.__originalBezierCurveTo,dt.rect=dt.__originalRect,dt.closePath=dt.__originalClosePath,dt.beginPath=dt.__originalBeginPath,delete dt._removeMirroring},dt.save=function(){ct.save(),this.__originalSave()},dt.restore=function(){ct.restore(),this.__originalRestore()},dt.translate=function(ht,yt){ct.translate(ht,yt),this.__originalTranslate(ht,yt)},dt.scale=function(ht,yt){ct.scale(ht,yt),this.__originalScale(ht,yt)},dt.transform=function(ht,yt,wt,Ct,Rt,Mt){ct.transform(ht,yt,wt,Ct,Rt,Mt),this.__originalTransform(ht,yt,wt,Ct,Rt,Mt)},dt.setTransform=function(ht,yt,wt,Ct,Rt,Mt){ct.setTransform(ht,yt,wt,Ct,Rt,Mt),this.__originalSetTransform(ht,yt,wt,Ct,Rt,Mt)},dt.resetTransform=function(){ct.resetTransform(),this.__originalResetTransform()},dt.rotate=function(ht){ct.rotate(ht),this.__originalRotate(ht)},dt.clip=function(ht){ct.clip(ht),this.__originalClip(ht)},dt.moveTo=function(mt,ht){ct.moveTo(mt,ht),this.__originalMoveTo(mt,ht)},dt.lineTo=function(mt,ht){ct.lineTo(mt,ht),this.__originalLineTo(mt,ht)},dt.bezierCurveTo=function(mt,ht,yt,wt,Ct,Rt){ct.bezierCurveTo(mt,ht,yt,wt,Ct,Rt),this.__originalBezierCurveTo(mt,ht,yt,wt,Ct,Rt)},dt.rect=function(mt,ht,yt,wt){ct.rect(mt,ht,yt,wt),this.__originalRect(mt,ht,yt,wt)},dt.closePath=function(){ct.closePath(),this.__originalClosePath()},dt.beginPath=function(){ct.beginPath(),this.__originalBeginPath()}}class nt{constructor(ct){this.canvasFactory=ct,this.cache=Object.create(null)}getCanvas(ct,mt,ht){let yt;return this.cache[ct]!==void 0?(yt=this.cache[ct],this.canvasFactory.reset(yt,mt,ht)):(yt=this.canvasFactory.create(mt,ht),this.cache[ct]=yt),yt}delete(ct){delete this.cache[ct]}clear(){for(const ct in this.cache){const mt=this.cache[ct];this.canvasFactory.destroy(mt),delete this.cache[ct]}}}function st(dt,ct,mt,ht,yt,wt,Ct,Rt,Mt,Wt){const[Xt,Zt,tn,dn,rn,vn]=(0,o.getCurrentTransform)(dt);if(Zt===0&&tn===0){const kn=Ct*Xt+rn,an=Math.round(kn),Gt=Rt*dn+vn,qt=Math.round(Gt),sn=(Ct+Mt)*Xt+rn,Ft=Math.abs(Math.round(sn)-an)||1,Yt=(Rt+Wt)*dn+vn,fn=Math.abs(Math.round(Yt)-qt)||1;return dt.setTransform(Math.sign(Xt),0,0,Math.sign(dn),an,qt),dt.drawImage(ct,mt,ht,yt,wt,0,0,Ft,fn),dt.setTransform(Xt,Zt,tn,dn,rn,vn),[Ft,fn]}if(Xt===0&&dn===0){const kn=Rt*tn+rn,an=Math.round(kn),Gt=Ct*Zt+vn,qt=Math.round(Gt),sn=(Rt+Wt)*tn+rn,Ft=Math.abs(Math.round(sn)-an)||1,Yt=(Ct+Mt)*Zt+vn,fn=Math.abs(Math.round(Yt)-qt)||1;return dt.setTransform(0,Math.sign(Zt),Math.sign(tn),0,an,qt),dt.drawImage(ct,mt,ht,yt,wt,0,0,fn,Ft),dt.setTransform(Xt,Zt,tn,dn,rn,vn),[fn,Ft]}dt.drawImage(ct,mt,ht,yt,wt,Ct,Rt,Mt,Wt);const Rn=Math.hypot(Xt,Zt),pn=Math.hypot(tn,dn);return[Rn*Mt,pn*Wt]}function tt(dt){const{width:ct,height:mt}=dt;if(ct>$||mt>$)return null;const ht=1e3,yt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),wt=ct+1;let Ct=new Uint8Array(wt*(mt+1)),Rt,Mt,Wt;const Xt=ct+7&-8;let Zt=new Uint8Array(Xt*mt),tn=0;for(const pn of dt.data){let kn=128;for(;kn>0;)Zt[tn++]=pn&kn?0:255,kn>>=1}let dn=0;for(tn=0,Zt[tn]!==0&&(Ct[0]=1,++dn),Mt=1;Mt<ct;Mt++)Zt[tn]!==Zt[tn+1]&&(Ct[Mt]=Zt[tn]?2:1,++dn),tn++;for(Zt[tn]!==0&&(Ct[Mt]=2,++dn),Rt=1;Rt<mt;Rt++){tn=Rt*Xt,Wt=Rt*wt,Zt[tn-Xt]!==Zt[tn]&&(Ct[Wt]=Zt[tn]?1:8,++dn);let pn=(Zt[tn]?4:0)+(Zt[tn-Xt]?8:0);for(Mt=1;Mt<ct;Mt++)pn=(pn>>2)+(Zt[tn+1]?4:0)+(Zt[tn-Xt+1]?8:0),yt[pn]&&(Ct[Wt+Mt]=yt[pn],++dn),tn++;if(Zt[tn-Xt]!==Zt[tn]&&(Ct[Wt+Mt]=Zt[tn]?2:4,++dn),dn>ht)return null}for(tn=Xt*(mt-1),Wt=Rt*wt,Zt[tn]!==0&&(Ct[Wt]=8,++dn),Mt=1;Mt<ct;Mt++)Zt[tn]!==Zt[tn+1]&&(Ct[Wt+Mt]=Zt[tn]?4:8,++dn),tn++;if(Zt[tn]!==0&&(Ct[Wt+Mt]=4,++dn),dn>ht)return null;const rn=new Int32Array([0,wt,-1,0,-wt,0,0,0,1]),vn=new Path2D;for(Rt=0;dn&&Rt<=mt;Rt++){let pn=Rt*wt;const kn=pn+ct;for(;pn<kn&&!Ct[pn];)pn++;if(pn===kn)continue;vn.moveTo(pn%wt,Rt);const an=pn;let Gt=Ct[pn];do{const qt=rn[Gt];do pn+=qt;while(!Ct[pn]);const sn=Ct[pn];sn!==5&&sn!==10?(Gt=sn,Ct[pn]=0):(Gt=sn&51*Gt>>4,Ct[pn]&=Gt>>2|Gt<<2),vn.lineTo(pn%wt,pn/wt|0),Ct[pn]||--dn}while(an!==pn);--Rt}return Zt=null,Ct=null,function(pn){pn.save(),pn.scale(1/ct,-1/mt),pn.translate(0,-mt),pn.fill(vn),pn.beginPath(),pn.restore()}}class et{constructor(ct,mt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=a.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=a.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,ct,mt])}clone(){const ct=Object.create(this);return ct.clipBox=this.clipBox.slice(),ct}setCurrentPoint(ct,mt){this.x=ct,this.y=mt}updatePathMinMax(ct,mt,ht){[mt,ht]=a.Util.applyTransform([mt,ht],ct),this.minX=Math.min(this.minX,mt),this.minY=Math.min(this.minY,ht),this.maxX=Math.max(this.maxX,mt),this.maxY=Math.max(this.maxY,ht)}updateRectMinMax(ct,mt){const ht=a.Util.applyTransform(mt,ct),yt=a.Util.applyTransform(mt.slice(2),ct);this.minX=Math.min(this.minX,ht[0],yt[0]),this.minY=Math.min(this.minY,ht[1],yt[1]),this.maxX=Math.max(this.maxX,ht[0],yt[0]),this.maxY=Math.max(this.maxY,ht[1],yt[1])}updateScalingPathMinMax(ct,mt){a.Util.scaleMinMax(ct,mt),this.minX=Math.min(this.minX,mt[0]),this.maxX=Math.max(this.maxX,mt[1]),this.minY=Math.min(this.minY,mt[2]),this.maxY=Math.max(this.maxY,mt[3])}updateCurvePathMinMax(ct,mt,ht,yt,wt,Ct,Rt,Mt,Wt,Xt){const Zt=a.Util.bezierBoundingBox(mt,ht,yt,wt,Ct,Rt,Mt,Wt);if(Xt){Xt[0]=Math.min(Xt[0],Zt[0],Zt[2]),Xt[1]=Math.max(Xt[1],Zt[0],Zt[2]),Xt[2]=Math.min(Xt[2],Zt[1],Zt[3]),Xt[3]=Math.max(Xt[3],Zt[1],Zt[3]);return}this.updateRectMinMax(ct,Zt)}getPathBoundingBox(ct=c.PathType.FILL,mt=null){const ht=[this.minX,this.minY,this.maxX,this.maxY];if(ct===c.PathType.STROKE){mt||(0,a.unreachable)("Stroke bounding box must include transform.");const yt=a.Util.singularValueDecompose2dScale(mt),wt=yt[0]*this.lineWidth/2,Ct=yt[1]*this.lineWidth/2;ht[0]-=wt,ht[1]-=Ct,ht[2]+=wt,ht[3]+=Ct}return ht}updateClipFromPath(){const ct=a.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(ct||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(ct){this.clipBox=ct,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(ct=c.PathType.FILL,mt=null){return a.Util.intersect(this.clipBox,this.getPathBoundingBox(ct,mt))}}function it(dt,ct){if(typeof ImageData<"u"&&ct instanceof ImageData){dt.putImageData(ct,0,0);return}const mt=ct.height,ht=ct.width,yt=mt%_e,wt=(mt-yt)/_e,Ct=yt===0?wt:wt+1,Rt=dt.createImageData(ht,_e);let Mt=0,Wt;const Xt=ct.data,Zt=Rt.data;let tn,dn,rn,vn;if(ct.kind===a.ImageKind.GRAYSCALE_1BPP){const Rn=Xt.byteLength,pn=new Uint32Array(Zt.buffer,0,Zt.byteLength>>2),kn=pn.length,an=ht+7>>3,Gt=4294967295,qt=a.FeatureTest.isLittleEndian?4278190080:255;for(tn=0;tn<Ct;tn++){for(rn=tn<wt?_e:yt,Wt=0,dn=0;dn<rn;dn++){const sn=Rn-Mt;let Ft=0;const Yt=sn>an?ht:sn*8-7,fn=Yt&-8;let bn=0,wn=0;for(;Ft<fn;Ft+=8)wn=Xt[Mt++],pn[Wt++]=wn&128?Gt:qt,pn[Wt++]=wn&64?Gt:qt,pn[Wt++]=wn&32?Gt:qt,pn[Wt++]=wn&16?Gt:qt,pn[Wt++]=wn&8?Gt:qt,pn[Wt++]=wn&4?Gt:qt,pn[Wt++]=wn&2?Gt:qt,pn[Wt++]=wn&1?Gt:qt;for(;Ft<Yt;Ft++)bn===0&&(wn=Xt[Mt++],bn=128),pn[Wt++]=wn&bn?Gt:qt,bn>>=1}for(;Wt<kn;)pn[Wt++]=0;dt.putImageData(Rt,0,tn*_e)}}else if(ct.kind===a.ImageKind.RGBA_32BPP){for(dn=0,vn=ht*_e*4,tn=0;tn<wt;tn++)Zt.set(Xt.subarray(Mt,Mt+vn)),Mt+=vn,dt.putImageData(Rt,0,dn),dn+=_e;tn<Ct&&(vn=ht*yt*4,Zt.set(Xt.subarray(Mt,Mt+vn)),dt.putImageData(Rt,0,dn))}else if(ct.kind===a.ImageKind.RGB_24BPP)for(rn=_e,vn=ht*rn,tn=0;tn<Ct;tn++){for(tn>=wt&&(rn=yt,vn=ht*rn),Wt=0,dn=vn;dn--;)Zt[Wt++]=Xt[Mt++],Zt[Wt++]=Xt[Mt++],Zt[Wt++]=Xt[Mt++],Zt[Wt++]=255;dt.putImageData(Rt,0,tn*_e)}else throw new Error(`bad image kind: ${ct.kind}`)}function pt(dt,ct){if(ct.bitmap){dt.drawImage(ct.bitmap,0,0);return}const mt=ct.height,ht=ct.width,yt=mt%_e,wt=(mt-yt)/_e,Ct=yt===0?wt:wt+1,Rt=dt.createImageData(ht,_e);let Mt=0;const Wt=ct.data,Xt=Rt.data;for(let Zt=0;Zt<Ct;Zt++){const tn=Zt<wt?_e:yt;({srcPos:Mt}=(0,d.convertBlackAndWhiteToRGBA)({src:Wt,srcPos:Mt,dest:Xt,width:ht,height:tn,nonBlackColor:0})),dt.putImageData(Rt,0,Zt*_e)}}function ot(dt,ct){const mt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const ht of mt)dt[ht]!==void 0&&(ct[ht]=dt[ht]);dt.setLineDash!==void 0&&(ct.setLineDash(dt.getLineDash()),ct.lineDashOffset=dt.lineDashOffset)}function at(dt){if(dt.strokeStyle=dt.fillStyle="#000000",dt.fillRule="nonzero",dt.globalAlpha=1,dt.lineWidth=1,dt.lineCap="butt",dt.lineJoin="miter",dt.miterLimit=10,dt.globalCompositeOperation="source-over",dt.font="10px sans-serif",dt.setLineDash!==void 0&&(dt.setLineDash([]),dt.lineDashOffset=0),!a.isNodeJS){const{filter:ct}=dt;ct!=="none"&&ct!==""&&(dt.filter="none")}}function xt(dt,ct,mt,ht){const yt=dt.length;for(let wt=3;wt<yt;wt+=4){const Ct=dt[wt];if(Ct===0)dt[wt-3]=ct,dt[wt-2]=mt,dt[wt-1]=ht;else if(Ct<255){const Rt=255-Ct;dt[wt-3]=dt[wt-3]*Ct+ct*Rt>>8,dt[wt-2]=dt[wt-2]*Ct+mt*Rt>>8,dt[wt-1]=dt[wt-1]*Ct+ht*Rt>>8}}}function gt(dt,ct,mt){const ht=dt.length,yt=1/255;for(let wt=3;wt<ht;wt+=4){const Ct=mt?mt[dt[wt]]:dt[wt];ct[wt]=ct[wt]*Ct*yt|0}}function ut(dt,ct,mt){const ht=dt.length;for(let yt=3;yt<ht;yt+=4){const wt=dt[yt-3]*77+dt[yt-2]*152+dt[yt-1]*28;ct[yt]=mt?ct[yt]*mt[wt>>8]>>8:ct[yt]*wt>>16}}function Et(dt,ct,mt,ht,yt,wt,Ct,Rt,Mt,Wt,Xt){const Zt=!!wt,tn=Zt?wt[0]:0,dn=Zt?wt[1]:0,rn=Zt?wt[2]:0,vn=yt==="Luminosity"?ut:gt,pn=Math.min(ht,Math.ceil(1048576/mt));for(let kn=0;kn<ht;kn+=pn){const an=Math.min(pn,ht-kn),Gt=dt.getImageData(Rt-Wt,kn+(Mt-Xt),mt,an),qt=ct.getImageData(Rt,kn+Mt,mt,an);Zt&&xt(Gt.data,tn,dn,rn),vn(Gt.data,qt.data,Ct),ct.putImageData(qt,Rt,kn+Mt)}}function vt(dt,ct,mt,ht){const yt=ht[0],wt=ht[1],Ct=ht[2]-yt,Rt=ht[3]-wt;Ct===0||Rt===0||(Et(ct.context,mt,Ct,Rt,ct.subtype,ct.backdrop,ct.transferMap,yt,wt,ct.offsetX,ct.offsetY),dt.save(),dt.globalAlpha=1,dt.globalCompositeOperation="source-over",dt.setTransform(1,0,0,1,0,0),dt.drawImage(mt.canvas,0,0),dt.restore())}function _t(dt,ct){const mt=a.Util.singularValueDecompose2dScale(dt);mt[0]=Math.fround(mt[0]),mt[1]=Math.fround(mt[1]);const ht=Math.fround((globalThis.devicePixelRatio||1)*o.PixelsPerInch.PDF_TO_CSS_UNITS);return ct!==void 0?ct:mt[0]<=ht||mt[1]<=ht}const jt=["butt","round","square"],kt=["miter","round","bevel"],It={},Vt={},nn=class nn{constructor(ct,mt,ht,yt,wt,{optionalContentConfig:Ct,markedContentStack:Rt=null},Mt,Wt){Lt(this,St);Lt(this,bt);this.ctx=ct,this.current=new et(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=mt,this.objs=ht,this.canvasFactory=yt,this.filterFactory=wt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Rt||[],this.optionalContentConfig=Ct,this.cachedCanvases=new nt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Mt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Wt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(ct,mt=null){return typeof ct=="string"?ct.startsWith("g_")?this.commonObjs.get(ct):this.objs.get(ct):mt}beginDrawing({transform:ct,viewport:mt,transparency:ht=!1,background:yt=null}){const wt=this.ctx.canvas.width,Ct=this.ctx.canvas.height,Rt=this.ctx.fillStyle;if(this.ctx.fillStyle=yt||"#ffffff",this.ctx.fillRect(0,0,wt,Ct),this.ctx.fillStyle=Rt,ht){const Mt=this.cachedCanvases.getCanvas("transparent",wt,Ct);this.compositeCtx=this.ctx,this.transparentCanvas=Mt.canvas,this.ctx=Mt.context,this.ctx.save(),this.ctx.transform(...(0,o.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),at(this.ctx),ct&&(this.ctx.transform(...ct),this.outputScaleX=ct[0],this.outputScaleY=ct[0]),this.ctx.transform(...mt.transform),this.viewportScale=mt.scale,this.baseTransform=(0,o.getCurrentTransform)(this.ctx)}executeOperatorList(ct,mt,ht,yt){const wt=ct.argsArray,Ct=ct.fnArray;let Rt=mt||0;const Mt=wt.length;if(Mt===Rt)return Rt;const Wt=Mt-Rt>j&&typeof ht=="function",Xt=Wt?Date.now()+_:0;let Zt=0;const tn=this.commonObjs,dn=this.objs;let rn;for(;;){if(yt!==void 0&&Rt===yt.nextBreakPoint)return yt.breakIt(Rt,ht),Rt;if(rn=Ct[Rt],rn!==a.OPS.dependency)this[rn].apply(this,wt[Rt]);else for(const vn of wt[Rt]){const Rn=vn.startsWith("g_")?tn:dn;if(!Rn.has(vn))return Rn.get(vn,ht),Rt}if(Rt++,Rt===Mt)return Rt;if(Wt&&++Zt>j){if(Date.now()>Xt)return ht(),Rt;Zt=0}}}endDrawing(){Bt(this,St,Br).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const ct of this._cachedBitmapsMap.values()){for(const mt of ct.values())typeof HTMLCanvasElement<"u"&&mt instanceof HTMLCanvasElement&&(mt.width=mt.height=0);ct.clear()}this._cachedBitmapsMap.clear(),Bt(this,bt,zr).call(this)}_scaleImage(ct,mt){const ht=ct.width,yt=ct.height;let wt=Math.max(Math.hypot(mt[0],mt[1]),1),Ct=Math.max(Math.hypot(mt[2],mt[3]),1),Rt=ht,Mt=yt,Wt="prescale1",Xt,Zt;for(;wt>2&&Rt>1||Ct>2&&Mt>1;){let tn=Rt,dn=Mt;wt>2&&Rt>1&&(tn=Rt>=16384?Math.floor(Rt/2)-1||1:Math.ceil(Rt/2),wt/=Rt/tn),Ct>2&&Mt>1&&(dn=Mt>=16384?Math.floor(Mt/2)-1||1:Math.ceil(Mt)/2,Ct/=Mt/dn),Xt=this.cachedCanvases.getCanvas(Wt,tn,dn),Zt=Xt.context,Zt.clearRect(0,0,tn,dn),Zt.drawImage(ct,0,0,Rt,Mt,0,0,tn,dn),ct=Xt.canvas,Rt=tn,Mt=dn,Wt=Wt==="prescale1"?"prescale2":"prescale1"}return{img:ct,paintWidth:Rt,paintHeight:Mt}}_createMaskCanvas(ct){const mt=this.ctx,{width:ht,height:yt}=ct,wt=this.current.fillColor,Ct=this.current.patternFill,Rt=(0,o.getCurrentTransform)(mt);let Mt,Wt,Xt,Zt;if((ct.bitmap||ct.data)&&ct.count>1){const Ft=ct.bitmap||ct.data.buffer;Wt=JSON.stringify(Ct?Rt:[Rt.slice(0,4),wt]),Mt=this._cachedBitmapsMap.get(Ft),Mt||(Mt=new Map,this._cachedBitmapsMap.set(Ft,Mt));const Yt=Mt.get(Wt);if(Yt&&!Ct){const fn=Math.round(Math.min(Rt[0],Rt[2])+Rt[4]),bn=Math.round(Math.min(Rt[1],Rt[3])+Rt[5]);return{canvas:Yt,offsetX:fn,offsetY:bn}}Xt=Yt}Xt||(Zt=this.cachedCanvases.getCanvas("maskCanvas",ht,yt),pt(Zt.context,ct));let tn=a.Util.transform(Rt,[1/ht,0,0,-1/yt,0,0]);tn=a.Util.transform(tn,[1,0,0,1,0,-yt]);const dn=a.Util.applyTransform([0,0],tn),rn=a.Util.applyTransform([ht,yt],tn),vn=a.Util.normalizeRect([dn[0],dn[1],rn[0],rn[1]]),Rn=Math.round(vn[2]-vn[0])||1,pn=Math.round(vn[3]-vn[1])||1,kn=this.cachedCanvases.getCanvas("fillCanvas",Rn,pn),an=kn.context,Gt=Math.min(dn[0],rn[0]),qt=Math.min(dn[1],rn[1]);an.translate(-Gt,-qt),an.transform(...tn),Xt||(Xt=this._scaleImage(Zt.canvas,(0,o.getCurrentTransformInverse)(an)),Xt=Xt.img,Mt&&Ct&&Mt.set(Wt,Xt)),an.imageSmoothingEnabled=_t((0,o.getCurrentTransform)(an),ct.interpolate),st(an,Xt,0,0,Xt.width,Xt.height,0,0,ht,yt),an.globalCompositeOperation="source-in";const sn=a.Util.transform((0,o.getCurrentTransformInverse)(an),[1,0,0,1,-Gt,-qt]);return an.fillStyle=Ct?wt.getPattern(mt,this,sn,c.PathType.FILL):wt,an.fillRect(0,0,ht,yt),Mt&&!Ct&&(this.cachedCanvases.delete("fillCanvas"),Mt.set(Wt,kn.canvas)),{canvas:kn.canvas,offsetX:Math.round(Gt),offsetY:Math.round(qt)}}setLineWidth(ct){ct!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=ct,this.ctx.lineWidth=ct}setLineCap(ct){this.ctx.lineCap=jt[ct]}setLineJoin(ct){this.ctx.lineJoin=kt[ct]}setMiterLimit(ct){this.ctx.miterLimit=ct}setDash(ct,mt){const ht=this.ctx;ht.setLineDash!==void 0&&(ht.setLineDash(ct),ht.lineDashOffset=mt)}setRenderingIntent(ct){}setFlatness(ct){}setGState(ct){for(const[mt,ht]of ct)switch(mt){case"LW":this.setLineWidth(ht);break;case"LC":this.setLineCap(ht);break;case"LJ":this.setLineJoin(ht);break;case"ML":this.setMiterLimit(ht);break;case"D":this.setDash(ht[0],ht[1]);break;case"RI":this.setRenderingIntent(ht);break;case"FL":this.setFlatness(ht);break;case"Font":this.setFont(ht[0],ht[1]);break;case"CA":this.current.strokeAlpha=ht;break;case"ca":this.current.fillAlpha=ht,this.ctx.globalAlpha=ht;break;case"BM":this.ctx.globalCompositeOperation=ht;break;case"SMask":this.current.activeSMask=ht?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(ht);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const ct=this.inSMaskMode;this.current.activeSMask&&!ct?this.beginSMaskMode():!this.current.activeSMask&&ct&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const ct=this.ctx.canvas.width,mt=this.ctx.canvas.height,ht="smaskGroupAt"+this.groupLevel,yt=this.cachedCanvases.getCanvas(ht,ct,mt);this.suspendedCtx=this.ctx,this.ctx=yt.context;const wt=this.ctx;wt.setTransform(...(0,o.getCurrentTransform)(this.suspendedCtx)),ot(this.suspendedCtx,wt),rt(wt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ot(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(ct){if(!this.current.activeSMask)return;ct?(ct[0]=Math.floor(ct[0]),ct[1]=Math.floor(ct[1]),ct[2]=Math.ceil(ct[2]),ct[3]=Math.ceil(ct[3])):ct=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const mt=this.current.activeSMask,ht=this.suspendedCtx;vt(ht,mt,this.ctx,ct),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(ot(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const ct=this.current;this.stateStack.push(ct),this.current=ct.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ot(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(ct,mt,ht,yt,wt,Ct){this.ctx.transform(ct,mt,ht,yt,wt,Ct),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(ct,mt,ht){const yt=this.ctx,wt=this.current;let Ct=wt.x,Rt=wt.y,Mt,Wt;const Xt=(0,o.getCurrentTransform)(yt),Zt=Xt[0]===0&&Xt[3]===0||Xt[1]===0&&Xt[2]===0,tn=Zt?ht.slice(0):null;for(let dn=0,rn=0,vn=ct.length;dn<vn;dn++)switch(ct[dn]|0){case a.OPS.rectangle:Ct=mt[rn++],Rt=mt[rn++];const Rn=mt[rn++],pn=mt[rn++],kn=Ct+Rn,an=Rt+pn;yt.moveTo(Ct,Rt),Rn===0||pn===0?yt.lineTo(kn,an):(yt.lineTo(kn,Rt),yt.lineTo(kn,an),yt.lineTo(Ct,an)),Zt||wt.updateRectMinMax(Xt,[Ct,Rt,kn,an]),yt.closePath();break;case a.OPS.moveTo:Ct=mt[rn++],Rt=mt[rn++],yt.moveTo(Ct,Rt),Zt||wt.updatePathMinMax(Xt,Ct,Rt);break;case a.OPS.lineTo:Ct=mt[rn++],Rt=mt[rn++],yt.lineTo(Ct,Rt),Zt||wt.updatePathMinMax(Xt,Ct,Rt);break;case a.OPS.curveTo:Mt=Ct,Wt=Rt,Ct=mt[rn+4],Rt=mt[rn+5],yt.bezierCurveTo(mt[rn],mt[rn+1],mt[rn+2],mt[rn+3],Ct,Rt),wt.updateCurvePathMinMax(Xt,Mt,Wt,mt[rn],mt[rn+1],mt[rn+2],mt[rn+3],Ct,Rt,tn),rn+=6;break;case a.OPS.curveTo2:Mt=Ct,Wt=Rt,yt.bezierCurveTo(Ct,Rt,mt[rn],mt[rn+1],mt[rn+2],mt[rn+3]),wt.updateCurvePathMinMax(Xt,Mt,Wt,Ct,Rt,mt[rn],mt[rn+1],mt[rn+2],mt[rn+3],tn),Ct=mt[rn+2],Rt=mt[rn+3],rn+=4;break;case a.OPS.curveTo3:Mt=Ct,Wt=Rt,Ct=mt[rn+2],Rt=mt[rn+3],yt.bezierCurveTo(mt[rn],mt[rn+1],Ct,Rt,Ct,Rt),wt.updateCurvePathMinMax(Xt,Mt,Wt,mt[rn],mt[rn+1],Ct,Rt,Ct,Rt,tn),rn+=4;break;case a.OPS.closePath:yt.closePath();break}Zt&&wt.updateScalingPathMinMax(Xt,tn),wt.setCurrentPoint(Ct,Rt)}closePath(){this.ctx.closePath()}stroke(ct=!0){const mt=this.ctx,ht=this.current.strokeColor;mt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof ht=="object"&&(ht!=null&&ht.getPattern)?(mt.save(),mt.strokeStyle=ht.getPattern(mt,this,(0,o.getCurrentTransformInverse)(mt),c.PathType.STROKE),this.rescaleAndStroke(!1),mt.restore()):this.rescaleAndStroke(!0)),ct&&this.consumePath(this.current.getClippedPathBoundingBox()),mt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(ct=!0){const mt=this.ctx,ht=this.current.fillColor,yt=this.current.patternFill;let wt=!1;yt&&(mt.save(),mt.fillStyle=ht.getPattern(mt,this,(0,o.getCurrentTransformInverse)(mt),c.PathType.FILL),wt=!0);const Ct=this.current.getClippedPathBoundingBox();this.contentVisible&&Ct!==null&&(this.pendingEOFill?(mt.fill("evenodd"),this.pendingEOFill=!1):mt.fill()),wt&&mt.restore(),ct&&this.consumePath(Ct)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=It}eoClip(){this.pendingClip=Vt}beginText(){this.current.textMatrix=a.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const ct=this.pendingTextPaths,mt=this.ctx;if(ct===void 0){mt.beginPath();return}mt.save(),mt.beginPath();for(const ht of ct)mt.setTransform(...ht.transform),mt.translate(ht.x,ht.y),ht.addToPath(mt,ht.fontSize);mt.restore(),mt.clip(),mt.beginPath(),delete this.pendingTextPaths}setCharSpacing(ct){this.current.charSpacing=ct}setWordSpacing(ct){this.current.wordSpacing=ct}setHScale(ct){this.current.textHScale=ct/100}setLeading(ct){this.current.leading=-ct}setFont(ct,mt){var Xt;const ht=this.commonObjs.get(ct),yt=this.current;if(!ht)throw new Error(`Can't find font for ${ct}`);if(yt.fontMatrix=ht.fontMatrix||a.FONT_IDENTITY_MATRIX,(yt.fontMatrix[0]===0||yt.fontMatrix[3]===0)&&(0,a.warn)("Invalid font matrix for font "+ct),mt<0?(mt=-mt,yt.fontDirection=-1):yt.fontDirection=1,this.current.font=ht,this.current.fontSize=mt,ht.isType3Font)return;const wt=ht.loadedName||"sans-serif",Ct=((Xt=ht.systemFontInfo)==null?void 0:Xt.css)||`"${wt}", ${ht.fallbackName}`;let Rt="normal";ht.black?Rt="900":ht.bold&&(Rt="bold");const Mt=ht.italic?"italic":"normal";let Wt=mt;mt<h?Wt=h:mt>g&&(Wt=g),this.current.fontSizeScale=mt/Wt,this.ctx.font=`${Mt} ${Rt} ${Wt}px ${Ct}`}setTextRenderingMode(ct){this.current.textRenderingMode=ct}setTextRise(ct){this.current.textRise=ct}moveText(ct,mt){this.current.x=this.current.lineX+=ct,this.current.y=this.current.lineY+=mt}setLeadingMoveText(ct,mt){this.setLeading(-mt),this.moveText(ct,mt)}setTextMatrix(ct,mt,ht,yt,wt,Ct){this.current.textMatrix=[ct,mt,ht,yt,wt,Ct],this.current.textMatrixScale=Math.hypot(ct,mt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(ct,mt,ht,yt){const wt=this.ctx,Ct=this.current,Rt=Ct.font,Mt=Ct.textRenderingMode,Wt=Ct.fontSize/Ct.fontSizeScale,Xt=Mt&a.TextRenderingMode.FILL_STROKE_MASK,Zt=!!(Mt&a.TextRenderingMode.ADD_TO_PATH_FLAG),tn=Ct.patternFill&&!Rt.missingFile;let dn;(Rt.disableFontFace||Zt||tn)&&(dn=Rt.getPathGenerator(this.commonObjs,ct)),Rt.disableFontFace||tn?(wt.save(),wt.translate(mt,ht),wt.beginPath(),dn(wt,Wt),yt&&wt.setTransform(...yt),(Xt===a.TextRenderingMode.FILL||Xt===a.TextRenderingMode.FILL_STROKE)&&wt.fill(),(Xt===a.TextRenderingMode.STROKE||Xt===a.TextRenderingMode.FILL_STROKE)&&wt.stroke(),wt.restore()):((Xt===a.TextRenderingMode.FILL||Xt===a.TextRenderingMode.FILL_STROKE)&&wt.fillText(ct,mt,ht),(Xt===a.TextRenderingMode.STROKE||Xt===a.TextRenderingMode.FILL_STROKE)&&wt.strokeText(ct,mt,ht)),Zt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,o.getCurrentTransform)(wt),x:mt,y:ht,fontSize:Wt,addToPath:dn})}get isFontSubpixelAAEnabled(){const{context:ct}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);ct.scale(1.5,1),ct.fillText("I",0,10);const mt=ct.getImageData(0,0,10,10).data;let ht=!1;for(let yt=3;yt<mt.length;yt+=4)if(mt[yt]>0&&mt[yt]<255){ht=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",ht)}showText(ct){const mt=this.current,ht=mt.font;if(ht.isType3Font)return this.showType3Text(ct);const yt=mt.fontSize;if(yt===0)return;const wt=this.ctx,Ct=mt.fontSizeScale,Rt=mt.charSpacing,Mt=mt.wordSpacing,Wt=mt.fontDirection,Xt=mt.textHScale*Wt,Zt=ct.length,tn=ht.vertical,dn=tn?1:-1,rn=ht.defaultVMetrics,vn=yt*mt.fontMatrix[0],Rn=mt.textRenderingMode===a.TextRenderingMode.FILL&&!ht.disableFontFace&&!mt.patternFill;wt.save(),wt.transform(...mt.textMatrix),wt.translate(mt.x,mt.y+mt.textRise),Wt>0?wt.scale(Xt,-1):wt.scale(Xt,1);let pn;if(mt.patternFill){wt.save();const sn=mt.fillColor.getPattern(wt,this,(0,o.getCurrentTransformInverse)(wt),c.PathType.FILL);pn=(0,o.getCurrentTransform)(wt),wt.restore(),wt.fillStyle=sn}let kn=mt.lineWidth;const an=mt.textMatrixScale;if(an===0||kn===0){const sn=mt.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;(sn===a.TextRenderingMode.STROKE||sn===a.TextRenderingMode.FILL_STROKE)&&(kn=this.getSinglePixelWidth())}else kn/=an;if(Ct!==1&&(wt.scale(Ct,Ct),kn/=Ct),wt.lineWidth=kn,ht.isInvalidPDFjsFont){const sn=[];let Ft=0;for(const Yt of ct)sn.push(Yt.unicode),Ft+=Yt.width;wt.fillText(sn.join(""),0,0),mt.x+=Ft*vn*Xt,wt.restore(),this.compose();return}let Gt=0,qt;for(qt=0;qt<Zt;++qt){const sn=ct[qt];if(typeof sn=="number"){Gt+=dn*sn*yt/1e3;continue}let Ft=!1;const Yt=(sn.isSpace?Mt:0)+Rt,fn=sn.fontChar,bn=sn.accent;let wn,jn,Mn=sn.width;if(tn){const Nn=sn.vmetric||rn,en=-(sn.vmetric?Nn[1]:Mn*.5)*vn,zt=Nn[2]*vn;Mn=Nn?-Nn[0]:Mn,wn=en/Ct,jn=(Gt+zt)/Ct}else wn=Gt/Ct,jn=0;if(ht.remeasure&&Mn>0){const Nn=wt.measureText(fn).width*1e3/yt*Ct;if(Mn<Nn&&this.isFontSubpixelAAEnabled){const en=Mn/Nn;Ft=!0,wt.save(),wt.scale(en,1),wn/=en}else Mn!==Nn&&(wn+=(Mn-Nn)/2e3*yt/Ct)}if(this.contentVisible&&(sn.isInFont||ht.missingFile)){if(Rn&&!bn)wt.fillText(fn,wn,jn);else if(this.paintChar(fn,wn,jn,pn),bn){const Nn=wn+yt*bn.offset.x/Ct,en=jn-yt*bn.offset.y/Ct;this.paintChar(bn.fontChar,Nn,en,pn)}}const Pn=tn?Mn*vn-Yt*Wt:Mn*vn+Yt*Wt;Gt+=Pn,Ft&&wt.restore()}tn?mt.y-=Gt:mt.x+=Gt*Xt,wt.restore(),this.compose()}showType3Text(ct){const mt=this.ctx,ht=this.current,yt=ht.font,wt=ht.fontSize,Ct=ht.fontDirection,Rt=yt.vertical?1:-1,Mt=ht.charSpacing,Wt=ht.wordSpacing,Xt=ht.textHScale*Ct,Zt=ht.fontMatrix||a.FONT_IDENTITY_MATRIX,tn=ct.length,dn=ht.textRenderingMode===a.TextRenderingMode.INVISIBLE;let rn,vn,Rn,pn;if(!(dn||wt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,mt.save(),mt.transform(...ht.textMatrix),mt.translate(ht.x,ht.y),mt.scale(Xt,Ct),rn=0;rn<tn;++rn){if(vn=ct[rn],typeof vn=="number"){pn=Rt*vn*wt/1e3,this.ctx.translate(pn,0),ht.x+=pn*Xt;continue}const kn=(vn.isSpace?Wt:0)+Mt,an=yt.charProcOperatorList[vn.operatorListId];if(!an){(0,a.warn)(`Type3 character "${vn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=vn,this.save(),mt.scale(wt,wt),mt.transform(...Zt),this.executeOperatorList(an),this.restore()),Rn=a.Util.applyTransform([vn.width,0],Zt)[0]*wt+kn,mt.translate(Rn,0),ht.x+=Rn*Xt}mt.restore(),this.processingType3=null}}setCharWidth(ct,mt){}setCharWidthAndBounds(ct,mt,ht,yt,wt,Ct){this.ctx.rect(ht,yt,wt-ht,Ct-yt),this.ctx.clip(),this.endPath()}getColorN_Pattern(ct){let mt;if(ct[0]==="TilingPattern"){const ht=ct[1],yt=this.baseTransform||(0,o.getCurrentTransform)(this.ctx),wt={createCanvasGraphics:Ct=>new nn(Ct,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};mt=new c.TilingPattern(ct,ht,this.ctx,wt,yt)}else mt=this._getPattern(ct[1],ct[2]);return mt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(ct,mt,ht){const yt=a.Util.makeHexColor(ct,mt,ht);this.ctx.strokeStyle=yt,this.current.strokeColor=yt}setFillRGBColor(ct,mt,ht){const yt=a.Util.makeHexColor(ct,mt,ht);this.ctx.fillStyle=yt,this.current.fillColor=yt,this.current.patternFill=!1}_getPattern(ct,mt=null){let ht;return this.cachedPatterns.has(ct)?ht=this.cachedPatterns.get(ct):(ht=(0,c.getShadingPattern)(this.getObject(ct)),this.cachedPatterns.set(ct,ht)),mt&&(ht.matrix=mt),ht}shadingFill(ct){if(!this.contentVisible)return;const mt=this.ctx;this.save();const ht=this._getPattern(ct);mt.fillStyle=ht.getPattern(mt,this,(0,o.getCurrentTransformInverse)(mt),c.PathType.SHADING);const yt=(0,o.getCurrentTransformInverse)(mt);if(yt){const{width:wt,height:Ct}=mt.canvas,[Rt,Mt,Wt,Xt]=a.Util.getAxialAlignedBoundingBox([0,0,wt,Ct],yt);this.ctx.fillRect(Rt,Mt,Wt-Rt,Xt-Mt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,a.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,a.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(ct,mt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(ct)&&ct.length===6&&this.transform(...ct),this.baseTransform=(0,o.getCurrentTransform)(this.ctx),mt)){const ht=mt[2]-mt[0],yt=mt[3]-mt[1];this.ctx.rect(mt[0],mt[1],ht,yt),this.current.updateRectMinMax((0,o.getCurrentTransform)(this.ctx),mt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(ct){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const mt=this.ctx;ct.isolated||(0,a.info)("TODO: Support non-isolated groups."),ct.knockout&&(0,a.warn)("Knockout groups not supported.");const ht=(0,o.getCurrentTransform)(mt);if(ct.matrix&&mt.transform(...ct.matrix),!ct.bbox)throw new Error("Bounding box is required.");let yt=a.Util.getAxialAlignedBoundingBox(ct.bbox,(0,o.getCurrentTransform)(mt));const wt=[0,0,mt.canvas.width,mt.canvas.height];yt=a.Util.intersect(yt,wt)||[0,0,0,0];const Ct=Math.floor(yt[0]),Rt=Math.floor(yt[1]);let Mt=Math.max(Math.ceil(yt[2])-Ct,1),Wt=Math.max(Math.ceil(yt[3])-Rt,1),Xt=1,Zt=1;Mt>b&&(Xt=Mt/b,Mt=b),Wt>b&&(Zt=Wt/b,Wt=b),this.current.startNewPathAndClipBox([0,0,Mt,Wt]);let tn="groupAt"+this.groupLevel;ct.smask&&(tn+="_smask_"+this.smaskCounter++%2);const dn=this.cachedCanvases.getCanvas(tn,Mt,Wt),rn=dn.context;rn.scale(1/Xt,1/Zt),rn.translate(-Ct,-Rt),rn.transform(...ht),ct.smask?this.smaskStack.push({canvas:dn.canvas,context:rn,offsetX:Ct,offsetY:Rt,scaleX:Xt,scaleY:Zt,subtype:ct.smask.subtype,backdrop:ct.smask.backdrop,transferMap:ct.smask.transferMap||null,startTransformInverse:null}):(mt.setTransform(1,0,0,1,0,0),mt.translate(Ct,Rt),mt.scale(Xt,Zt),mt.save()),ot(mt,rn),this.ctx=rn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(mt),this.groupLevel++}endGroup(ct){if(!this.contentVisible)return;this.groupLevel--;const mt=this.ctx,ht=this.groupStack.pop();if(this.ctx=ht,this.ctx.imageSmoothingEnabled=!1,ct.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const yt=(0,o.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...yt);const wt=a.Util.getAxialAlignedBoundingBox([0,0,mt.canvas.width,mt.canvas.height],yt);this.ctx.drawImage(mt.canvas,0,0),this.ctx.restore(),this.compose(wt)}}beginAnnotation(ct,mt,ht,yt,wt){if(Bt(this,St,Br).call(this),at(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(mt)&&mt.length===4){const Ct=mt[2]-mt[0],Rt=mt[3]-mt[1];if(wt&&this.annotationCanvasMap){ht=ht.slice(),ht[4]-=mt[0],ht[5]-=mt[1],mt=mt.slice(),mt[0]=mt[1]=0,mt[2]=Ct,mt[3]=Rt;const[Mt,Wt]=a.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(this.ctx)),{viewportScale:Xt}=this,Zt=Math.ceil(Ct*this.outputScaleX*Xt),tn=Math.ceil(Rt*this.outputScaleY*Xt);this.annotationCanvas=this.canvasFactory.create(Zt,tn);const{canvas:dn,context:rn}=this.annotationCanvas;this.annotationCanvasMap.set(ct,dn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=rn,this.ctx.save(),this.ctx.setTransform(Mt,0,0,-Wt,0,Rt*Wt),at(this.ctx)}else at(this.ctx),this.ctx.rect(mt[0],mt[1],Ct,Rt),this.ctx.clip(),this.endPath()}this.current=new et(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...ht),this.transform(...yt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Bt(this,bt,zr).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(ct){if(!this.contentVisible)return;const mt=ct.count;ct=this.getObject(ct.data,ct),ct.count=mt;const ht=this.ctx,yt=this.processingType3;if(yt&&(yt.compiled===void 0&&(yt.compiled=tt(ct)),yt.compiled)){yt.compiled(ht);return}const wt=this._createMaskCanvas(ct),Ct=wt.canvas;ht.save(),ht.setTransform(1,0,0,1,0,0),ht.drawImage(Ct,wt.offsetX,wt.offsetY),ht.restore(),this.compose()}paintImageMaskXObjectRepeat(ct,mt,ht=0,yt=0,wt,Ct){if(!this.contentVisible)return;ct=this.getObject(ct.data,ct);const Rt=this.ctx;Rt.save();const Mt=(0,o.getCurrentTransform)(Rt);Rt.transform(mt,ht,yt,wt,0,0);const Wt=this._createMaskCanvas(ct);Rt.setTransform(1,0,0,1,Wt.offsetX-Mt[4],Wt.offsetY-Mt[5]);for(let Xt=0,Zt=Ct.length;Xt<Zt;Xt+=2){const tn=a.Util.transform(Mt,[mt,ht,yt,wt,Ct[Xt],Ct[Xt+1]]),[dn,rn]=a.Util.applyTransform([0,0],tn);Rt.drawImage(Wt.canvas,dn,rn)}Rt.restore(),this.compose()}paintImageMaskXObjectGroup(ct){if(!this.contentVisible)return;const mt=this.ctx,ht=this.current.fillColor,yt=this.current.patternFill;for(const wt of ct){const{data:Ct,width:Rt,height:Mt,transform:Wt}=wt,Xt=this.cachedCanvases.getCanvas("maskCanvas",Rt,Mt),Zt=Xt.context;Zt.save();const tn=this.getObject(Ct,wt);pt(Zt,tn),Zt.globalCompositeOperation="source-in",Zt.fillStyle=yt?ht.getPattern(Zt,this,(0,o.getCurrentTransformInverse)(mt),c.PathType.FILL):ht,Zt.fillRect(0,0,Rt,Mt),Zt.restore(),mt.save(),mt.transform(...Wt),mt.scale(1,-1),st(mt,Xt.canvas,0,0,Rt,Mt,0,-1,1,1),mt.restore()}this.compose()}paintImageXObject(ct){if(!this.contentVisible)return;const mt=this.getObject(ct);if(!mt){(0,a.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(mt)}paintImageXObjectRepeat(ct,mt,ht,yt){if(!this.contentVisible)return;const wt=this.getObject(ct);if(!wt){(0,a.warn)("Dependent image isn't ready yet");return}const Ct=wt.width,Rt=wt.height,Mt=[];for(let Wt=0,Xt=yt.length;Wt<Xt;Wt+=2)Mt.push({transform:[mt,0,0,ht,yt[Wt],yt[Wt+1]],x:0,y:0,w:Ct,h:Rt});this.paintInlineImageXObjectGroup(wt,Mt)}applyTransferMapsToCanvas(ct){return this.current.transferMaps!=="none"&&(ct.filter=this.current.transferMaps,ct.drawImage(ct.canvas,0,0),ct.filter="none"),ct.canvas}applyTransferMapsToBitmap(ct){if(this.current.transferMaps==="none")return ct.bitmap;const{bitmap:mt,width:ht,height:yt}=ct,wt=this.cachedCanvases.getCanvas("inlineImage",ht,yt),Ct=wt.context;return Ct.filter=this.current.transferMaps,Ct.drawImage(mt,0,0),Ct.filter="none",wt.canvas}paintInlineImageXObject(ct){if(!this.contentVisible)return;const mt=ct.width,ht=ct.height,yt=this.ctx;if(this.save(),!a.isNodeJS){const{filter:Rt}=yt;Rt!=="none"&&Rt!==""&&(yt.filter="none")}yt.scale(1/mt,-1/ht);let wt;if(ct.bitmap)wt=this.applyTransferMapsToBitmap(ct);else if(typeof HTMLElement=="function"&&ct instanceof HTMLElement||!ct.data)wt=ct;else{const Mt=this.cachedCanvases.getCanvas("inlineImage",mt,ht).context;it(Mt,ct),wt=this.applyTransferMapsToCanvas(Mt)}const Ct=this._scaleImage(wt,(0,o.getCurrentTransformInverse)(yt));yt.imageSmoothingEnabled=_t((0,o.getCurrentTransform)(yt),ct.interpolate),st(yt,Ct.img,0,0,Ct.paintWidth,Ct.paintHeight,0,-ht,mt,ht),this.compose(),this.restore()}paintInlineImageXObjectGroup(ct,mt){if(!this.contentVisible)return;const ht=this.ctx;let yt;if(ct.bitmap)yt=ct.bitmap;else{const wt=ct.width,Ct=ct.height,Mt=this.cachedCanvases.getCanvas("inlineImage",wt,Ct).context;it(Mt,ct),yt=this.applyTransferMapsToCanvas(Mt)}for(const wt of mt)ht.save(),ht.transform(...wt.transform),ht.scale(1,-1),st(ht,yt,wt.x,wt.y,wt.w,wt.h,0,-1,1,1),ht.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(ct){}markPointProps(ct,mt){}beginMarkedContent(ct){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(ct,mt){ct==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(mt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(ct){const mt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(ct);const ht=this.ctx;this.pendingClip&&(mt||(this.pendingClip===Vt?ht.clip("evenodd"):ht.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),ht.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const ct=(0,o.getCurrentTransform)(this.ctx);if(ct[1]===0&&ct[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(ct[0]),Math.abs(ct[3]));else{const mt=Math.abs(ct[0]*ct[3]-ct[2]*ct[1]),ht=Math.hypot(ct[0],ct[2]),yt=Math.hypot(ct[1],ct[3]);this._cachedGetSinglePixelWidth=Math.max(ht,yt)/mt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:ct}=this.current,{a:mt,b:ht,c:yt,d:wt}=this.ctx.getTransform();let Ct,Rt;if(ht===0&&yt===0){const Mt=Math.abs(mt),Wt=Math.abs(wt);if(Mt===Wt)if(ct===0)Ct=Rt=1/Mt;else{const Xt=Mt*ct;Ct=Rt=Xt<1?1/Xt:1}else if(ct===0)Ct=1/Mt,Rt=1/Wt;else{const Xt=Mt*ct,Zt=Wt*ct;Ct=Xt<1?1/Xt:1,Rt=Zt<1?1/Zt:1}}else{const Mt=Math.abs(mt*wt-ht*yt),Wt=Math.hypot(mt,ht),Xt=Math.hypot(yt,wt);if(ct===0)Ct=Xt/Mt,Rt=Wt/Mt;else{const Zt=ct*Mt;Ct=Xt>Zt?Xt/Zt:1,Rt=Wt>Zt?Wt/Zt:1}}this._cachedScaleForStroking[0]=Ct,this._cachedScaleForStroking[1]=Rt}return this._cachedScaleForStroking}rescaleAndStroke(ct){const{ctx:mt}=this,{lineWidth:ht}=this.current,[yt,wt]=this.getScaleForStroking();if(mt.lineWidth=ht||1,yt===1&&wt===1){mt.stroke();return}const Ct=mt.getLineDash();if(ct&&mt.save(),mt.scale(yt,wt),Ct.length>0){const Rt=Math.max(yt,wt);mt.setLineDash(Ct.map(Mt=>Mt/Rt)),mt.lineDashOffset/=Rt}mt.stroke(),ct&&mt.restore()}isContentVisible(){for(let ct=this.markedContentStack.length-1;ct>=0;ct--)if(!this.markedContentStack[ct].visible)return!1;return!0}};St=new WeakSet,Br=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},bt=new WeakSet,zr=function(){if(this.pageColors){const ct=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(ct!=="none"){const mt=this.ctx.filter;this.ctx.filter=ct,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=mt}}};let Ht=nn;i.CanvasGraphics=Ht;for(const dt in a.OPS)Ht.prototype[dt]!==void 0&&(Ht.prototype[a.OPS[dt]]=Ht.prototype[dt])},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TilingPattern=i.PathType=void 0,i.getShadingPattern=_e;var a=s(1),o=s(6);const c={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};i.PathType=c;function d(tt,et){if(!et)return;const it=et[2]-et[0],pt=et[3]-et[1],ot=new Path2D;ot.rect(et[0],et[1],it,pt),tt.clip(ot)}class h{constructor(){this.constructor===h&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,a.unreachable)("Abstract method `getPattern` called.")}}class g extends h{constructor(et){super(),this._type=et[1],this._bbox=et[2],this._colorStops=et[3],this._p0=et[4],this._p1=et[5],this._r0=et[6],this._r1=et[7],this.matrix=null}_createGradient(et){let it;this._type==="axial"?it=et.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(it=et.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const pt of this._colorStops)it.addColorStop(pt[0],pt[1]);return it}getPattern(et,it,pt,ot){let at;if(ot===c.STROKE||ot===c.FILL){const xt=it.current.getClippedPathBoundingBox(ot,(0,o.getCurrentTransform)(et))||[0,0,0,0],gt=Math.ceil(xt[2]-xt[0])||1,ut=Math.ceil(xt[3]-xt[1])||1,Et=it.cachedCanvases.getCanvas("pattern",gt,ut,!0),vt=Et.context;vt.clearRect(0,0,vt.canvas.width,vt.canvas.height),vt.beginPath(),vt.rect(0,0,vt.canvas.width,vt.canvas.height),vt.translate(-xt[0],-xt[1]),pt=a.Util.transform(pt,[1,0,0,1,xt[0],xt[1]]),vt.transform(...it.baseTransform),this.matrix&&vt.transform(...this.matrix),d(vt,this._bbox),vt.fillStyle=this._createGradient(vt),vt.fill(),at=et.createPattern(Et.canvas,"no-repeat");const _t=new DOMMatrix(pt);at.setTransform(_t)}else d(et,this._bbox),at=this._createGradient(et);return at}}function b(tt,et,it,pt,ot,at,xt,gt){const ut=et.coords,Et=et.colors,vt=tt.data,_t=tt.width*4;let jt;ut[it+1]>ut[pt+1]&&(jt=it,it=pt,pt=jt,jt=at,at=xt,xt=jt),ut[pt+1]>ut[ot+1]&&(jt=pt,pt=ot,ot=jt,jt=xt,xt=gt,gt=jt),ut[it+1]>ut[pt+1]&&(jt=it,it=pt,pt=jt,jt=at,at=xt,xt=jt);const kt=(ut[it]+et.offsetX)*et.scaleX,It=(ut[it+1]+et.offsetY)*et.scaleY,Vt=(ut[pt]+et.offsetX)*et.scaleX,Ht=(ut[pt+1]+et.offsetY)*et.scaleY,St=(ut[ot]+et.offsetX)*et.scaleX,Nt=(ut[ot+1]+et.offsetY)*et.scaleY;if(It>=Nt)return;const bt=Et[at],Qt=Et[at+1],nn=Et[at+2],dt=Et[xt],ct=Et[xt+1],mt=Et[xt+2],ht=Et[gt],yt=Et[gt+1],wt=Et[gt+2],Ct=Math.round(It),Rt=Math.round(Nt);let Mt,Wt,Xt,Zt,tn,dn,rn,vn;for(let Rn=Ct;Rn<=Rt;Rn++){if(Rn<Ht){const qt=Rn<It?0:(It-Rn)/(It-Ht);Mt=kt-(kt-Vt)*qt,Wt=bt-(bt-dt)*qt,Xt=Qt-(Qt-ct)*qt,Zt=nn-(nn-mt)*qt}else{let qt;Rn>Nt?qt=1:Ht===Nt?qt=0:qt=(Ht-Rn)/(Ht-Nt),Mt=Vt-(Vt-St)*qt,Wt=dt-(dt-ht)*qt,Xt=ct-(ct-yt)*qt,Zt=mt-(mt-wt)*qt}let pn;Rn<It?pn=0:Rn>Nt?pn=1:pn=(It-Rn)/(It-Nt),tn=kt-(kt-St)*pn,dn=bt-(bt-ht)*pn,rn=Qt-(Qt-yt)*pn,vn=nn-(nn-wt)*pn;const kn=Math.round(Math.min(Mt,tn)),an=Math.round(Math.max(Mt,tn));let Gt=_t*Rn+kn*4;for(let qt=kn;qt<=an;qt++)pn=(Mt-qt)/(Mt-tn),pn<0?pn=0:pn>1&&(pn=1),vt[Gt++]=Wt-(Wt-dn)*pn|0,vt[Gt++]=Xt-(Xt-rn)*pn|0,vt[Gt++]=Zt-(Zt-vn)*pn|0,vt[Gt++]=255}}function _(tt,et,it){const pt=et.coords,ot=et.colors;let at,xt;switch(et.type){case"lattice":const gt=et.verticesPerRow,ut=Math.floor(pt.length/gt)-1,Et=gt-1;for(at=0;at<ut;at++){let vt=at*gt;for(let _t=0;_t<Et;_t++,vt++)b(tt,it,pt[vt],pt[vt+1],pt[vt+gt],ot[vt],ot[vt+1],ot[vt+gt]),b(tt,it,pt[vt+gt+1],pt[vt+1],pt[vt+gt],ot[vt+gt+1],ot[vt+1],ot[vt+gt])}break;case"triangles":for(at=0,xt=pt.length;at<xt;at+=3)b(tt,it,pt[at],pt[at+1],pt[at+2],ot[at],ot[at+1],ot[at+2]);break;default:throw new Error("illegal figure")}}class j extends h{constructor(et){super(),this._coords=et[2],this._colors=et[3],this._figures=et[4],this._bounds=et[5],this._bbox=et[7],this._background=et[8],this.matrix=null}_createMeshCanvas(et,it,pt){const gt=Math.floor(this._bounds[0]),ut=Math.floor(this._bounds[1]),Et=Math.ceil(this._bounds[2])-gt,vt=Math.ceil(this._bounds[3])-ut,_t=Math.min(Math.ceil(Math.abs(Et*et[0]*1.1)),3e3),jt=Math.min(Math.ceil(Math.abs(vt*et[1]*1.1)),3e3),kt=Et/_t,It=vt/jt,Vt={coords:this._coords,colors:this._colors,offsetX:-gt,offsetY:-ut,scaleX:1/kt,scaleY:1/It},Ht=_t+2*2,St=jt+2*2,Nt=pt.getCanvas("mesh",Ht,St,!1),bt=Nt.context,Qt=bt.createImageData(_t,jt);if(it){const dt=Qt.data;for(let ct=0,mt=dt.length;ct<mt;ct+=4)dt[ct]=it[0],dt[ct+1]=it[1],dt[ct+2]=it[2],dt[ct+3]=255}for(const dt of this._figures)_(Qt,dt,Vt);return bt.putImageData(Qt,2,2),{canvas:Nt.canvas,offsetX:gt-2*kt,offsetY:ut-2*It,scaleX:kt,scaleY:It}}getPattern(et,it,pt,ot){d(et,this._bbox);let at;if(ot===c.SHADING)at=a.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(et));else if(at=a.Util.singularValueDecompose2dScale(it.baseTransform),this.matrix){const gt=a.Util.singularValueDecompose2dScale(this.matrix);at=[at[0]*gt[0],at[1]*gt[1]]}const xt=this._createMeshCanvas(at,ot===c.SHADING?null:this._background,it.cachedCanvases);return ot!==c.SHADING&&(et.setTransform(...it.baseTransform),this.matrix&&et.transform(...this.matrix)),et.translate(xt.offsetX,xt.offsetY),et.scale(xt.scaleX,xt.scaleY),et.createPattern(xt.canvas,"no-repeat")}}class $ extends h{getPattern(){return"hotpink"}}function _e(tt){switch(tt[0]){case"RadialAxial":return new g(tt);case"Mesh":return new j(tt);case"Dummy":return new $}throw new Error(`Unknown IR type: ${tt[0]}`)}const rt={COLORED:1,UNCOLORED:2},st=class st{constructor(et,it,pt,ot,at){this.operatorList=et[2],this.matrix=et[3]||[1,0,0,1,0,0],this.bbox=et[4],this.xstep=et[5],this.ystep=et[6],this.paintType=et[7],this.tilingType=et[8],this.color=it,this.ctx=pt,this.canvasGraphicsFactory=ot,this.baseTransform=at}createPatternCanvas(et){const it=this.operatorList,pt=this.bbox,ot=this.xstep,at=this.ystep,xt=this.paintType,gt=this.tilingType,ut=this.color,Et=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+gt);const vt=pt[0],_t=pt[1],jt=pt[2],kt=pt[3],It=a.Util.singularValueDecompose2dScale(this.matrix),Vt=a.Util.singularValueDecompose2dScale(this.baseTransform),Ht=[It[0]*Vt[0],It[1]*Vt[1]],St=this.getSizeAndScale(ot,this.ctx.canvas.width,Ht[0]),Nt=this.getSizeAndScale(at,this.ctx.canvas.height,Ht[1]),bt=et.cachedCanvases.getCanvas("pattern",St.size,Nt.size,!0),Qt=bt.context,nn=Et.createCanvasGraphics(Qt);nn.groupLevel=et.groupLevel,this.setFillAndStrokeStyleToContext(nn,xt,ut);let dt=vt,ct=_t,mt=jt,ht=kt;return vt<0&&(dt=0,mt+=Math.abs(vt)),_t<0&&(ct=0,ht+=Math.abs(_t)),Qt.translate(-(St.scale*dt),-(Nt.scale*ct)),nn.transform(St.scale,0,0,Nt.scale,0,0),Qt.save(),this.clipBbox(nn,dt,ct,mt,ht),nn.baseTransform=(0,o.getCurrentTransform)(nn.ctx),nn.executeOperatorList(it),nn.endDrawing(),{canvas:bt.canvas,scaleX:St.scale,scaleY:Nt.scale,offsetX:dt,offsetY:ct}}getSizeAndScale(et,it,pt){et=Math.abs(et);const ot=Math.max(st.MAX_PATTERN_SIZE,it);let at=Math.ceil(et*pt);return at>=ot?at=ot:pt=at/et,{scale:pt,size:at}}clipBbox(et,it,pt,ot,at){const xt=ot-it,gt=at-pt;et.ctx.rect(it,pt,xt,gt),et.current.updateRectMinMax((0,o.getCurrentTransform)(et.ctx),[it,pt,ot,at]),et.clip(),et.endPath()}setFillAndStrokeStyleToContext(et,it,pt){const ot=et.ctx,at=et.current;switch(it){case rt.COLORED:const xt=this.ctx;ot.fillStyle=xt.fillStyle,ot.strokeStyle=xt.strokeStyle,at.fillColor=xt.fillStyle,at.strokeColor=xt.strokeStyle;break;case rt.UNCOLORED:const gt=a.Util.makeHexColor(pt[0],pt[1],pt[2]);ot.fillStyle=gt,ot.strokeStyle=gt,at.fillColor=gt,at.strokeColor=gt;break;default:throw new a.FormatError(`Unsupported paint type: ${it}`)}}getPattern(et,it,pt,ot){let at=pt;ot!==c.SHADING&&(at=a.Util.transform(at,it.baseTransform),this.matrix&&(at=a.Util.transform(at,this.matrix)));const xt=this.createPatternCanvas(it);let gt=new DOMMatrix(at);gt=gt.translate(xt.offsetX,xt.offsetY),gt=gt.scale(1/xt.scaleX,1/xt.scaleY);const ut=et.createPattern(xt.canvas,"repeat");return ut.setTransform(gt),ut}};Un(st,"MAX_PATTERN_SIZE",3e3);let nt=st;i.TilingPattern=nt},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.convertBlackAndWhiteToRGBA=c,i.convertToRGBA=o,i.grayToRGBA=h;var a=s(1);function o(g){switch(g.kind){case a.ImageKind.GRAYSCALE_1BPP:return c(g);case a.ImageKind.RGB_24BPP:return d(g)}return null}function c({src:g,srcPos:b=0,dest:_,width:j,height:$,nonBlackColor:_e=4294967295,inverseDecode:rt=!1}){const nt=a.FeatureTest.isLittleEndian?4278190080:255,[st,tt]=rt?[_e,nt]:[nt,_e],et=j>>3,it=j&7,pt=g.length;_=new Uint32Array(_.buffer);let ot=0;for(let at=0;at<$;at++){for(const gt=b+et;b<gt;b++){const ut=b<pt?g[b]:255;_[ot++]=ut&128?tt:st,_[ot++]=ut&64?tt:st,_[ot++]=ut&32?tt:st,_[ot++]=ut&16?tt:st,_[ot++]=ut&8?tt:st,_[ot++]=ut&4?tt:st,_[ot++]=ut&2?tt:st,_[ot++]=ut&1?tt:st}if(it===0)continue;const xt=b<pt?g[b++]:255;for(let gt=0;gt<it;gt++)_[ot++]=xt&1<<7-gt?tt:st}return{srcPos:b,destPos:ot}}function d({src:g,srcPos:b=0,dest:_,destPos:j=0,width:$,height:_e}){let rt=0;const nt=g.length>>2,st=new Uint32Array(g.buffer,b,nt);if(a.FeatureTest.isLittleEndian){for(;rt<nt-2;rt+=3,j+=4){const tt=st[rt],et=st[rt+1],it=st[rt+2];_[j]=tt|4278190080,_[j+1]=tt>>>24|et<<8|4278190080,_[j+2]=et>>>16|it<<16|4278190080,_[j+3]=it>>>8|4278190080}for(let tt=rt*4,et=g.length;tt<et;tt+=3)_[j++]=g[tt]|g[tt+1]<<8|g[tt+2]<<16|4278190080}else{for(;rt<nt-2;rt+=3,j+=4){const tt=st[rt],et=st[rt+1],it=st[rt+2];_[j]=tt|255,_[j+1]=tt<<24|et>>>8|255,_[j+2]=et<<16|it>>>16|255,_[j+3]=it<<8|255}for(let tt=rt*4,et=g.length;tt<et;tt+=3)_[j++]=g[tt]<<24|g[tt+1]<<16|g[tt+2]<<8|255}return{srcPos:b,destPos:j}}function h(g,b){if(a.FeatureTest.isLittleEndian)for(let _=0,j=g.length;_<j;_++)b[_]=g[_]*65793|4278190080;else for(let _=0,j=g.length;_<j;_++)b[_]=g[_]*16843008|255}},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GlobalWorkerOptions=void 0;const s=Object.create(null);i.GlobalWorkerOptions=s,s.workerPort=null,s.workerSrc=""},(e,i,s)=>{var g,ys,_,vs,$,gr;Object.defineProperty(i,"__esModule",{value:!0}),i.MessageHandler=void 0;var a=s(1);const o={UNKNOWN:0,DATA:1,ERROR:2},c={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function d(rt){switch(rt instanceof Error||typeof rt=="object"&&rt!==null||(0,a.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),rt.name){case"AbortException":return new a.AbortException(rt.message);case"MissingPDFException":return new a.MissingPDFException(rt.message);case"PasswordException":return new a.PasswordException(rt.message,rt.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException(rt.message,rt.status);case"UnknownErrorException":return new a.UnknownErrorException(rt.message,rt.details);default:return new a.UnknownErrorException(rt.message,rt.toString())}}class h{constructor(nt,st,tt){Lt(this,g);Lt(this,_);Lt(this,$);this.sourceName=nt,this.targetName=st,this.comObj=tt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=et=>{const it=et.data;if(it.targetName!==this.sourceName)return;if(it.stream){Bt(this,_,vs).call(this,it);return}if(it.callback){const ot=it.callbackId,at=this.callbackCapabilities[ot];if(!at)throw new Error(`Cannot resolve callback ${ot}`);if(delete this.callbackCapabilities[ot],it.callback===o.DATA)at.resolve(it.data);else if(it.callback===o.ERROR)at.reject(d(it.reason));else throw new Error("Unexpected callback case");return}const pt=this.actionHandler[it.action];if(!pt)throw new Error(`Unknown action from worker: ${it.action}`);if(it.callbackId){const ot=this.sourceName,at=it.sourceName;new Promise(function(xt){xt(pt(it.data))}).then(function(xt){tt.postMessage({sourceName:ot,targetName:at,callback:o.DATA,callbackId:it.callbackId,data:xt})},function(xt){tt.postMessage({sourceName:ot,targetName:at,callback:o.ERROR,callbackId:it.callbackId,reason:d(xt)})});return}if(it.streamId){Bt(this,g,ys).call(this,it);return}pt(it.data)},tt.addEventListener("message",this._onComObjOnMessage)}on(nt,st){const tt=this.actionHandler;if(tt[nt])throw new Error(`There is already an actionName called "${nt}"`);tt[nt]=st}send(nt,st,tt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:nt,data:st},tt)}sendWithPromise(nt,st,tt){const et=this.callbackId++,it=new a.PromiseCapability;this.callbackCapabilities[et]=it;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:nt,callbackId:et,data:st},tt)}catch(pt){it.reject(pt)}return it.promise}sendWithStream(nt,st,tt,et){const it=this.streamId++,pt=this.sourceName,ot=this.targetName,at=this.comObj;return new ReadableStream({start:xt=>{const gt=new a.PromiseCapability;return this.streamControllers[it]={controller:xt,startCall:gt,pullCall:null,cancelCall:null,isClosed:!1},at.postMessage({sourceName:pt,targetName:ot,action:nt,streamId:it,data:st,desiredSize:xt.desiredSize},et),gt.promise},pull:xt=>{const gt=new a.PromiseCapability;return this.streamControllers[it].pullCall=gt,at.postMessage({sourceName:pt,targetName:ot,stream:c.PULL,streamId:it,desiredSize:xt.desiredSize}),gt.promise},cancel:xt=>{(0,a.assert)(xt instanceof Error,"cancel must have a valid reason");const gt=new a.PromiseCapability;return this.streamControllers[it].cancelCall=gt,this.streamControllers[it].isClosed=!0,at.postMessage({sourceName:pt,targetName:ot,stream:c.CANCEL,streamId:it,reason:d(xt)}),gt.promise}},tt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}g=new WeakSet,ys=function(nt){const st=nt.streamId,tt=this.sourceName,et=nt.sourceName,it=this.comObj,pt=this,ot=this.actionHandler[nt.action],at={enqueue(xt,gt=1,ut){if(this.isCancelled)return;const Et=this.desiredSize;this.desiredSize-=gt,Et>0&&this.desiredSize<=0&&(this.sinkCapability=new a.PromiseCapability,this.ready=this.sinkCapability.promise),it.postMessage({sourceName:tt,targetName:et,stream:c.ENQUEUE,streamId:st,chunk:xt},ut)},close(){this.isCancelled||(this.isCancelled=!0,it.postMessage({sourceName:tt,targetName:et,stream:c.CLOSE,streamId:st}),delete pt.streamSinks[st])},error(xt){(0,a.assert)(xt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,it.postMessage({sourceName:tt,targetName:et,stream:c.ERROR,streamId:st,reason:d(xt)}))},sinkCapability:new a.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:nt.desiredSize,ready:null};at.sinkCapability.resolve(),at.ready=at.sinkCapability.promise,this.streamSinks[st]=at,new Promise(function(xt){xt(ot(nt.data,at))}).then(function(){it.postMessage({sourceName:tt,targetName:et,stream:c.START_COMPLETE,streamId:st,success:!0})},function(xt){it.postMessage({sourceName:tt,targetName:et,stream:c.START_COMPLETE,streamId:st,reason:d(xt)})})},_=new WeakSet,vs=function(nt){const st=nt.streamId,tt=this.sourceName,et=nt.sourceName,it=this.comObj,pt=this.streamControllers[st],ot=this.streamSinks[st];switch(nt.stream){case c.START_COMPLETE:nt.success?pt.startCall.resolve():pt.startCall.reject(d(nt.reason));break;case c.PULL_COMPLETE:nt.success?pt.pullCall.resolve():pt.pullCall.reject(d(nt.reason));break;case c.PULL:if(!ot){it.postMessage({sourceName:tt,targetName:et,stream:c.PULL_COMPLETE,streamId:st,success:!0});break}ot.desiredSize<=0&&nt.desiredSize>0&&ot.sinkCapability.resolve(),ot.desiredSize=nt.desiredSize,new Promise(function(at){var xt;at((xt=ot.onPull)==null?void 0:xt.call(ot))}).then(function(){it.postMessage({sourceName:tt,targetName:et,stream:c.PULL_COMPLETE,streamId:st,success:!0})},function(at){it.postMessage({sourceName:tt,targetName:et,stream:c.PULL_COMPLETE,streamId:st,reason:d(at)})});break;case c.ENQUEUE:if((0,a.assert)(pt,"enqueue should have stream controller"),pt.isClosed)break;pt.controller.enqueue(nt.chunk);break;case c.CLOSE:if((0,a.assert)(pt,"close should have stream controller"),pt.isClosed)break;pt.isClosed=!0,pt.controller.close(),Bt(this,$,gr).call(this,pt,st);break;case c.ERROR:(0,a.assert)(pt,"error should have stream controller"),pt.controller.error(d(nt.reason)),Bt(this,$,gr).call(this,pt,st);break;case c.CANCEL_COMPLETE:nt.success?pt.cancelCall.resolve():pt.cancelCall.reject(d(nt.reason)),Bt(this,$,gr).call(this,pt,st);break;case c.CANCEL:if(!ot)break;new Promise(function(at){var xt;at((xt=ot.onCancel)==null?void 0:xt.call(ot,d(nt.reason)))}).then(function(){it.postMessage({sourceName:tt,targetName:et,stream:c.CANCEL_COMPLETE,streamId:st,success:!0})},function(at){it.postMessage({sourceName:tt,targetName:et,stream:c.CANCEL_COMPLETE,streamId:st,reason:d(at)})}),ot.sinkCapability.reject(d(nt.reason)),ot.isCancelled=!0,delete this.streamSinks[st];break;default:throw new Error("Unexpected stream case")}},$=new WeakSet,gr=async function(nt,st){var tt,et,it;await Promise.allSettled([(tt=nt.startCall)==null?void 0:tt.promise,(et=nt.pullCall)==null?void 0:et.promise,(it=nt.cancelCall)==null?void 0:it.promise]),delete this.streamControllers[st]},i.MessageHandler=h},(e,i,s)=>{var c,d;Object.defineProperty(i,"__esModule",{value:!0}),i.Metadata=void 0;var a=s(1);class o{constructor({parsedData:g,rawData:b}){Lt(this,c,void 0);Lt(this,d,void 0);Kt(this,c,g),Kt(this,d,b)}getRaw(){return lt(this,d)}get(g){return lt(this,c).get(g)??null}getAll(){return(0,a.objectFromMap)(lt(this,c))}has(g){return lt(this,c).has(g)}}c=new WeakMap,d=new WeakMap,i.Metadata=o},(e,i,s)=>{var g,b,_,j,$,_e,$r;Object.defineProperty(i,"__esModule",{value:!0}),i.OptionalContentConfig=void 0;var a=s(1),o=s(8);const c=Symbol("INTERNAL");class d{constructor(st,tt){Lt(this,g,!0);this.name=st,this.intent=tt}get visible(){return lt(this,g)}_setVisible(st,tt){st!==c&&(0,a.unreachable)("Internal method `_setVisible` called."),Kt(this,g,tt)}}g=new WeakMap;class h{constructor(st){Lt(this,_e);Lt(this,b,null);Lt(this,_,new Map);Lt(this,j,null);Lt(this,$,null);if(this.name=null,this.creator=null,st!==null){this.name=st.name,this.creator=st.creator,Kt(this,$,st.order);for(const tt of st.groups)lt(this,_).set(tt.id,new d(tt.name,tt.intent));if(st.baseState==="OFF")for(const tt of lt(this,_).values())tt._setVisible(c,!1);for(const tt of st.on)lt(this,_).get(tt)._setVisible(c,!0);for(const tt of st.off)lt(this,_).get(tt)._setVisible(c,!1);Kt(this,j,this.getHash())}}isVisible(st){if(lt(this,_).size===0)return!0;if(!st)return(0,a.warn)("Optional content group not defined."),!0;if(st.type==="OCG")return lt(this,_).has(st.id)?lt(this,_).get(st.id).visible:((0,a.warn)(`Optional content group not found: ${st.id}`),!0);if(st.type==="OCMD"){if(st.expression)return Bt(this,_e,$r).call(this,st.expression);if(!st.policy||st.policy==="AnyOn"){for(const tt of st.ids){if(!lt(this,_).has(tt))return(0,a.warn)(`Optional content group not found: ${tt}`),!0;if(lt(this,_).get(tt).visible)return!0}return!1}else if(st.policy==="AllOn"){for(const tt of st.ids){if(!lt(this,_).has(tt))return(0,a.warn)(`Optional content group not found: ${tt}`),!0;if(!lt(this,_).get(tt).visible)return!1}return!0}else if(st.policy==="AnyOff"){for(const tt of st.ids){if(!lt(this,_).has(tt))return(0,a.warn)(`Optional content group not found: ${tt}`),!0;if(!lt(this,_).get(tt).visible)return!0}return!1}else if(st.policy==="AllOff"){for(const tt of st.ids){if(!lt(this,_).has(tt))return(0,a.warn)(`Optional content group not found: ${tt}`),!0;if(lt(this,_).get(tt).visible)return!1}return!0}return(0,a.warn)(`Unknown optional content policy ${st.policy}.`),!0}return(0,a.warn)(`Unknown group type ${st.type}.`),!0}setVisibility(st,tt=!0){if(!lt(this,_).has(st)){(0,a.warn)(`Optional content group not found: ${st}`);return}lt(this,_).get(st)._setVisible(c,!!tt),Kt(this,b,null)}get hasInitialVisibility(){return lt(this,j)===null||this.getHash()===lt(this,j)}getOrder(){return lt(this,_).size?lt(this,$)?lt(this,$).slice():[...lt(this,_).keys()]:null}getGroups(){return lt(this,_).size>0?(0,a.objectFromMap)(lt(this,_)):null}getGroup(st){return lt(this,_).get(st)||null}getHash(){if(lt(this,b)!==null)return lt(this,b);const st=new o.MurmurHash3_64;for(const[tt,et]of lt(this,_))st.update(`${tt}:${et.visible}`);return Kt(this,b,st.hexdigest())}}b=new WeakMap,_=new WeakMap,j=new WeakMap,$=new WeakMap,_e=new WeakSet,$r=function(st){const tt=st.length;if(tt<2)return!0;const et=st[0];for(let it=1;it<tt;it++){const pt=st[it];let ot;if(Array.isArray(pt))ot=Bt(this,_e,$r).call(this,pt);else if(lt(this,_).has(pt))ot=lt(this,_).get(pt).visible;else return(0,a.warn)(`Optional content group not found: ${pt}`),!0;switch(et){case"And":if(!ot)return!1;break;case"Or":if(ot)return!0;break;case"Not":return!ot;default:return!0}}return et==="And"},i.OptionalContentConfig=h},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFDataTransportStream=void 0;var a=s(1),o=s(6);class c{constructor({length:b,initialData:_,progressiveDone:j=!1,contentDispositionFilename:$=null,disableRange:_e=!1,disableStream:rt=!1},nt){if((0,a.assert)(nt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=j,this._contentDispositionFilename=$,(_==null?void 0:_.length)>0){const st=_ instanceof Uint8Array&&_.byteLength===_.buffer.byteLength?_.buffer:new Uint8Array(_).buffer;this._queuedChunks.push(st)}this._pdfDataRangeTransport=nt,this._isStreamingSupported=!rt,this._isRangeSupported=!_e,this._contentLength=b,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((st,tt)=>{this._onReceiveData({begin:st,chunk:tt})}),this._pdfDataRangeTransport.addProgressListener((st,tt)=>{this._onProgress({loaded:st,total:tt})}),this._pdfDataRangeTransport.addProgressiveReadListener(st=>{this._onReceiveData({chunk:st})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:b,chunk:_}){const j=_ instanceof Uint8Array&&_.byteLength===_.buffer.byteLength?_.buffer:new Uint8Array(_).buffer;if(b===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(j):this._queuedChunks.push(j);else{const $=this._rangeReaders.some(function(_e){return _e._begin!==b?!1:(_e._enqueue(j),!0)});(0,a.assert)($,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var b;return((b=this._fullRequestReader)==null?void 0:b._loaded)??0}_onProgress(b){var _,j,$,_e;b.total===void 0?(j=(_=this._rangeReaders[0])==null?void 0:_.onProgress)==null||j.call(_,{loaded:b.loaded}):(_e=($=this._fullRequestReader)==null?void 0:$.onProgress)==null||_e.call($,{loaded:b.loaded,total:b.total})}_onProgressiveDone(){var b;(b=this._fullRequestReader)==null||b.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(b){const _=this._rangeReaders.indexOf(b);_>=0&&this._rangeReaders.splice(_,1)}getFullReader(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const b=this._queuedChunks;return this._queuedChunks=null,new d(this,b,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(b,_){if(_<=this._progressiveDataLength)return null;const j=new h(this,b,_);return this._pdfDataRangeTransport.requestDataRange(b,_),this._rangeReaders.push(j),j}cancelAllRequests(b){var _;(_=this._fullRequestReader)==null||_.cancel(b);for(const j of this._rangeReaders.slice(0))j.cancel(b);this._pdfDataRangeTransport.abort()}}i.PDFDataTransportStream=c;class d{constructor(b,_,j=!1,$=null){this._stream=b,this._done=j||!1,this._filename=(0,o.isPdfFile)($)?$:null,this._queuedChunks=_||[],this._loaded=0;for(const _e of this._queuedChunks)this._loaded+=_e.byteLength;this._requests=[],this._headersReady=Promise.resolve(),b._fullRequestReader=this,this.onProgress=null}_enqueue(b){this._done||(this._requests.length>0?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunks.push(b),this._loaded+=b.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const b=new a.PromiseCapability;return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class h{constructor(b,_,j){this._stream=b,this._begin=_,this._end=j,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(b){if(!this._done){if(this._requests.length===0)this._queuedChunk=b;else{this._requests.shift().resolve({value:b,done:!1});for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const _=this._queuedChunk;return this._queuedChunk=null,{value:_,done:!1}}if(this._done)return{value:void 0,done:!0};const b=new a.PromiseCapability;return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFFetchStream=void 0;var a=s(1),o=s(20);function c(j,$,_e){return{method:"GET",headers:j,signal:_e.signal,mode:"cors",credentials:$?"include":"same-origin",redirect:"follow"}}function d(j){const $=new Headers;for(const _e in j){const rt=j[_e];rt!==void 0&&$.append(_e,rt)}return $}function h(j){return j instanceof Uint8Array?j.buffer:j instanceof ArrayBuffer?j:((0,a.warn)(`getArrayBuffer - unexpected data format: ${j}`),new Uint8Array(j).buffer)}class g{constructor($){this.source=$,this.isHttp=/^https?:/i.test($.url),this.httpHeaders=this.isHttp&&$.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new b(this),this._fullRequestReader}getRangeReader($,_e){if(_e<=this._progressiveDataLength)return null;const rt=new _(this,$,_e);return this._rangeRequestReaders.push(rt),rt}cancelAllRequests($){var _e;(_e=this._fullRequestReader)==null||_e.cancel($);for(const rt of this._rangeRequestReaders.slice(0))rt.cancel($)}}i.PDFFetchStream=g;class b{constructor($){this._stream=$,this._reader=null,this._loaded=0,this._filename=null;const _e=$.source;this._withCredentials=_e.withCredentials||!1,this._contentLength=_e.length,this._headersCapability=new a.PromiseCapability,this._disableRange=_e.disableRange||!1,this._rangeChunkSize=_e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!_e.disableStream,this._isRangeSupported=!_e.disableRange,this._headers=d(this._stream.httpHeaders);const rt=_e.url;fetch(rt,c(this._headers,this._withCredentials,this._abortController)).then(nt=>{if(!(0,o.validateResponseStatus)(nt.status))throw(0,o.createResponseStatusError)(nt.status,rt);this._reader=nt.body.getReader(),this._headersCapability.resolve();const st=it=>nt.headers.get(it),{allowRangeRequests:tt,suggestedLength:et}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:st,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=tt,this._contentLength=et||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(st),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var rt;await this._headersCapability.promise;const{value:$,done:_e}=await this._reader.read();return _e?{value:$,done:_e}:(this._loaded+=$.byteLength,(rt=this.onProgress)==null||rt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:h($),done:!1})}cancel($){var _e;(_e=this._reader)==null||_e.cancel($),this._abortController.abort()}}class _{constructor($,_e,rt){this._stream=$,this._reader=null,this._loaded=0;const nt=$.source;this._withCredentials=nt.withCredentials||!1,this._readCapability=new a.PromiseCapability,this._isStreamingSupported=!nt.disableStream,this._abortController=new AbortController,this._headers=d(this._stream.httpHeaders),this._headers.append("Range",`bytes=${_e}-${rt-1}`);const st=nt.url;fetch(st,c(this._headers,this._withCredentials,this._abortController)).then(tt=>{if(!(0,o.validateResponseStatus)(tt.status))throw(0,o.createResponseStatusError)(tt.status,st);this._readCapability.resolve(),this._reader=tt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var rt;await this._readCapability.promise;const{value:$,done:_e}=await this._reader.read();return _e?{value:$,done:_e}:(this._loaded+=$.byteLength,(rt=this.onProgress)==null||rt.call(this,{loaded:this._loaded}),{value:h($),done:!1})}cancel($){var _e;(_e=this._reader)==null||_e.cancel($),this._abortController.abort()}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createResponseStatusError=g,i.extractFilenameFromHeader=h,i.validateRangeRequestCapabilities=d,i.validateResponseStatus=b;var a=s(1),o=s(21),c=s(6);function d({getResponseHeader:_,isHttp:j,rangeChunkSize:$,disableRange:_e}){const rt={allowRangeRequests:!1,suggestedLength:void 0},nt=parseInt(_("Content-Length"),10);return!Number.isInteger(nt)||(rt.suggestedLength=nt,nt<=2*$)||_e||!j||_("Accept-Ranges")!=="bytes"||(_("Content-Encoding")||"identity")!=="identity"||(rt.allowRangeRequests=!0),rt}function h(_){const j=_("Content-Disposition");if(j){let $=(0,o.getFilenameFromContentDispositionHeader)(j);if($.includes("%"))try{$=decodeURIComponent($)}catch{}if((0,c.isPdfFile)($))return $}return null}function g(_,j){return _===404||_===0&&j.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+j+'".'):new a.UnexpectedResponseException(`Unexpected server response (${_}) while retrieving PDF "${j}".`,_)}function b(_){return _===200||_===206}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getFilenameFromContentDispositionHeader=o;var a=s(1);function o(c){let d=!0,h=g("filename\\*","i").exec(c);if(h){h=h[1];let nt=$(h);return nt=unescape(nt),nt=_e(nt),nt=rt(nt),_(nt)}if(h=j(c),h){const nt=rt(h);return _(nt)}if(h=g("filename","i").exec(c),h){h=h[1];let nt=$(h);return nt=rt(nt),_(nt)}function g(nt,st){return new RegExp("(?:^|;)\\s*"+nt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',st)}function b(nt,st){if(nt){if(!/^[\x00-\xFF]+$/.test(st))return st;try{const tt=new TextDecoder(nt,{fatal:!0}),et=(0,a.stringToBytes)(st);st=tt.decode(et),d=!1}catch{}}return st}function _(nt){return d&&/[\x80-\xff]/.test(nt)&&(nt=b("utf-8",nt),d&&(nt=b("iso-8859-1",nt))),nt}function j(nt){const st=[];let tt;const et=g("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(tt=et.exec(nt))!==null;){let[,pt,ot,at]=tt;if(pt=parseInt(pt,10),pt in st){if(pt===0)break;continue}st[pt]=[ot,at]}const it=[];for(let pt=0;pt<st.length&&pt in st;++pt){let[ot,at]=st[pt];at=$(at),ot&&(at=unescape(at),pt===0&&(at=_e(at))),it.push(at)}return it.join("")}function $(nt){if(nt.startsWith('"')){const st=nt.slice(1).split('\\"');for(let tt=0;tt<st.length;++tt){const et=st[tt].indexOf('"');et!==-1&&(st[tt]=st[tt].slice(0,et),st.length=tt+1),st[tt]=st[tt].replaceAll(/\\(.)/g,"$1")}nt=st.join('"')}return nt}function _e(nt){const st=nt.indexOf("'");if(st===-1)return nt;const tt=nt.slice(0,st),it=nt.slice(st+1).replace(/^[^']*'/,"");return b(tt,it)}function rt(nt){return!nt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(nt)?nt:nt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(st,tt,et,it){if(et==="q"||et==="Q")return it=it.replaceAll("_"," "),it=it.replaceAll(/=([0-9a-fA-F]{2})/g,function(pt,ot){return String.fromCharCode(parseInt(ot,16))}),b(tt,it);try{it=atob(it)}catch{}return b(tt,it)})}return""}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNetworkStream=void 0;var a=s(1),o=s(20);const c=200,d=206;function h($){const _e=$.response;return typeof _e!="string"?_e:(0,a.stringToBytes)(_e).buffer}class g{constructor(_e,rt={}){this.url=_e,this.isHttp=/^https?:/i.test(_e),this.httpHeaders=this.isHttp&&rt.httpHeaders||Object.create(null),this.withCredentials=rt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(_e,rt,nt){const st={begin:_e,end:rt};for(const tt in nt)st[tt]=nt[tt];return this.request(st)}requestFull(_e){return this.request(_e)}request(_e){const rt=new XMLHttpRequest,nt=this.currXhrId++,st=this.pendingRequests[nt]={xhr:rt};rt.open("GET",this.url),rt.withCredentials=this.withCredentials;for(const tt in this.httpHeaders){const et=this.httpHeaders[tt];et!==void 0&&rt.setRequestHeader(tt,et)}return this.isHttp&&"begin"in _e&&"end"in _e?(rt.setRequestHeader("Range",`bytes=${_e.begin}-${_e.end-1}`),st.expectedStatus=d):st.expectedStatus=c,rt.responseType="arraybuffer",_e.onError&&(rt.onerror=function(tt){_e.onError(rt.status)}),rt.onreadystatechange=this.onStateChange.bind(this,nt),rt.onprogress=this.onProgress.bind(this,nt),st.onHeadersReceived=_e.onHeadersReceived,st.onDone=_e.onDone,st.onError=_e.onError,st.onProgress=_e.onProgress,rt.send(null),nt}onProgress(_e,rt){var st;const nt=this.pendingRequests[_e];nt&&((st=nt.onProgress)==null||st.call(nt,rt))}onStateChange(_e,rt){var pt,ot,at;const nt=this.pendingRequests[_e];if(!nt)return;const st=nt.xhr;if(st.readyState>=2&&nt.onHeadersReceived&&(nt.onHeadersReceived(),delete nt.onHeadersReceived),st.readyState!==4||!(_e in this.pendingRequests))return;if(delete this.pendingRequests[_e],st.status===0&&this.isHttp){(pt=nt.onError)==null||pt.call(nt,st.status);return}const tt=st.status||c;if(!(tt===c&&nt.expectedStatus===d)&&tt!==nt.expectedStatus){(ot=nt.onError)==null||ot.call(nt,st.status);return}const it=h(st);if(tt===d){const xt=st.getResponseHeader("Content-Range"),gt=/bytes (\d+)-(\d+)\/(\d+)/.exec(xt);nt.onDone({begin:parseInt(gt[1],10),chunk:it})}else it?nt.onDone({begin:0,chunk:it}):(at=nt.onError)==null||at.call(nt,st.status)}getRequestXhr(_e){return this.pendingRequests[_e].xhr}isPendingRequest(_e){return _e in this.pendingRequests}abortRequest(_e){const rt=this.pendingRequests[_e].xhr;delete this.pendingRequests[_e],rt.abort()}}class b{constructor(_e){this._source=_e,this._manager=new g(_e.url,{httpHeaders:_e.httpHeaders,withCredentials:_e.withCredentials}),this._rangeChunkSize=_e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(_e){const rt=this._rangeRequestReaders.indexOf(_e);rt>=0&&this._rangeRequestReaders.splice(rt,1)}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new _(this._manager,this._source),this._fullRequestReader}getRangeReader(_e,rt){const nt=new j(this._manager,_e,rt);return nt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(nt),nt}cancelAllRequests(_e){var rt;(rt=this._fullRequestReader)==null||rt.cancel(_e);for(const nt of this._rangeRequestReaders.slice(0))nt.cancel(_e)}}i.PDFNetworkStream=b;class _{constructor(_e,rt){this._manager=_e;const nt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=rt.url,this._fullRequestId=_e.requestFull(nt),this._headersReceivedCapability=new a.PromiseCapability,this._disableRange=rt.disableRange||!1,this._contentLength=rt.length,this._rangeChunkSize=rt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const _e=this._fullRequestId,rt=this._manager.getRequestXhr(_e),nt=et=>rt.getResponseHeader(et),{allowRangeRequests:st,suggestedLength:tt}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:nt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});st&&(this._isRangeSupported=!0),this._contentLength=tt||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(nt),this._isRangeSupported&&this._manager.abortRequest(_e),this._headersReceivedCapability.resolve()}_onDone(_e){if(_e&&(this._requests.length>0?this._requests.shift().resolve({value:_e.chunk,done:!1}):this._cachedChunks.push(_e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const rt of this._requests)rt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(_e){this._storedError=(0,o.createResponseStatusError)(_e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const rt of this._requests)rt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(_e){var rt;(rt=this.onProgress)==null||rt.call(this,{loaded:_e.loaded,total:_e.lengthComputable?_e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const _e=new a.PromiseCapability;return this._requests.push(_e),_e.promise}cancel(_e){this._done=!0,this._headersReceivedCapability.reject(_e);for(const rt of this._requests)rt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class j{constructor(_e,rt,nt){this._manager=_e;const st={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=_e.url,this._requestId=_e.requestRange(rt,nt,st),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var _e;(_e=this.onClosed)==null||_e.call(this,this)}_onDone(_e){const rt=_e.chunk;this._requests.length>0?this._requests.shift().resolve({value:rt,done:!1}):this._queuedChunk=rt,this._done=!0;for(const nt of this._requests)nt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(_e){this._storedError=(0,o.createResponseStatusError)(_e,this._url);for(const rt of this._requests)rt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(_e){var rt;this.isStreamingSupported||(rt=this.onProgress)==null||rt.call(this,{loaded:_e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const rt=this._queuedChunk;return this._queuedChunk=null,{value:rt,done:!1}}if(this._done)return{value:void 0,done:!0};const _e=new a.PromiseCapability;return this._requests.push(_e),_e.promise}cancel(_e){this._done=!0;for(const rt of this._requests)rt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNodeStream=void 0;var a=s(1),o=s(20);const c=/^file:\/\/\/[a-zA-Z]:\//;function d(nt){const st=require$$5,tt=st.parse(nt);return tt.protocol==="file:"||tt.host?tt:/^[a-z]:[/\\]/i.test(nt)?st.parse(`file:///${nt}`):(tt.host||(tt.protocol="file:"),tt)}class h{constructor(st){this.source=st,this.url=d(st.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&st.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var st;return((st=this._fullRequestReader)==null?void 0:st._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new _e(this):new j(this),this._fullRequestReader}getRangeReader(st,tt){if(tt<=this._progressiveDataLength)return null;const et=this.isFsUrl?new rt(this,st,tt):new $(this,st,tt);return this._rangeRequestReaders.push(et),et}cancelAllRequests(st){var tt;(tt=this._fullRequestReader)==null||tt.cancel(st);for(const et of this._rangeRequestReaders.slice(0))et.cancel(st)}}i.PDFNodeStream=h;class g{constructor(st){this._url=st.url,this._done=!1,this._storedError=null,this.onProgress=null;const tt=st.source;this._contentLength=tt.length,this._loaded=0,this._filename=null,this._disableRange=tt.disableRange||!1,this._rangeChunkSize=tt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!tt.disableStream,this._isRangeSupported=!tt.disableRange,this._readableStream=null,this._readCapability=new a.PromiseCapability,this._headersCapability=new a.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var et;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const st=this._readableStream.read();return st===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=st.length,(et=this.onProgress)==null||et.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(st).buffer,done:!1})}cancel(st){if(!this._readableStream){this._error(st);return}this._readableStream.destroy(st)}_error(st){this._storedError=st,this._readCapability.resolve()}_setReadableStream(st){this._readableStream=st,st.on("readable",()=>{this._readCapability.resolve()}),st.on("end",()=>{st.destroy(),this._done=!0,this._readCapability.resolve()}),st.on("error",tt=>{this._error(tt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new a.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class b{constructor(st){this._url=st.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new a.PromiseCapability;const tt=st.source;this._isStreamingSupported=!tt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var et;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const st=this._readableStream.read();return st===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=st.length,(et=this.onProgress)==null||et.call(this,{loaded:this._loaded}),{value:new Uint8Array(st).buffer,done:!1})}cancel(st){if(!this._readableStream){this._error(st);return}this._readableStream.destroy(st)}_error(st){this._storedError=st,this._readCapability.resolve()}_setReadableStream(st){this._readableStream=st,st.on("readable",()=>{this._readCapability.resolve()}),st.on("end",()=>{st.destroy(),this._done=!0,this._readCapability.resolve()}),st.on("error",tt=>{this._error(tt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function _(nt,st){return{protocol:nt.protocol,auth:nt.auth,host:nt.hostname,port:nt.port,path:nt.path,method:"GET",headers:st}}class j extends g{constructor(st){super(st);const tt=et=>{if(et.statusCode===404){const at=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=at,this._headersCapability.reject(at);return}this._headersCapability.resolve(),this._setReadableStream(et);const it=at=>this._readableStream.headers[at.toLowerCase()],{allowRangeRequests:pt,suggestedLength:ot}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:it,isHttp:st.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=pt,this._contentLength=ot||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(it)};if(this._request=null,this._url.protocol==="http:"){const et=require$$5;this._request=et.request(_(this._url,st.httpHeaders),tt)}else{const et=require$$5;this._request=et.request(_(this._url,st.httpHeaders),tt)}this._request.on("error",et=>{this._storedError=et,this._headersCapability.reject(et)}),this._request.end()}}class $ extends b{constructor(st,tt,et){super(st),this._httpHeaders={};for(const pt in st.httpHeaders){const ot=st.httpHeaders[pt];ot!==void 0&&(this._httpHeaders[pt]=ot)}this._httpHeaders.Range=`bytes=${tt}-${et-1}`;const it=pt=>{if(pt.statusCode===404){const ot=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ot;return}this._setReadableStream(pt)};if(this._request=null,this._url.protocol==="http:"){const pt=require$$5;this._request=pt.request(_(this._url,this._httpHeaders),it)}else{const pt=require$$5;this._request=pt.request(_(this._url,this._httpHeaders),it)}this._request.on("error",pt=>{this._storedError=pt}),this._request.end()}}class _e extends g{constructor(st){super(st);let tt=decodeURIComponent(this._url.path);c.test(this._url.href)&&(tt=tt.replace(/^\//,""));const et=require$$5;et.lstat(tt,(it,pt)=>{if(it){it.code==="ENOENT"&&(it=new a.MissingPDFException(`Missing PDF "${tt}".`)),this._storedError=it,this._headersCapability.reject(it);return}this._contentLength=pt.size,this._setReadableStream(et.createReadStream(tt)),this._headersCapability.resolve()})}}class rt extends b{constructor(st,tt,et){super(st);let it=decodeURIComponent(this._url.path);c.test(this._url.href)&&(it=it.replace(/^\//,""));const pt=require$$5;this._setReadableStream(pt.createReadStream(it,{start:tt,end:et-1}))}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SVGGraphics=void 0;var a=s(6),o=s(1);const c={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},d="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/1999/xlink",g=["butt","round","square"],b=["miter","round","bevel"],_=function(pt,ot="",at=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!at)return URL.createObjectURL(new Blob([pt],{type:ot}));const xt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let gt=`data:${ot};base64,`;for(let ut=0,Et=pt.length;ut<Et;ut+=3){const vt=pt[ut]&255,_t=pt[ut+1]&255,jt=pt[ut+2]&255,kt=vt>>2,It=(vt&3)<<4|_t>>4,Vt=ut+1<Et?(_t&15)<<2|jt>>6:64,Ht=ut+2<Et?jt&63:64;gt+=xt[kt]+xt[It]+xt[Vt]+xt[Ht]}return gt},j=function(){const pt=new Uint8Array([137,80,78,71,13,10,26,10]),ot=12,at=new Int32Array(256);for(let jt=0;jt<256;jt++){let kt=jt;for(let It=0;It<8;It++)kt=kt&1?3988292384^kt>>1&2147483647:kt>>1&2147483647;at[jt]=kt}function xt(jt,kt,It){let Vt=-1;for(let Ht=kt;Ht<It;Ht++){const St=(Vt^jt[Ht])&255,Nt=at[St];Vt=Vt>>>8^Nt}return Vt^-1}function gt(jt,kt,It,Vt){let Ht=Vt;const St=kt.length;It[Ht]=St>>24&255,It[Ht+1]=St>>16&255,It[Ht+2]=St>>8&255,It[Ht+3]=St&255,Ht+=4,It[Ht]=jt.charCodeAt(0)&255,It[Ht+1]=jt.charCodeAt(1)&255,It[Ht+2]=jt.charCodeAt(2)&255,It[Ht+3]=jt.charCodeAt(3)&255,Ht+=4,It.set(kt,Ht),Ht+=kt.length;const Nt=xt(It,Vt+4,Ht);It[Ht]=Nt>>24&255,It[Ht+1]=Nt>>16&255,It[Ht+2]=Nt>>8&255,It[Ht+3]=Nt&255}function ut(jt,kt,It){let Vt=1,Ht=0;for(let St=kt;St<It;++St)Vt=(Vt+(jt[St]&255))%65521,Ht=(Ht+Vt)%65521;return Ht<<16|Vt}function Et(jt){if(!o.isNodeJS)return vt(jt);try{const kt=parseInt(process.versions.node)>=8?jt:Buffer.from(jt),It=require$$5.deflateSync(kt,{level:9});return It instanceof Uint8Array?It:new Uint8Array(It)}catch(kt){(0,o.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+kt)}return vt(jt)}function vt(jt){let kt=jt.length;const It=65535,Vt=Math.ceil(kt/It),Ht=new Uint8Array(2+kt+Vt*5+4);let St=0;Ht[St++]=120,Ht[St++]=156;let Nt=0;for(;kt>It;)Ht[St++]=0,Ht[St++]=255,Ht[St++]=255,Ht[St++]=0,Ht[St++]=0,Ht.set(jt.subarray(Nt,Nt+It),St),St+=It,Nt+=It,kt-=It;Ht[St++]=1,Ht[St++]=kt&255,Ht[St++]=kt>>8&255,Ht[St++]=~kt&65535&255,Ht[St++]=(~kt&65535)>>8&255,Ht.set(jt.subarray(Nt),St),St+=jt.length-Nt;const bt=ut(jt,0,jt.length);return Ht[St++]=bt>>24&255,Ht[St++]=bt>>16&255,Ht[St++]=bt>>8&255,Ht[St++]=bt&255,Ht}function _t(jt,kt,It,Vt){const Ht=jt.width,St=jt.height;let Nt,bt,Qt;const nn=jt.data;switch(kt){case o.ImageKind.GRAYSCALE_1BPP:bt=0,Nt=1,Qt=Ht+7>>3;break;case o.ImageKind.RGB_24BPP:bt=2,Nt=8,Qt=Ht*3;break;case o.ImageKind.RGBA_32BPP:bt=6,Nt=8,Qt=Ht*4;break;default:throw new Error("invalid format")}const dt=new Uint8Array((1+Qt)*St);let ct=0,mt=0;for(let Mt=0;Mt<St;++Mt)dt[ct++]=0,dt.set(nn.subarray(mt,mt+Qt),ct),mt+=Qt,ct+=Qt;if(kt===o.ImageKind.GRAYSCALE_1BPP&&Vt){ct=0;for(let Mt=0;Mt<St;Mt++){ct++;for(let Wt=0;Wt<Qt;Wt++)dt[ct++]^=255}}const ht=new Uint8Array([Ht>>24&255,Ht>>16&255,Ht>>8&255,Ht&255,St>>24&255,St>>16&255,St>>8&255,St&255,Nt,bt,0,0,0]),yt=Et(dt),wt=pt.length+ot*3+ht.length+yt.length,Ct=new Uint8Array(wt);let Rt=0;return Ct.set(pt,Rt),Rt+=pt.length,gt("IHDR",ht,Ct,Rt),Rt+=ot+ht.length,gt("IDATA",yt,Ct,Rt),Rt+=ot+yt.length,gt("IEND",new Uint8Array(0),Ct,Rt),_(Ct,"image/png",It)}return function(kt,It,Vt){const Ht=kt.kind===void 0?o.ImageKind.GRAYSCALE_1BPP:kt.kind;return _t(kt,Ht,It,Vt)}}();class ${constructor(){this.fontSizeScale=1,this.fontWeight=c.fontWeight,this.fontSize=0,this.textMatrix=o.IDENTITY_MATRIX,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=o.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=c.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(ot,at){this.x=ot,this.y=at}}function _e(pt){let ot=[];const at=[];for(const xt of pt){if(xt.fn==="save"){ot.push({fnId:92,fn:"group",items:[]}),at.push(ot),ot=ot.at(-1).items;continue}xt.fn==="restore"?ot=at.pop():ot.push(xt)}return ot}function rt(pt){if(Number.isInteger(pt))return pt.toString();const ot=pt.toFixed(10);let at=ot.length-1;if(ot[at]!=="0")return ot;do at--;while(ot[at]==="0");return ot.substring(0,ot[at]==="."?at:at+1)}function nt(pt){if(pt[4]===0&&pt[5]===0){if(pt[1]===0&&pt[2]===0)return pt[0]===1&&pt[3]===1?"":`scale(${rt(pt[0])} ${rt(pt[3])})`;if(pt[0]===pt[3]&&pt[1]===-pt[2]){const ot=Math.acos(pt[0])*180/Math.PI;return`rotate(${rt(ot)})`}}else if(pt[0]===1&&pt[1]===0&&pt[2]===0&&pt[3]===1)return`translate(${rt(pt[4])} ${rt(pt[5])})`;return`matrix(${rt(pt[0])} ${rt(pt[1])} ${rt(pt[2])} ${rt(pt[3])} ${rt(pt[4])} ${rt(pt[5])})`}let st=0,tt=0,et=0;class it{constructor(ot,at,xt=!1){(0,a.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new a.DOMSVGFactory,this.current=new $,this.transformMatrix=o.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=ot,this.objs=at,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!xt,this._operatorIdMapping=[];for(const gt in o.OPS)this._operatorIdMapping[o.OPS[gt]]=gt}getObject(ot,at=null){return typeof ot=="string"?ot.startsWith("g_")?this.commonObjs.get(ot):this.objs.get(ot):at}save(){this.transformStack.push(this.transformMatrix);const ot=this.current;this.extraStack.push(ot),this.current=ot.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(ot){this.save(),this.executeOpTree(ot),this.restore()}loadDependencies(ot){const at=ot.fnArray,xt=ot.argsArray;for(let gt=0,ut=at.length;gt<ut;gt++)if(at[gt]===o.OPS.dependency)for(const Et of xt[gt]){const vt=Et.startsWith("g_")?this.commonObjs:this.objs,_t=new Promise(jt=>{vt.get(Et,jt)});this.current.dependencies.push(_t)}return Promise.all(this.current.dependencies)}transform(ot,at,xt,gt,ut,Et){const vt=[ot,at,xt,gt,ut,Et];this.transformMatrix=o.Util.transform(this.transformMatrix,vt),this.tgrp=null}getSVG(ot,at){this.viewport=at;const xt=this._initialize(at);return this.loadDependencies(ot).then(()=>(this.transformMatrix=o.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(ot)),xt))}convertOpList(ot){const at=this._operatorIdMapping,xt=ot.argsArray,gt=ot.fnArray,ut=[];for(let Et=0,vt=gt.length;Et<vt;Et++){const _t=gt[Et];ut.push({fnId:_t,fn:at[_t],args:xt[Et]})}return _e(ut)}executeOpTree(ot){for(const at of ot){const xt=at.fn,gt=at.fnId,ut=at.args;switch(gt|0){case o.OPS.beginText:this.beginText();break;case o.OPS.dependency:break;case o.OPS.setLeading:this.setLeading(ut);break;case o.OPS.setLeadingMoveText:this.setLeadingMoveText(ut[0],ut[1]);break;case o.OPS.setFont:this.setFont(ut);break;case o.OPS.showText:this.showText(ut[0]);break;case o.OPS.showSpacedText:this.showText(ut[0]);break;case o.OPS.endText:this.endText();break;case o.OPS.moveText:this.moveText(ut[0],ut[1]);break;case o.OPS.setCharSpacing:this.setCharSpacing(ut[0]);break;case o.OPS.setWordSpacing:this.setWordSpacing(ut[0]);break;case o.OPS.setHScale:this.setHScale(ut[0]);break;case o.OPS.setTextMatrix:this.setTextMatrix(ut[0],ut[1],ut[2],ut[3],ut[4],ut[5]);break;case o.OPS.setTextRise:this.setTextRise(ut[0]);break;case o.OPS.setTextRenderingMode:this.setTextRenderingMode(ut[0]);break;case o.OPS.setLineWidth:this.setLineWidth(ut[0]);break;case o.OPS.setLineJoin:this.setLineJoin(ut[0]);break;case o.OPS.setLineCap:this.setLineCap(ut[0]);break;case o.OPS.setMiterLimit:this.setMiterLimit(ut[0]);break;case o.OPS.setFillRGBColor:this.setFillRGBColor(ut[0],ut[1],ut[2]);break;case o.OPS.setStrokeRGBColor:this.setStrokeRGBColor(ut[0],ut[1],ut[2]);break;case o.OPS.setStrokeColorN:this.setStrokeColorN(ut);break;case o.OPS.setFillColorN:this.setFillColorN(ut);break;case o.OPS.shadingFill:this.shadingFill(ut[0]);break;case o.OPS.setDash:this.setDash(ut[0],ut[1]);break;case o.OPS.setRenderingIntent:this.setRenderingIntent(ut[0]);break;case o.OPS.setFlatness:this.setFlatness(ut[0]);break;case o.OPS.setGState:this.setGState(ut[0]);break;case o.OPS.fill:this.fill();break;case o.OPS.eoFill:this.eoFill();break;case o.OPS.stroke:this.stroke();break;case o.OPS.fillStroke:this.fillStroke();break;case o.OPS.eoFillStroke:this.eoFillStroke();break;case o.OPS.clip:this.clip("nonzero");break;case o.OPS.eoClip:this.clip("evenodd");break;case o.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case o.OPS.paintImageXObject:this.paintImageXObject(ut[0]);break;case o.OPS.paintInlineImageXObject:this.paintInlineImageXObject(ut[0]);break;case o.OPS.paintImageMaskXObject:this.paintImageMaskXObject(ut[0]);break;case o.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(ut[0],ut[1]);break;case o.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case o.OPS.closePath:this.closePath();break;case o.OPS.closeStroke:this.closeStroke();break;case o.OPS.closeFillStroke:this.closeFillStroke();break;case o.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case o.OPS.nextLine:this.nextLine();break;case o.OPS.transform:this.transform(ut[0],ut[1],ut[2],ut[3],ut[4],ut[5]);break;case o.OPS.constructPath:this.constructPath(ut[0],ut[1]);break;case o.OPS.endPath:this.endPath();break;case 92:this.group(at.items);break;default:(0,o.warn)(`Unimplemented operator ${xt}`);break}}}setWordSpacing(ot){this.current.wordSpacing=ot}setCharSpacing(ot){this.current.charSpacing=ot}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(ot,at,xt,gt,ut,Et){const vt=this.current;vt.textMatrix=vt.lineMatrix=[ot,at,xt,gt,ut,Et],vt.textMatrixScale=Math.hypot(ot,at),vt.x=vt.lineX=0,vt.y=vt.lineY=0,vt.xcoords=[],vt.ycoords=[],vt.tspan=this.svgFactory.createElement("svg:tspan"),vt.tspan.setAttributeNS(null,"font-family",vt.fontFamily),vt.tspan.setAttributeNS(null,"font-size",`${rt(vt.fontSize)}px`),vt.tspan.setAttributeNS(null,"y",rt(-vt.y)),vt.txtElement=this.svgFactory.createElement("svg:text"),vt.txtElement.append(vt.tspan)}beginText(){const ot=this.current;ot.x=ot.lineX=0,ot.y=ot.lineY=0,ot.textMatrix=o.IDENTITY_MATRIX,ot.lineMatrix=o.IDENTITY_MATRIX,ot.textMatrixScale=1,ot.tspan=this.svgFactory.createElement("svg:tspan"),ot.txtElement=this.svgFactory.createElement("svg:text"),ot.txtgrp=this.svgFactory.createElement("svg:g"),ot.xcoords=[],ot.ycoords=[]}moveText(ot,at){const xt=this.current;xt.x=xt.lineX+=ot,xt.y=xt.lineY+=at,xt.xcoords=[],xt.ycoords=[],xt.tspan=this.svgFactory.createElement("svg:tspan"),xt.tspan.setAttributeNS(null,"font-family",xt.fontFamily),xt.tspan.setAttributeNS(null,"font-size",`${rt(xt.fontSize)}px`),xt.tspan.setAttributeNS(null,"y",rt(-xt.y))}showText(ot){const at=this.current,xt=at.font,gt=at.fontSize;if(gt===0)return;const ut=at.fontSizeScale,Et=at.charSpacing,vt=at.wordSpacing,_t=at.fontDirection,jt=at.textHScale*_t,kt=xt.vertical,It=kt?1:-1,Vt=xt.defaultVMetrics,Ht=gt*at.fontMatrix[0];let St=0;for(const Qt of ot){if(Qt===null){St+=_t*vt;continue}else if(typeof Qt=="number"){St+=It*Qt*gt/1e3;continue}const nn=(Qt.isSpace?vt:0)+Et,dt=Qt.fontChar;let ct,mt,ht=Qt.width;if(kt){let wt;const Ct=Qt.vmetric||Vt;wt=Qt.vmetric?Ct[1]:ht*.5,wt=-wt*Ht;const Rt=Ct[2]*Ht;ht=Ct?-Ct[0]:ht,ct=wt/ut,mt=(St+Rt)/ut}else ct=St/ut,mt=0;(Qt.isInFont||xt.missingFile)&&(at.xcoords.push(at.x+ct),kt&&at.ycoords.push(-at.y+mt),at.tspan.textContent+=dt);const yt=kt?ht*Ht-nn*_t:ht*Ht+nn*_t;St+=yt}at.tspan.setAttributeNS(null,"x",at.xcoords.map(rt).join(" ")),kt?at.tspan.setAttributeNS(null,"y",at.ycoords.map(rt).join(" ")):at.tspan.setAttributeNS(null,"y",rt(-at.y)),kt?at.y-=St:at.x+=St*jt,at.tspan.setAttributeNS(null,"font-family",at.fontFamily),at.tspan.setAttributeNS(null,"font-size",`${rt(at.fontSize)}px`),at.fontStyle!==c.fontStyle&&at.tspan.setAttributeNS(null,"font-style",at.fontStyle),at.fontWeight!==c.fontWeight&&at.tspan.setAttributeNS(null,"font-weight",at.fontWeight);const Nt=at.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;if(Nt===o.TextRenderingMode.FILL||Nt===o.TextRenderingMode.FILL_STROKE?(at.fillColor!==c.fillColor&&at.tspan.setAttributeNS(null,"fill",at.fillColor),at.fillAlpha<1&&at.tspan.setAttributeNS(null,"fill-opacity",at.fillAlpha)):at.textRenderingMode===o.TextRenderingMode.ADD_TO_PATH?at.tspan.setAttributeNS(null,"fill","transparent"):at.tspan.setAttributeNS(null,"fill","none"),Nt===o.TextRenderingMode.STROKE||Nt===o.TextRenderingMode.FILL_STROKE){const Qt=1/(at.textMatrixScale||1);this._setStrokeAttributes(at.tspan,Qt)}let bt=at.textMatrix;at.textRise!==0&&(bt=bt.slice(),bt[5]+=at.textRise),at.txtElement.setAttributeNS(null,"transform",`${nt(bt)} scale(${rt(jt)}, -1)`),at.txtElement.setAttributeNS(d,"xml:space","preserve"),at.txtElement.append(at.tspan),at.txtgrp.append(at.txtElement),this._ensureTransformGroup().append(at.txtElement)}setLeadingMoveText(ot,at){this.setLeading(-at),this.moveText(ot,at)}addFontStyle(ot){if(!ot.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const at=_(ot.data,ot.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${ot.loadedName}"; src: url(${at}); }
`}setFont(ot){const at=this.current,xt=this.commonObjs.get(ot[0]);let gt=ot[1];at.font=xt,this.embedFonts&&!xt.missingFile&&!this.embeddedFonts[xt.loadedName]&&(this.addFontStyle(xt),this.embeddedFonts[xt.loadedName]=xt),at.fontMatrix=xt.fontMatrix||o.FONT_IDENTITY_MATRIX;let ut="normal";xt.black?ut="900":xt.bold&&(ut="bold");const Et=xt.italic?"italic":"normal";gt<0?(gt=-gt,at.fontDirection=-1):at.fontDirection=1,at.fontSize=gt,at.fontFamily=xt.loadedName,at.fontWeight=ut,at.fontStyle=Et,at.tspan=this.svgFactory.createElement("svg:tspan"),at.tspan.setAttributeNS(null,"y",rt(-at.y)),at.xcoords=[],at.ycoords=[]}endText(){var at;const ot=this.current;ot.textRenderingMode&o.TextRenderingMode.ADD_TO_PATH_FLAG&&((at=ot.txtElement)!=null&&at.hasChildNodes())&&(ot.element=ot.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(ot){ot>0&&(this.current.lineWidth=ot)}setLineCap(ot){this.current.lineCap=g[ot]}setLineJoin(ot){this.current.lineJoin=b[ot]}setMiterLimit(ot){this.current.miterLimit=ot}setStrokeAlpha(ot){this.current.strokeAlpha=ot}setStrokeRGBColor(ot,at,xt){this.current.strokeColor=o.Util.makeHexColor(ot,at,xt)}setFillAlpha(ot){this.current.fillAlpha=ot}setFillRGBColor(ot,at,xt){this.current.fillColor=o.Util.makeHexColor(ot,at,xt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(ot){this.current.strokeColor=this._makeColorN_Pattern(ot)}setFillColorN(ot){this.current.fillColor=this._makeColorN_Pattern(ot)}shadingFill(ot){const{width:at,height:xt}=this.viewport,gt=o.Util.inverseTransform(this.transformMatrix),[ut,Et,vt,_t]=o.Util.getAxialAlignedBoundingBox([0,0,at,xt],gt),jt=this.svgFactory.createElement("svg:rect");jt.setAttributeNS(null,"x",ut),jt.setAttributeNS(null,"y",Et),jt.setAttributeNS(null,"width",vt-ut),jt.setAttributeNS(null,"height",_t-Et),jt.setAttributeNS(null,"fill",this._makeShadingPattern(ot)),this.current.fillAlpha<1&&jt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(jt)}_makeColorN_Pattern(ot){return ot[0]==="TilingPattern"?this._makeTilingPattern(ot):this._makeShadingPattern(ot)}_makeTilingPattern(ot){const at=ot[1],xt=ot[2],gt=ot[3]||o.IDENTITY_MATRIX,[ut,Et,vt,_t]=ot[4],jt=ot[5],kt=ot[6],It=ot[7],Vt=`shading${et++}`,[Ht,St,Nt,bt]=o.Util.normalizeRect([...o.Util.applyTransform([ut,Et],gt),...o.Util.applyTransform([vt,_t],gt)]),[Qt,nn]=o.Util.singularValueDecompose2dScale(gt),dt=jt*Qt,ct=kt*nn,mt=this.svgFactory.createElement("svg:pattern");mt.setAttributeNS(null,"id",Vt),mt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),mt.setAttributeNS(null,"width",dt),mt.setAttributeNS(null,"height",ct),mt.setAttributeNS(null,"x",`${Ht}`),mt.setAttributeNS(null,"y",`${St}`);const ht=this.svg,yt=this.transformMatrix,wt=this.current.fillColor,Ct=this.current.strokeColor,Rt=this.svgFactory.create(Nt-Ht,bt-St);if(this.svg=Rt,this.transformMatrix=gt,It===2){const Mt=o.Util.makeHexColor(...at);this.current.fillColor=Mt,this.current.strokeColor=Mt}return this.executeOpTree(this.convertOpList(xt)),this.svg=ht,this.transformMatrix=yt,this.current.fillColor=wt,this.current.strokeColor=Ct,mt.append(Rt.childNodes[0]),this.defs.append(mt),`url(#${Vt})`}_makeShadingPattern(ot){switch(typeof ot=="string"&&(ot=this.objs.get(ot)),ot[0]){case"RadialAxial":const at=`shading${et++}`,xt=ot[3];let gt;switch(ot[1]){case"axial":const ut=ot[4],Et=ot[5];gt=this.svgFactory.createElement("svg:linearGradient"),gt.setAttributeNS(null,"id",at),gt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),gt.setAttributeNS(null,"x1",ut[0]),gt.setAttributeNS(null,"y1",ut[1]),gt.setAttributeNS(null,"x2",Et[0]),gt.setAttributeNS(null,"y2",Et[1]);break;case"radial":const vt=ot[4],_t=ot[5],jt=ot[6],kt=ot[7];gt=this.svgFactory.createElement("svg:radialGradient"),gt.setAttributeNS(null,"id",at),gt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),gt.setAttributeNS(null,"cx",_t[0]),gt.setAttributeNS(null,"cy",_t[1]),gt.setAttributeNS(null,"r",kt),gt.setAttributeNS(null,"fx",vt[0]),gt.setAttributeNS(null,"fy",vt[1]),gt.setAttributeNS(null,"fr",jt);break;default:throw new Error(`Unknown RadialAxial type: ${ot[1]}`)}for(const ut of xt){const Et=this.svgFactory.createElement("svg:stop");Et.setAttributeNS(null,"offset",ut[0]),Et.setAttributeNS(null,"stop-color",ut[1]),gt.append(Et)}return this.defs.append(gt),`url(#${at})`;case"Mesh":return(0,o.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${ot[0]}`)}}setDash(ot,at){this.current.dashArray=ot,this.current.dashPhase=at}constructPath(ot,at){const xt=this.current;let gt=xt.x,ut=xt.y,Et=[],vt=0;for(const _t of ot)switch(_t|0){case o.OPS.rectangle:gt=at[vt++],ut=at[vt++];const jt=at[vt++],kt=at[vt++],It=gt+jt,Vt=ut+kt;Et.push("M",rt(gt),rt(ut),"L",rt(It),rt(ut),"L",rt(It),rt(Vt),"L",rt(gt),rt(Vt),"Z");break;case o.OPS.moveTo:gt=at[vt++],ut=at[vt++],Et.push("M",rt(gt),rt(ut));break;case o.OPS.lineTo:gt=at[vt++],ut=at[vt++],Et.push("L",rt(gt),rt(ut));break;case o.OPS.curveTo:gt=at[vt+4],ut=at[vt+5],Et.push("C",rt(at[vt]),rt(at[vt+1]),rt(at[vt+2]),rt(at[vt+3]),rt(gt),rt(ut)),vt+=6;break;case o.OPS.curveTo2:Et.push("C",rt(gt),rt(ut),rt(at[vt]),rt(at[vt+1]),rt(at[vt+2]),rt(at[vt+3])),gt=at[vt+2],ut=at[vt+3],vt+=4;break;case o.OPS.curveTo3:gt=at[vt+2],ut=at[vt+3],Et.push("C",rt(at[vt]),rt(at[vt+1]),rt(gt),rt(ut),rt(gt),rt(ut)),vt+=4;break;case o.OPS.closePath:Et.push("Z");break}Et=Et.join(" "),xt.path&&ot.length>0&&ot[0]!==o.OPS.rectangle&&ot[0]!==o.OPS.moveTo?Et=xt.path.getAttributeNS(null,"d")+Et:(xt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(xt.path)),xt.path.setAttributeNS(null,"d",Et),xt.path.setAttributeNS(null,"fill","none"),xt.element=xt.path,xt.setCurrentPoint(gt,ut)}endPath(){const ot=this.current;if(ot.path=null,!this.pendingClip)return;if(!ot.element){this.pendingClip=null;return}const at=`clippath${st++}`,xt=this.svgFactory.createElement("svg:clipPath");xt.setAttributeNS(null,"id",at),xt.setAttributeNS(null,"transform",nt(this.transformMatrix));const gt=ot.element.cloneNode(!0);if(this.pendingClip==="evenodd"?gt.setAttributeNS(null,"clip-rule","evenodd"):gt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,xt.append(gt),this.defs.append(xt),ot.activeClipUrl){ot.clipGroup=null;for(const ut of this.extraStack)ut.clipGroup=null;xt.setAttributeNS(null,"clip-path",ot.activeClipUrl)}ot.activeClipUrl=`url(#${at})`,this.tgrp=null}clip(ot){this.pendingClip=ot}closePath(){const ot=this.current;if(ot.path){const at=`${ot.path.getAttributeNS(null,"d")}Z`;ot.path.setAttributeNS(null,"d",at)}}setLeading(ot){this.current.leading=-ot}setTextRise(ot){this.current.textRise=ot}setTextRenderingMode(ot){this.current.textRenderingMode=ot}setHScale(ot){this.current.textHScale=ot/100}setRenderingIntent(ot){}setFlatness(ot){}setGState(ot){for(const[at,xt]of ot)switch(at){case"LW":this.setLineWidth(xt);break;case"LC":this.setLineCap(xt);break;case"LJ":this.setLineJoin(xt);break;case"ML":this.setMiterLimit(xt);break;case"D":this.setDash(xt[0],xt[1]);break;case"RI":this.setRenderingIntent(xt);break;case"FL":this.setFlatness(xt);break;case"Font":this.setFont(xt);break;case"CA":this.setStrokeAlpha(xt);break;case"ca":this.setFillAlpha(xt);break;default:(0,o.warn)(`Unimplemented graphic state operator ${at}`);break}}fill(){const ot=this.current;ot.element&&(ot.element.setAttributeNS(null,"fill",ot.fillColor),ot.element.setAttributeNS(null,"fill-opacity",ot.fillAlpha),this.endPath())}stroke(){const ot=this.current;ot.element&&(this._setStrokeAttributes(ot.element),ot.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(ot,at=1){const xt=this.current;let gt=xt.dashArray;at!==1&&gt.length>0&&(gt=gt.map(function(ut){return at*ut})),ot.setAttributeNS(null,"stroke",xt.strokeColor),ot.setAttributeNS(null,"stroke-opacity",xt.strokeAlpha),ot.setAttributeNS(null,"stroke-miterlimit",rt(xt.miterLimit)),ot.setAttributeNS(null,"stroke-linecap",xt.lineCap),ot.setAttributeNS(null,"stroke-linejoin",xt.lineJoin),ot.setAttributeNS(null,"stroke-width",rt(at*xt.lineWidth)+"px"),ot.setAttributeNS(null,"stroke-dasharray",gt.map(rt).join(" ")),ot.setAttributeNS(null,"stroke-dashoffset",rt(at*xt.dashPhase)+"px")}eoFill(){var ot;(ot=this.current.element)==null||ot.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var ot;(ot=this.current.element)==null||ot.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const ot=this.svgFactory.createElement("svg:rect");ot.setAttributeNS(null,"x","0"),ot.setAttributeNS(null,"y","0"),ot.setAttributeNS(null,"width","1px"),ot.setAttributeNS(null,"height","1px"),ot.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(ot)}paintImageXObject(ot){const at=this.getObject(ot);if(!at){(0,o.warn)(`Dependent image with object ID ${ot} is not ready yet`);return}this.paintInlineImageXObject(at)}paintInlineImageXObject(ot,at){const xt=ot.width,gt=ot.height,ut=j(ot,this.forceDataSchema,!!at),Et=this.svgFactory.createElement("svg:rect");Et.setAttributeNS(null,"x","0"),Et.setAttributeNS(null,"y","0"),Et.setAttributeNS(null,"width",rt(xt)),Et.setAttributeNS(null,"height",rt(gt)),this.current.element=Et,this.clip("nonzero");const vt=this.svgFactory.createElement("svg:image");vt.setAttributeNS(h,"xlink:href",ut),vt.setAttributeNS(null,"x","0"),vt.setAttributeNS(null,"y",rt(-gt)),vt.setAttributeNS(null,"width",rt(xt)+"px"),vt.setAttributeNS(null,"height",rt(gt)+"px"),vt.setAttributeNS(null,"transform",`scale(${rt(1/xt)} ${rt(-1/gt)})`),at?at.append(vt):this._ensureTransformGroup().append(vt)}paintImageMaskXObject(ot){const at=this.getObject(ot.data,ot);if(at.bitmap){(0,o.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const xt=this.current,gt=at.width,ut=at.height,Et=xt.fillColor;xt.maskId=`mask${tt++}`;const vt=this.svgFactory.createElement("svg:mask");vt.setAttributeNS(null,"id",xt.maskId);const _t=this.svgFactory.createElement("svg:rect");_t.setAttributeNS(null,"x","0"),_t.setAttributeNS(null,"y","0"),_t.setAttributeNS(null,"width",rt(gt)),_t.setAttributeNS(null,"height",rt(ut)),_t.setAttributeNS(null,"fill",Et),_t.setAttributeNS(null,"mask",`url(#${xt.maskId})`),this.defs.append(vt),this._ensureTransformGroup().append(_t),this.paintInlineImageXObject(at,vt)}paintFormXObjectBegin(ot,at){if(Array.isArray(ot)&&ot.length===6&&this.transform(ot[0],ot[1],ot[2],ot[3],ot[4],ot[5]),at){const xt=at[2]-at[0],gt=at[3]-at[1],ut=this.svgFactory.createElement("svg:rect");ut.setAttributeNS(null,"x",at[0]),ut.setAttributeNS(null,"y",at[1]),ut.setAttributeNS(null,"width",rt(xt)),ut.setAttributeNS(null,"height",rt(gt)),this.current.element=ut,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(ot){const at=this.svgFactory.create(ot.width,ot.height),xt=this.svgFactory.createElement("svg:defs");at.append(xt),this.defs=xt;const gt=this.svgFactory.createElement("svg:g");return gt.setAttributeNS(null,"transform",nt(ot.transform)),at.append(gt),this.svg=gt,at}_ensureClipGroup(){if(!this.current.clipGroup){const ot=this.svgFactory.createElement("svg:g");ot.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(ot),this.current.clipGroup=ot}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",nt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}i.SVGGraphics=it},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaText=void 0;class s{static textContent(o){const c=[],d={items:c,styles:Object.create(null)};function h(g){var j;if(!g)return;let b=null;const _=g.name;if(_==="#text")b=g.value;else if(s.shouldBuildText(_))(j=g==null?void 0:g.attributes)!=null&&j.textContent?b=g.attributes.textContent:g.value&&(b=g.value);else return;if(b!==null&&c.push({str:b}),!!g.children)for(const $ of g.children)h($)}return h(o),d}static shouldBuildText(o){return!(o==="textarea"||o==="input"||o==="option"||o==="select")}}i.XfaText=s},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextLayerRenderTask=void 0,i.renderTextLayer=nt,i.updateTextLayer=st;var a=s(1),o=s(6);const c=1e5,d=30,h=.8,g=new Map;function b(tt,et){let it;if(et&&a.FeatureTest.isOffscreenCanvasSupported)it=new OffscreenCanvas(tt,tt).getContext("2d",{alpha:!1});else{const pt=document.createElement("canvas");pt.width=pt.height=tt,it=pt.getContext("2d",{alpha:!1})}return it}function _(tt,et){const it=g.get(tt);if(it)return it;const pt=b(d,et);pt.font=`${d}px ${tt}`;const ot=pt.measureText("");let at=ot.fontBoundingBoxAscent,xt=Math.abs(ot.fontBoundingBoxDescent);if(at){const ut=at/(at+xt);return g.set(tt,ut),pt.canvas.width=pt.canvas.height=0,ut}pt.strokeStyle="red",pt.clearRect(0,0,d,d),pt.strokeText("g",0,0);let gt=pt.getImageData(0,0,d,d).data;xt=0;for(let ut=gt.length-1-3;ut>=0;ut-=4)if(gt[ut]>0){xt=Math.ceil(ut/4/d);break}pt.clearRect(0,0,d,d),pt.strokeText("A",0,d),gt=pt.getImageData(0,0,d,d).data,at=0;for(let ut=0,Et=gt.length;ut<Et;ut+=4)if(gt[ut]>0){at=d-Math.floor(ut/4/d);break}if(pt.canvas.width=pt.canvas.height=0,at){const ut=at/(at+xt);return g.set(tt,ut),ut}return g.set(tt,h),h}function j(tt,et,it){const pt=document.createElement("span"),ot={angle:0,canvasWidth:0,hasText:et.str!=="",hasEOL:et.hasEOL,fontSize:0};tt._textDivs.push(pt);const at=a.Util.transform(tt._transform,et.transform);let xt=Math.atan2(at[1],at[0]);const gt=it[et.fontName];gt.vertical&&(xt+=Math.PI/2);const ut=Math.hypot(at[2],at[3]),Et=ut*_(gt.fontFamily,tt._isOffscreenCanvasSupported);let vt,_t;xt===0?(vt=at[4],_t=at[5]-Et):(vt=at[4]+Et*Math.sin(xt),_t=at[5]-Et*Math.cos(xt));const jt="calc(var(--scale-factor)*",kt=pt.style;tt._container===tt._rootContainer?(kt.left=`${(100*vt/tt._pageWidth).toFixed(2)}%`,kt.top=`${(100*_t/tt._pageHeight).toFixed(2)}%`):(kt.left=`${jt}${vt.toFixed(2)}px)`,kt.top=`${jt}${_t.toFixed(2)}px)`),kt.fontSize=`${jt}${ut.toFixed(2)}px)`,kt.fontFamily=gt.fontFamily,ot.fontSize=ut,pt.setAttribute("role","presentation"),pt.textContent=et.str,pt.dir=et.dir,tt._fontInspectorEnabled&&(pt.dataset.fontName=et.fontName),xt!==0&&(ot.angle=xt*(180/Math.PI));let It=!1;if(et.str.length>1)It=!0;else if(et.str!==" "&&et.transform[0]!==et.transform[3]){const Vt=Math.abs(et.transform[0]),Ht=Math.abs(et.transform[3]);Vt!==Ht&&Math.max(Vt,Ht)/Math.min(Vt,Ht)>1.5&&(It=!0)}It&&(ot.canvasWidth=gt.vertical?et.height:et.width),tt._textDivProperties.set(pt,ot),tt._isReadableStream&&tt._layoutText(pt)}function $(tt){const{div:et,scale:it,properties:pt,ctx:ot,prevFontSize:at,prevFontFamily:xt}=tt,{style:gt}=et;let ut="";if(pt.canvasWidth!==0&&pt.hasText){const{fontFamily:Et}=gt,{canvasWidth:vt,fontSize:_t}=pt;(at!==_t||xt!==Et)&&(ot.font=`${_t*it}px ${Et}`,tt.prevFontSize=_t,tt.prevFontFamily=Et);const{width:jt}=ot.measureText(et.textContent);jt>0&&(ut=`scaleX(${vt*it/jt})`)}pt.angle!==0&&(ut=`rotate(${pt.angle}deg) ${ut}`),ut.length>0&&(gt.transform=ut)}function _e(tt){if(tt._canceled)return;const et=tt._textDivs,it=tt._capability;if(et.length>c){it.resolve();return}if(!tt._isReadableStream)for(const ot of et)tt._layoutText(ot);it.resolve()}class rt{constructor({textContentSource:et,container:it,viewport:pt,textDivs:ot,textDivProperties:at,textContentItemsStr:xt,isOffscreenCanvasSupported:gt}){var jt;this._textContentSource=et,this._isReadableStream=et instanceof ReadableStream,this._container=this._rootContainer=it,this._textDivs=ot||[],this._textContentItemsStr=xt||[],this._isOffscreenCanvasSupported=gt,this._fontInspectorEnabled=!!((jt=globalThis.FontInspector)!=null&&jt.enabled),this._reader=null,this._textDivProperties=at||new WeakMap,this._canceled=!1,this._capability=new a.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:pt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:b(0,gt)};const{pageWidth:ut,pageHeight:Et,pageX:vt,pageY:_t}=pt.rawDims;this._transform=[1,0,0,-1,-vt,_t+Et],this._pageWidth=ut,this._pageHeight=Et,(0,o.setLayerDimensions)(it,pt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new a.AbortException("TextLayer task cancelled."))}_processItems(et,it){for(const pt of et){if(pt.str===void 0){if(pt.type==="beginMarkedContentProps"||pt.type==="beginMarkedContent"){const ot=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),pt.id!==null&&this._container.setAttribute("id",`${pt.id}`),ot.append(this._container)}else pt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(pt.str),j(this,pt,it)}}_layoutText(et){const it=this._layoutTextParams.properties=this._textDivProperties.get(et);if(this._layoutTextParams.div=et,$(this._layoutTextParams),it.hasText&&this._container.append(et),it.hasEOL){const pt=document.createElement("br");pt.setAttribute("role","presentation"),this._container.append(pt)}}_render(){const et=new a.PromiseCapability;let it=Object.create(null);if(this._isReadableStream){const pt=()=>{this._reader.read().then(({value:ot,done:at})=>{if(at){et.resolve();return}Object.assign(it,ot.styles),this._processItems(ot.items,it),pt()},et.reject)};this._reader=this._textContentSource.getReader(),pt()}else if(this._textContentSource){const{items:pt,styles:ot}=this._textContentSource;this._processItems(pt,ot),et.resolve()}else throw new Error('No "textContentSource" parameter specified.');et.promise.then(()=>{it=null,_e(this)},this._capability.reject)}}i.TextLayerRenderTask=rt;function nt(tt){!tt.textContentSource&&(tt.textContent||tt.textContentStream)&&((0,o.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),tt.textContentSource=tt.textContent||tt.textContentStream);const{container:et,viewport:it}=tt,pt=getComputedStyle(et),ot=pt.getPropertyValue("visibility"),at=parseFloat(pt.getPropertyValue("--scale-factor"));ot==="visible"&&(!at||Math.abs(at-it.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const xt=new rt(tt);return xt._render(),xt}function st({container:tt,viewport:et,textDivs:it,textDivProperties:pt,isOffscreenCanvasSupported:ot,mustRotate:at=!0,mustRescale:xt=!0}){if(at&&(0,o.setLayerDimensions)(tt,{rotation:et.rotation}),xt){const gt=b(0,ot),Et={prevFontSize:null,prevFontFamily:null,div:null,scale:et.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:gt};for(const vt of it)Et.properties=pt.get(vt),Et.div=vt,$(Et)}}},(e,i,s)=>{var _,j,$,_e,rt,nt,st,tt,et,it,pt,Ur,at,xr,gt,Hr,Et,Wr;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditorLayer=void 0;var a=s(1),o=s(4),c=s(28),d=s(33),h=s(6),g=s(34);const _t=class _t{constructor({uiManager:kt,pageIndex:It,div:Vt,accessibilityManager:Ht,annotationLayer:St,viewport:Nt,l10n:bt}){Lt(this,pt);Lt(this,at);Lt(this,gt);Lt(this,Et);Lt(this,_,void 0);Lt(this,j,!1);Lt(this,$,null);Lt(this,_e,this.pointerup.bind(this));Lt(this,rt,this.pointerdown.bind(this));Lt(this,nt,new Map);Lt(this,st,!1);Lt(this,tt,!1);Lt(this,et,!1);Lt(this,it,void 0);const Qt=[c.FreeTextEditor,d.InkEditor,g.StampEditor];if(!_t._initialized){_t._initialized=!0;for(const nn of Qt)nn.initialize(bt)}kt.registerEditorTypes(Qt),Kt(this,it,kt),this.pageIndex=It,this.div=Vt,Kt(this,_,Ht),Kt(this,$,St),this.viewport=Nt,lt(this,it).addLayer(this)}get isEmpty(){return lt(this,nt).size===0}updateToolbar(kt){lt(this,it).updateToolbar(kt)}updateMode(kt=lt(this,it).getMode()){Bt(this,Et,Wr).call(this),kt===a.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),kt!==a.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",kt===a.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",kt===a.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",kt===a.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(kt){if(!kt&&lt(this,it).getMode()!==a.AnnotationEditorType.INK)return;if(!kt){for(const Vt of lt(this,nt).values())if(Vt.isEmpty()){Vt.setInBackground();return}}Bt(this,at,xr).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(kt){lt(this,it).setEditingState(kt)}addCommands(kt){lt(this,it).addCommands(kt)}enable(){this.div.style.pointerEvents="auto";const kt=new Set;for(const Vt of lt(this,nt).values())Vt.enableEditing(),Vt.annotationElementId&&kt.add(Vt.annotationElementId);if(!lt(this,$))return;const It=lt(this,$).getEditableAnnotations();for(const Vt of It){if(Vt.hide(),lt(this,it).isDeletedAnnotationElement(Vt.data.id)||kt.has(Vt.data.id))continue;const Ht=this.deserialize(Vt);Ht&&(this.addOrRebuild(Ht),Ht.enableEditing())}}disable(){var It;Kt(this,et,!0),this.div.style.pointerEvents="none";const kt=new Set;for(const Vt of lt(this,nt).values()){if(Vt.disableEditing(),!Vt.annotationElementId||Vt.serialize()!==null){kt.add(Vt.annotationElementId);continue}(It=this.getEditableAnnotation(Vt.annotationElementId))==null||It.show(),Vt.remove()}if(lt(this,$)){const Vt=lt(this,$).getEditableAnnotations();for(const Ht of Vt){const{id:St}=Ht.data;kt.has(St)||lt(this,it).isDeletedAnnotationElement(St)||Ht.show()}}Bt(this,Et,Wr).call(this),this.isEmpty&&(this.div.hidden=!0),Kt(this,et,!1)}getEditableAnnotation(kt){var It;return((It=lt(this,$))==null?void 0:It.getEditableAnnotation(kt))||null}setActiveEditor(kt){lt(this,it).getActive()!==kt&&lt(this,it).setActiveEditor(kt)}enableClick(){this.div.addEventListener("pointerdown",lt(this,rt)),this.div.addEventListener("pointerup",lt(this,_e))}disableClick(){this.div.removeEventListener("pointerdown",lt(this,rt)),this.div.removeEventListener("pointerup",lt(this,_e))}attach(kt){lt(this,nt).set(kt.id,kt);const{annotationElementId:It}=kt;It&&lt(this,it).isDeletedAnnotationElement(It)&&lt(this,it).removeDeletedAnnotationElement(kt)}detach(kt){var It;lt(this,nt).delete(kt.id),(It=lt(this,_))==null||It.removePointerInTextLayer(kt.contentDiv),!lt(this,et)&&kt.annotationElementId&&lt(this,it).addDeletedAnnotationElement(kt)}remove(kt){this.detach(kt),lt(this,it).removeEditor(kt),kt.div.contains(document.activeElement)&&setTimeout(()=>{lt(this,it).focusMainContainer()},0),kt.div.remove(),kt.isAttachedToDOM=!1,lt(this,tt)||this.addInkEditorIfNeeded(!1)}changeParent(kt){var It;kt.parent!==this&&(kt.annotationElementId&&(lt(this,it).addDeletedAnnotationElement(kt.annotationElementId),o.AnnotationEditor.deleteAnnotationElement(kt),kt.annotationElementId=null),this.attach(kt),(It=kt.parent)==null||It.detach(kt),kt.setParent(this),kt.div&&kt.isAttachedToDOM&&(kt.div.remove(),this.div.append(kt.div)))}add(kt){if(this.changeParent(kt),lt(this,it).addEditor(kt),this.attach(kt),!kt.isAttachedToDOM){const It=kt.render();this.div.append(It),kt.isAttachedToDOM=!0}kt.fixAndSetPosition(),kt.onceAdded(),lt(this,it).addToAnnotationStorage(kt)}moveEditorInDOM(kt){var Vt;if(!kt.isAttachedToDOM)return;const{activeElement:It}=document;kt.div.contains(It)&&(kt._focusEventsAllowed=!1,setTimeout(()=>{kt.div.contains(document.activeElement)?kt._focusEventsAllowed=!0:(kt.div.addEventListener("focusin",()=>{kt._focusEventsAllowed=!0},{once:!0}),It.focus())},0)),kt._structTreeParentId=(Vt=lt(this,_))==null?void 0:Vt.moveElementInDOM(this.div,kt.div,kt.contentDiv,!0)}addOrRebuild(kt){kt.needsToBeRebuilt()?kt.rebuild():this.add(kt)}addUndoableEditor(kt){const It=()=>kt._uiManager.rebuild(kt),Vt=()=>{kt.remove()};this.addCommands({cmd:It,undo:Vt,mustExec:!1})}getNextId(){return lt(this,it).getId()}pasteEditor(kt,It){lt(this,it).updateToolbar(kt),lt(this,it).updateMode(kt);const{offsetX:Vt,offsetY:Ht}=Bt(this,gt,Hr).call(this),St=this.getNextId(),Nt=Bt(this,pt,Ur).call(this,{parent:this,id:St,x:Vt,y:Ht,uiManager:lt(this,it),isCentered:!0,...It});Nt&&this.add(Nt)}deserialize(kt){switch(kt.annotationType??kt.annotationEditorType){case a.AnnotationEditorType.FREETEXT:return c.FreeTextEditor.deserialize(kt,this,lt(this,it));case a.AnnotationEditorType.INK:return d.InkEditor.deserialize(kt,this,lt(this,it));case a.AnnotationEditorType.STAMP:return g.StampEditor.deserialize(kt,this,lt(this,it))}return null}addNewEditor(){Bt(this,at,xr).call(this,Bt(this,gt,Hr).call(this),!0)}setSelected(kt){lt(this,it).setSelected(kt)}toggleSelected(kt){lt(this,it).toggleSelected(kt)}isSelected(kt){return lt(this,it).isSelected(kt)}unselect(kt){lt(this,it).unselect(kt)}pointerup(kt){const{isMac:It}=a.FeatureTest.platform;if(!(kt.button!==0||kt.ctrlKey&&It)&&kt.target===this.div&&lt(this,st)){if(Kt(this,st,!1),!lt(this,j)){Kt(this,j,!0);return}if(lt(this,it).getMode()===a.AnnotationEditorType.STAMP){lt(this,it).unselectAll();return}Bt(this,at,xr).call(this,kt,!1)}}pointerdown(kt){if(lt(this,st)){Kt(this,st,!1);return}const{isMac:It}=a.FeatureTest.platform;if(kt.button!==0||kt.ctrlKey&&It||kt.target!==this.div)return;Kt(this,st,!0);const Vt=lt(this,it).getActive();Kt(this,j,!Vt||Vt.isEmpty())}findNewParent(kt,It,Vt){const Ht=lt(this,it).findParent(It,Vt);return Ht===null||Ht===this?!1:(Ht.changeParent(kt),!0)}destroy(){var kt,It;((kt=lt(this,it).getActive())==null?void 0:kt.parent)===this&&(lt(this,it).commitOrRemove(),lt(this,it).setActiveEditor(null));for(const Vt of lt(this,nt).values())(It=lt(this,_))==null||It.removePointerInTextLayer(Vt.contentDiv),Vt.setParent(null),Vt.isAttachedToDOM=!1,Vt.div.remove();this.div=null,lt(this,nt).clear(),lt(this,it).removeLayer(this)}render({viewport:kt}){this.viewport=kt,(0,h.setLayerDimensions)(this.div,kt);for(const It of lt(this,it).getEditors(this.pageIndex))this.add(It);this.updateMode()}update({viewport:kt}){lt(this,it).commitOrRemove(),this.viewport=kt,(0,h.setLayerDimensions)(this.div,{rotation:kt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:kt,pageHeight:It}=this.viewport.rawDims;return[kt,It]}};_=new WeakMap,j=new WeakMap,$=new WeakMap,_e=new WeakMap,rt=new WeakMap,nt=new WeakMap,st=new WeakMap,tt=new WeakMap,et=new WeakMap,it=new WeakMap,pt=new WeakSet,Ur=function(kt){switch(lt(this,it).getMode()){case a.AnnotationEditorType.FREETEXT:return new c.FreeTextEditor(kt);case a.AnnotationEditorType.INK:return new d.InkEditor(kt);case a.AnnotationEditorType.STAMP:return new g.StampEditor(kt)}return null},at=new WeakSet,xr=function(kt,It){const Vt=this.getNextId(),Ht=Bt(this,pt,Ur).call(this,{parent:this,id:Vt,x:kt.offsetX,y:kt.offsetY,uiManager:lt(this,it),isCentered:It});return Ht&&this.add(Ht),Ht},gt=new WeakSet,Hr=function(){const{x:kt,y:It,width:Vt,height:Ht}=this.div.getBoundingClientRect(),St=Math.max(0,kt),Nt=Math.max(0,It),bt=Math.min(window.innerWidth,kt+Vt),Qt=Math.min(window.innerHeight,It+Ht),nn=(St+bt)/2-kt,dt=(Nt+Qt)/2-It,[ct,mt]=this.viewport.rotation%180===0?[nn,dt]:[dt,nn];return{offsetX:ct,offsetY:mt}},Et=new WeakSet,Wr=function(){Kt(this,tt,!0);for(const kt of lt(this,nt).values())kt.isEmpty()&&kt.remove();Kt(this,tt,!1)},Un(_t,"_initialized",!1);let b=_t;i.AnnotationEditorLayer=b},(e,i,s)=>{var g,b,_,j,$,_e,rt,nt,st,tt,bs,it,ws,ot,Es,xt,lr,ut,Gr,vt,Ss,jt,qr;Object.defineProperty(i,"__esModule",{value:!0}),i.FreeTextEditor=void 0;var a=s(1),o=s(5),c=s(4),d=s(29);const It=class It extends c.AnnotationEditor{constructor(St){super({...St,name:"freeTextEditor"});Lt(this,tt);Lt(this,it);Lt(this,ot);Lt(this,xt);Lt(this,ut);Lt(this,vt);Lt(this,jt);Lt(this,g,this.editorDivBlur.bind(this));Lt(this,b,this.editorDivFocus.bind(this));Lt(this,_,this.editorDivInput.bind(this));Lt(this,j,this.editorDivKeydown.bind(this));Lt(this,$,void 0);Lt(this,_e,"");Lt(this,rt,`${this.id}-editor`);Lt(this,nt,void 0);Lt(this,st,null);Kt(this,$,St.color||It._defaultColor||c.AnnotationEditor._defaultLineColor),Kt(this,nt,St.fontSize||It._defaultFontSize)}static get _keyboardManager(){const St=It.prototype,Nt=nn=>nn.isEmpty(),bt=o.AnnotationEditorUIManager.TRANSLATE_SMALL,Qt=o.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new o.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],St.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],St.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],St._translateEmpty,{args:[-bt,0],checker:Nt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],St._translateEmpty,{args:[-Qt,0],checker:Nt}],[["ArrowRight","mac+ArrowRight"],St._translateEmpty,{args:[bt,0],checker:Nt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],St._translateEmpty,{args:[Qt,0],checker:Nt}],[["ArrowUp","mac+ArrowUp"],St._translateEmpty,{args:[0,-bt],checker:Nt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],St._translateEmpty,{args:[0,-Qt],checker:Nt}],[["ArrowDown","mac+ArrowDown"],St._translateEmpty,{args:[0,bt],checker:Nt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],St._translateEmpty,{args:[0,Qt],checker:Nt}]]))}static initialize(St){c.AnnotationEditor.initialize(St,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Nt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Nt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(St,Nt){switch(St){case a.AnnotationEditorParamsType.FREETEXT_SIZE:It._defaultFontSize=Nt;break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:It._defaultColor=Nt;break}}updateParams(St,Nt){switch(St){case a.AnnotationEditorParamsType.FREETEXT_SIZE:Bt(this,tt,bs).call(this,Nt);break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:Bt(this,it,ws).call(this,Nt);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,It._defaultFontSize],[a.AnnotationEditorParamsType.FREETEXT_COLOR,It._defaultColor||c.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,lt(this,nt)],[a.AnnotationEditorParamsType.FREETEXT_COLOR,lt(this,$)]]}_translateEmpty(St,Nt){this._uiManager.translateSelectedEditors(St,Nt,!0)}getInitialTranslation(){const St=this.parentScale;return[-It._internalPadding*St,-(It._internalPadding+lt(this,nt))*St]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(a.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",lt(this,j)),this.editorDiv.addEventListener("focus",lt(this,b)),this.editorDiv.addEventListener("blur",lt(this,g)),this.editorDiv.addEventListener("input",lt(this,_)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",lt(this,rt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",lt(this,j)),this.editorDiv.removeEventListener("focus",lt(this,b)),this.editorDiv.removeEventListener("blur",lt(this,g)),this.editorDiv.removeEventListener("input",lt(this,_)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(St){this._focusEventsAllowed&&(super.focusin(St),St.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var St;if(this.width){Bt(this,jt,qr).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(St=this._initialOptions)!=null&&St.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const St=lt(this,_e),Nt=Kt(this,_e,Bt(this,ot,Es).call(this).trimEnd());if(St===Nt)return;const bt=Qt=>{if(Kt(this,_e,Qt),!Qt){this.remove();return}Bt(this,ut,Gr).call(this),this._uiManager.rebuild(this),Bt(this,xt,lr).call(this)};this.addCommands({cmd:()=>{bt(Nt)},undo:()=>{bt(St)},mustExec:!1}),Bt(this,xt,lr).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(St){this.enterInEditMode()}keydown(St){St.target===this.div&&St.key==="Enter"&&(this.enterInEditMode(),St.preventDefault())}editorDivKeydown(St){It._keyboardManager.exec(this,St)}editorDivFocus(St){this.isEditing=!0}editorDivBlur(St){this.isEditing=!1}editorDivInput(St){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let St,Nt;this.width&&(St=this.x,Nt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",lt(this,rt)),this.enableEditing(),c.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Qt=>{var nn;return(nn=this.editorDiv)==null?void 0:nn.setAttribute("aria-label",Qt)}),c.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Qt=>{var nn;return(nn=this.editorDiv)==null?void 0:nn.setAttribute("default-content",Qt)}),this.editorDiv.contentEditable=!0;const{style:bt}=this.editorDiv;if(bt.fontSize=`calc(${lt(this,nt)}px * var(--scale-factor))`,bt.color=lt(this,$),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,o.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Qt,nn]=this.parentDimensions;if(this.annotationElementId){const{position:dt}=lt(this,st);let[ct,mt]=this.getInitialTranslation();[ct,mt]=this.pageTranslationToScreen(ct,mt);const[ht,yt]=this.pageDimensions,[wt,Ct]=this.pageTranslation;let Rt,Mt;switch(this.rotation){case 0:Rt=St+(dt[0]-wt)/ht,Mt=Nt+this.height-(dt[1]-Ct)/yt;break;case 90:Rt=St+(dt[0]-wt)/ht,Mt=Nt-(dt[1]-Ct)/yt,[ct,mt]=[mt,-ct];break;case 180:Rt=St-this.width+(dt[0]-wt)/ht,Mt=Nt-(dt[1]-Ct)/yt,[ct,mt]=[-ct,-mt];break;case 270:Rt=St+(dt[0]-wt-this.height*yt)/ht,Mt=Nt+(dt[1]-Ct-this.width*ht)/yt,[ct,mt]=[-mt,ct];break}this.setAt(Rt*Qt,Mt*nn,ct,mt)}else this.setAt(St*Qt,Nt*nn,this.width*Qt,this.height*nn);Bt(this,ut,Gr).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(St,Nt,bt){let Qt=null;if(St instanceof d.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:dt,fontColor:ct},rect:mt,rotation:ht,id:yt},textContent:wt,textPosition:Ct,parent:{page:{pageNumber:Rt}}}=St;if(!wt||wt.length===0)return null;Qt=St={annotationType:a.AnnotationEditorType.FREETEXT,color:Array.from(ct),fontSize:dt,value:wt.join(`
`),position:Ct,pageIndex:Rt-1,rect:mt,rotation:ht,id:yt,deleted:!1}}const nn=super.deserialize(St,Nt,bt);return Kt(nn,nt,St.fontSize),Kt(nn,$,a.Util.makeHexColor(...St.color)),Kt(nn,_e,St.value),nn.annotationElementId=St.id||null,Kt(nn,st,Qt),nn}serialize(St=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Nt=It._internalPadding*this.parentScale,bt=this.getRect(Nt,Nt),Qt=c.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:lt(this,$)),nn={annotationType:a.AnnotationEditorType.FREETEXT,color:Qt,fontSize:lt(this,nt),value:lt(this,_e),pageIndex:this.pageIndex,rect:bt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return St?nn:this.annotationElementId&&!Bt(this,vt,Ss).call(this,nn)?null:(nn.id=this.annotationElementId,nn)}};g=new WeakMap,b=new WeakMap,_=new WeakMap,j=new WeakMap,$=new WeakMap,_e=new WeakMap,rt=new WeakMap,nt=new WeakMap,st=new WeakMap,tt=new WeakSet,bs=function(St){const Nt=Qt=>{this.editorDiv.style.fontSize=`calc(${Qt}px * var(--scale-factor))`,this.translate(0,-(Qt-lt(this,nt))*this.parentScale),Kt(this,nt,Qt),Bt(this,xt,lr).call(this)},bt=lt(this,nt);this.addCommands({cmd:()=>{Nt(St)},undo:()=>{Nt(bt)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},it=new WeakSet,ws=function(St){const Nt=lt(this,$);this.addCommands({cmd:()=>{Kt(this,$,this.editorDiv.style.color=St)},undo:()=>{Kt(this,$,this.editorDiv.style.color=Nt)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ot=new WeakSet,Es=function(){const St=this.editorDiv.getElementsByTagName("div");if(St.length===0)return this.editorDiv.innerText;const Nt=[];for(const bt of St)Nt.push(bt.innerText.replace(/\r\n?|\n/,""));return Nt.join(`
`)},xt=new WeakSet,lr=function(){const[St,Nt]=this.parentDimensions;let bt;if(this.isAttachedToDOM)bt=this.div.getBoundingClientRect();else{const{currentLayer:Qt,div:nn}=this,dt=nn.style.display;nn.style.display="hidden",Qt.div.append(this.div),bt=nn.getBoundingClientRect(),nn.remove(),nn.style.display=dt}this.rotation%180===this.parentRotation%180?(this.width=bt.width/St,this.height=bt.height/Nt):(this.width=bt.height/St,this.height=bt.width/Nt),this.fixAndSetPosition()},ut=new WeakSet,Gr=function(){if(this.editorDiv.replaceChildren(),!!lt(this,_e))for(const St of lt(this,_e).split(`
`)){const Nt=document.createElement("div");Nt.append(St?document.createTextNode(St):document.createElement("br")),this.editorDiv.append(Nt)}},vt=new WeakSet,Ss=function(St){const{value:Nt,fontSize:bt,color:Qt,rect:nn,pageIndex:dt}=lt(this,st);return St.value!==Nt||St.fontSize!==bt||St.rect.some((ct,mt)=>Math.abs(ct-nn[mt])>=1)||St.color.some((ct,mt)=>ct!==Qt[mt])||St.pageIndex!==dt},jt=new WeakSet,qr=function(St=!1){if(!this.annotationElementId)return;if(Bt(this,xt,lr).call(this),!St&&(this.width===0||this.height===0)){setTimeout(()=>Bt(this,jt,qr).call(this,!0),0);return}const Nt=It._internalPadding*this.parentScale;lt(this,st).rect=this.getRect(Nt,Nt)},Un(It,"_freeTextDefaultContent",""),Un(It,"_internalPadding",0),Un(It,"_defaultColor",null),Un(It,"_defaultFontSize",10),Un(It,"_type","freetext");let h=It;i.FreeTextEditor=h},(e,i,s)=>{var mt,yt,Qn,Ct,ks,Mt,Wt,Xt,Zt,tn,dn,rn,vn,Rn,pn,kn,an,Gt,qt,sn,Ft,Yt,fn,As,wn,yr,Mn,Xr,Nn,Kr,zt,Ot,on,hn,$n,zn,Ut,Yr,Cn,gn,_n,Tn,Cs,un,Qr;Object.defineProperty(i,"__esModule",{value:!0}),i.StampAnnotationElement=i.InkAnnotationElement=i.FreeTextAnnotationElement=i.AnnotationLayer=void 0;var a=s(1),o=s(6),c=s(3),d=s(30),h=s(31),g=s(32);const b=1e3,_=9,j=new WeakSet;function $(An){return{width:An[2]-An[0],height:An[3]-An[1]}}class _e{static create(Tt){switch(Tt.data.annotationType){case a.AnnotationType.LINK:return new nt(Tt);case a.AnnotationType.TEXT:return new st(Tt);case a.AnnotationType.WIDGET:switch(Tt.data.fieldType){case"Tx":return new et(Tt);case"Btn":return Tt.data.radioButton?new ot(Tt):Tt.data.checkBox?new pt(Tt):new at(Tt);case"Ch":return new xt(Tt);case"Sig":return new it(Tt)}return new tt(Tt);case a.AnnotationType.POPUP:return new gt(Tt);case a.AnnotationType.FREETEXT:return new Et(Tt);case a.AnnotationType.LINE:return new vt(Tt);case a.AnnotationType.SQUARE:return new _t(Tt);case a.AnnotationType.CIRCLE:return new jt(Tt);case a.AnnotationType.POLYLINE:return new kt(Tt);case a.AnnotationType.CARET:return new Vt(Tt);case a.AnnotationType.INK:return new Ht(Tt);case a.AnnotationType.POLYGON:return new It(Tt);case a.AnnotationType.HIGHLIGHT:return new St(Tt);case a.AnnotationType.UNDERLINE:return new Nt(Tt);case a.AnnotationType.SQUIGGLY:return new bt(Tt);case a.AnnotationType.STRIKEOUT:return new Qt(Tt);case a.AnnotationType.STAMP:return new nn(Tt);case a.AnnotationType.FILEATTACHMENT:return new dt(Tt);default:return new rt(Tt)}}}const ht=class ht{constructor(Tt,{isRenderable:ft=!1,ignoreBorder:At=!1,createQuadrilaterals:Pt=!1}={}){Lt(this,mt,!1);this.isRenderable=ft,this.data=Tt.data,this.layer=Tt.layer,this.linkService=Tt.linkService,this.downloadManager=Tt.downloadManager,this.imageResourcesPath=Tt.imageResourcesPath,this.renderForms=Tt.renderForms,this.svgFactory=Tt.svgFactory,this.annotationStorage=Tt.annotationStorage,this.enableScripting=Tt.enableScripting,this.hasJSActions=Tt.hasJSActions,this._fieldObjects=Tt.fieldObjects,this.parent=Tt.parent,ft&&(this.container=this._createContainer(At)),Pt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Tt,contentsObj:ft,richText:At}){return!!(Tt!=null&&Tt.str||ft!=null&&ft.str||At!=null&&At.str)}get hasPopupData(){return ht._hasPopupData(this.data)}_createContainer(Tt){const{data:ft,parent:{page:At,viewport:Pt}}=this,Dt=document.createElement("section");Dt.setAttribute("data-annotation-id",ft.id),this instanceof tt||(Dt.tabIndex=b),Dt.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Dt.setAttribute("aria-haspopup","dialog"),ft.noRotate&&Dt.classList.add("norotate");const{pageWidth:$t,pageHeight:Jt,pageX:ln,pageY:yn}=Pt.rawDims;if(!ft.rect||this instanceof gt){const{rotation:Ln}=ft;return!ft.hasOwnCanvas&&Ln!==0&&this.setRotation(Ln,Dt),Dt}const{width:xn,height:In}=$(ft.rect),En=a.Util.normalizeRect([ft.rect[0],At.view[3]-ft.rect[1]+At.view[1],ft.rect[2],At.view[3]-ft.rect[3]+At.view[1]]);if(!Tt&&ft.borderStyle.width>0){Dt.style.borderWidth=`${ft.borderStyle.width}px`;const Ln=ft.borderStyle.horizontalCornerRadius,Dn=ft.borderStyle.verticalCornerRadius;if(Ln>0||Dn>0){const Bn=`calc(${Ln}px * var(--scale-factor)) / calc(${Dn}px * var(--scale-factor))`;Dt.style.borderRadius=Bn}else if(this instanceof ot){const Bn=`calc(${xn}px * var(--scale-factor)) / calc(${In}px * var(--scale-factor))`;Dt.style.borderRadius=Bn}switch(ft.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:Dt.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:Dt.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:Dt.style.borderBottomStyle="solid";break}const On=ft.borderColor||null;On?(Kt(this,mt,!0),Dt.style.borderColor=a.Util.makeHexColor(On[0]|0,On[1]|0,On[2]|0)):Dt.style.borderWidth=0}Dt.style.left=`${100*(En[0]-ln)/$t}%`,Dt.style.top=`${100*(En[1]-yn)/Jt}%`;const{rotation:Sn}=ft;return ft.hasOwnCanvas||Sn===0?(Dt.style.width=`${100*xn/$t}%`,Dt.style.height=`${100*In/Jt}%`):this.setRotation(Sn,Dt),Dt}setRotation(Tt,ft=this.container){if(!this.data.rect)return;const{pageWidth:At,pageHeight:Pt}=this.parent.viewport.rawDims,{width:Dt,height:$t}=$(this.data.rect);let Jt,ln;Tt%180===0?(Jt=100*Dt/At,ln=100*$t/Pt):(Jt=100*$t/At,ln=100*Dt/Pt),ft.style.width=`${Jt}%`,ft.style.height=`${ln}%`,ft.setAttribute("data-main-rotation",(360-Tt)%360)}get _commonActions(){const Tt=(ft,At,Pt)=>{const Dt=Pt.detail[ft],$t=Dt[0],Jt=Dt.slice(1);Pt.target.style[At]=d.ColorConverters[`${$t}_HTML`](Jt),this.annotationStorage.setValue(this.data.id,{[At]:d.ColorConverters[`${$t}_rgb`](Jt)})};return(0,a.shadow)(this,"_commonActions",{display:ft=>{const{display:At}=ft.detail,Pt=At%2===1;this.container.style.visibility=Pt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Pt,noPrint:At===1||At===2})},print:ft=>{this.annotationStorage.setValue(this.data.id,{noPrint:!ft.detail.print})},hidden:ft=>{const{hidden:At}=ft.detail;this.container.style.visibility=At?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:At,noView:At})},focus:ft=>{setTimeout(()=>ft.target.focus({preventScroll:!1}),0)},userName:ft=>{ft.target.title=ft.detail.userName},readonly:ft=>{ft.target.disabled=ft.detail.readonly},required:ft=>{this._setRequired(ft.target,ft.detail.required)},bgColor:ft=>{Tt("bgColor","backgroundColor",ft)},fillColor:ft=>{Tt("fillColor","backgroundColor",ft)},fgColor:ft=>{Tt("fgColor","color",ft)},textColor:ft=>{Tt("textColor","color",ft)},borderColor:ft=>{Tt("borderColor","borderColor",ft)},strokeColor:ft=>{Tt("strokeColor","borderColor",ft)},rotation:ft=>{const At=ft.detail.rotation;this.setRotation(At),this.annotationStorage.setValue(this.data.id,{rotation:At})}})}_dispatchEventFromSandbox(Tt,ft){const At=this._commonActions;for(const Pt of Object.keys(ft.detail)){const Dt=Tt[Pt]||At[Pt];Dt==null||Dt(ft)}}_setDefaultPropertiesFromJS(Tt){if(!this.enableScripting)return;const ft=this.annotationStorage.getRawValue(this.data.id);if(!ft)return;const At=this._commonActions;for(const[Pt,Dt]of Object.entries(ft)){const $t=At[Pt];if($t){const Jt={detail:{[Pt]:Dt},target:Tt};$t(Jt),delete ft[Pt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Tt}=this.data;if(!Tt)return;const[ft,At,Pt,Dt]=this.data.rect;if(Tt.length===1){const[,{x:Dn,y:On},{x:Bn,y:Wn}]=Tt[0];if(Pt===Dn&&Dt===On&&ft===Bn&&At===Wn)return}const{style:$t}=this.container;let Jt;if(lt(this,mt)){const{borderColor:Dn,borderWidth:On}=$t;$t.borderWidth=0,Jt=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Dn}" stroke-width="${On}">`],this.container.classList.add("hasBorder")}const ln=Pt-ft,yn=Dt-At,{svgFactory:xn}=this,In=xn.createElement("svg");In.classList.add("quadrilateralsContainer"),In.setAttribute("width",0),In.setAttribute("height",0);const En=xn.createElement("defs");In.append(En);const Sn=xn.createElement("clipPath"),Ln=`clippath_${this.data.id}`;Sn.setAttribute("id",Ln),Sn.setAttribute("clipPathUnits","objectBoundingBox"),En.append(Sn);for(const[,{x:Dn,y:On},{x:Bn,y:Wn}]of Tt){const Hn=xn.createElement("rect"),Gn=(Bn-ft)/ln,Kn=(Dt-On)/yn,Yn=(Dn-Bn)/ln,as=(On-Wn)/yn;Hn.setAttribute("x",Gn),Hn.setAttribute("y",Kn),Hn.setAttribute("width",Yn),Hn.setAttribute("height",as),Sn.append(Hn),Jt==null||Jt.push(`<rect vector-effect="non-scaling-stroke" x="${Gn}" y="${Kn}" width="${Yn}" height="${as}"/>`)}lt(this,mt)&&(Jt.push("</g></svg>')"),$t.backgroundImage=Jt.join("")),this.container.append(In),this.container.style.clipPath=`url(#${Ln})`}_createPopup(){const{container:Tt,data:ft}=this;Tt.setAttribute("aria-haspopup","dialog");const At=new gt({data:{color:ft.color,titleObj:ft.titleObj,modificationDate:ft.modificationDate,contentsObj:ft.contentsObj,richText:ft.richText,parentRect:ft.rect,borderStyle:0,id:`popup_${ft.id}`,rotation:ft.rotation},parent:this.parent,elements:[this]});this.parent.div.append(At.render())}render(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Tt,ft=null){const At=[];if(this._fieldObjects){const Pt=this._fieldObjects[Tt];if(Pt)for(const{page:Dt,id:$t,exportValues:Jt}of Pt){if(Dt===-1||$t===ft)continue;const ln=typeof Jt=="string"?Jt:null,yn=document.querySelector(`[data-element-id="${$t}"]`);if(yn&&!j.has(yn)){(0,a.warn)(`_getElementsByName - element not allowed: ${$t}`);continue}At.push({id:$t,exportValue:ln,domElement:yn})}return At}for(const Pt of document.getElementsByName(Tt)){const{exportValue:Dt}=Pt,$t=Pt.getAttribute("data-element-id");$t!==ft&&j.has(Pt)&&At.push({id:$t,exportValue:Dt,domElement:Pt})}return At}show(){var Tt;this.container&&(this.container.hidden=!1),(Tt=this.popup)==null||Tt.maybeShow()}hide(){var Tt;this.container&&(this.container.hidden=!0),(Tt=this.popup)==null||Tt.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Tt=this.getElementsToTriggerPopup();if(Array.isArray(Tt))for(const ft of Tt)ft.classList.add("highlightArea");else Tt.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Tt,data:{id:ft}}=this;this.container.addEventListener("dblclick",()=>{var At;(At=this.linkService.eventBus)==null||At.dispatch("switchannotationeditormode",{source:this,mode:Tt,editId:ft})})}};mt=new WeakMap;let rt=ht;class nt extends rt{constructor(ft,At=null){super(ft,{isRenderable:!0,ignoreBorder:!!(At!=null&&At.ignoreBorder),createQuadrilaterals:!0});Lt(this,yt);Lt(this,Ct);this.isTooltipOnly=ft.data.isTooltipOnly}render(){const{data:ft,linkService:At}=this,Pt=document.createElement("a");Pt.setAttribute("data-element-id",ft.id);let Dt=!1;return ft.url?(At.addLinkAttributes(Pt,ft.url,ft.newWindow),Dt=!0):ft.action?(this._bindNamedAction(Pt,ft.action),Dt=!0):ft.attachment?(this._bindAttachment(Pt,ft.attachment),Dt=!0):ft.setOCGState?(Bt(this,Ct,ks).call(this,Pt,ft.setOCGState),Dt=!0):ft.dest?(this._bindLink(Pt,ft.dest),Dt=!0):(ft.actions&&(ft.actions.Action||ft.actions["Mouse Up"]||ft.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Pt,ft),Dt=!0),ft.resetForm?(this._bindResetFormAction(Pt,ft.resetForm),Dt=!0):this.isTooltipOnly&&!Dt&&(this._bindLink(Pt,""),Dt=!0)),this.container.classList.add("linkAnnotation"),Dt&&this.container.append(Pt),this.container}_bindLink(ft,At){ft.href=this.linkService.getDestinationHash(At),ft.onclick=()=>(At&&this.linkService.goToDestination(At),!1),(At||At==="")&&Bt(this,yt,Qn).call(this)}_bindNamedAction(ft,At){ft.href=this.linkService.getAnchorUrl(""),ft.onclick=()=>(this.linkService.executeNamedAction(At),!1),Bt(this,yt,Qn).call(this)}_bindAttachment(ft,At){ft.href=this.linkService.getAnchorUrl(""),ft.onclick=()=>{var Pt;return(Pt=this.downloadManager)==null||Pt.openOrDownloadData(this.container,At.content,At.filename),!1},Bt(this,yt,Qn).call(this)}_bindJSAction(ft,At){ft.href=this.linkService.getAnchorUrl("");const Pt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Dt of Object.keys(At.actions)){const $t=Pt.get(Dt);$t&&(ft[$t]=()=>{var Jt;return(Jt=this.linkService.eventBus)==null||Jt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:At.id,name:Dt}}),!1})}ft.onclick||(ft.onclick=()=>!1),Bt(this,yt,Qn).call(this)}_bindResetFormAction(ft,At){const Pt=ft.onclick;if(Pt||(ft.href=this.linkService.getAnchorUrl("")),Bt(this,yt,Qn).call(this),!this._fieldObjects){(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Pt||(ft.onclick=()=>!1);return}ft.onclick=()=>{var In;Pt==null||Pt();const{fields:Dt,refs:$t,include:Jt}=At,ln=[];if(Dt.length!==0||$t.length!==0){const En=new Set($t);for(const Sn of Dt){const Ln=this._fieldObjects[Sn]||[];for(const{id:Dn}of Ln)En.add(Dn)}for(const Sn of Object.values(this._fieldObjects))for(const Ln of Sn)En.has(Ln.id)===Jt&&ln.push(Ln)}else for(const En of Object.values(this._fieldObjects))ln.push(...En);const yn=this.annotationStorage,xn=[];for(const En of ln){const{id:Sn}=En;switch(xn.push(Sn),En.type){case"text":{const Dn=En.defaultValue||"";yn.setValue(Sn,{value:Dn});break}case"checkbox":case"radiobutton":{const Dn=En.defaultValue===En.exportValues;yn.setValue(Sn,{value:Dn});break}case"combobox":case"listbox":{const Dn=En.defaultValue||"";yn.setValue(Sn,{value:Dn});break}default:continue}const Ln=document.querySelector(`[data-element-id="${Sn}"]`);if(Ln){if(!j.has(Ln)){(0,a.warn)(`_bindResetFormAction - element not allowed: ${Sn}`);continue}}else continue;Ln.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((In=this.linkService.eventBus)==null||In.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:xn,name:"ResetForm"}})),!1}}}yt=new WeakSet,Qn=function(){this.container.setAttribute("data-internal-link","")},Ct=new WeakSet,ks=function(ft,At){ft.href=this.linkService.getAnchorUrl(""),ft.onclick=()=>(this.linkService.executeSetOCGState(At),!1),Bt(this,yt,Qn).call(this)};class st extends rt{constructor(Tt){super(Tt,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Tt=document.createElement("img");return Tt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Tt.alt="[{{type}} Annotation]",Tt.dataset.l10nId="text_annotation_type",Tt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Tt),this.container}}class tt extends rt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Tt){var ft;this.data.hasOwnCanvas&&(((ft=Tt.previousSibling)==null?void 0:ft.nodeName)==="CANVAS"&&(Tt.previousSibling.hidden=!0),Tt.hidden=!1)}_getKeyModifier(Tt){const{isWin:ft,isMac:At}=a.FeatureTest.platform;return ft&&Tt.ctrlKey||At&&Tt.metaKey}_setEventListener(Tt,ft,At,Pt,Dt){At.includes("mouse")?Tt.addEventListener(At,$t=>{var Jt;(Jt=this.linkService.eventBus)==null||Jt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Pt,value:Dt($t),shift:$t.shiftKey,modifier:this._getKeyModifier($t)}})}):Tt.addEventListener(At,$t=>{var Jt;if(At==="blur"){if(!ft.focused||!$t.relatedTarget)return;ft.focused=!1}else if(At==="focus"){if(ft.focused)return;ft.focused=!0}Dt&&((Jt=this.linkService.eventBus)==null||Jt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Pt,value:Dt($t)}}))})}_setEventListeners(Tt,ft,At,Pt){var Dt,$t,Jt;for(const[ln,yn]of At)(yn==="Action"||(Dt=this.data.actions)!=null&&Dt[yn])&&((yn==="Focus"||yn==="Blur")&&(ft||(ft={focused:!1})),this._setEventListener(Tt,ft,ln,yn,Pt),yn==="Focus"&&!(($t=this.data.actions)!=null&&$t.Blur)?this._setEventListener(Tt,ft,"blur","Blur",null):yn==="Blur"&&!((Jt=this.data.actions)!=null&&Jt.Focus)&&this._setEventListener(Tt,ft,"focus","Focus",null))}_setBackgroundColor(Tt){const ft=this.data.backgroundColor||null;Tt.style.backgroundColor=ft===null?"transparent":a.Util.makeHexColor(ft[0],ft[1],ft[2])}_setTextStyle(Tt){const ft=["left","center","right"],{fontColor:At}=this.data.defaultAppearanceData,Pt=this.data.defaultAppearanceData.fontSize||_,Dt=Tt.style;let $t;const Jt=2,ln=yn=>Math.round(10*yn)/10;if(this.data.multiLine){const yn=Math.abs(this.data.rect[3]-this.data.rect[1]-Jt),xn=Math.round(yn/(a.LINE_FACTOR*Pt))||1,In=yn/xn;$t=Math.min(Pt,ln(In/a.LINE_FACTOR))}else{const yn=Math.abs(this.data.rect[3]-this.data.rect[1]-Jt);$t=Math.min(Pt,ln(yn/a.LINE_FACTOR))}Dt.fontSize=`calc(${$t}px * var(--scale-factor))`,Dt.color=a.Util.makeHexColor(At[0],At[1],At[2]),this.data.textAlignment!==null&&(Dt.textAlign=ft[this.data.textAlignment])}_setRequired(Tt,ft){ft?Tt.setAttribute("required",!0):Tt.removeAttribute("required"),Tt.setAttribute("aria-required",ft)}}class et extends tt{constructor(Tt){const ft=Tt.renderForms||!Tt.data.hasAppearance&&!!Tt.data.fieldValue;super(Tt,{isRenderable:ft})}setPropertyOnSiblings(Tt,ft,At,Pt){const Dt=this.annotationStorage;for(const $t of this._getElementsByName(Tt.name,Tt.id))$t.domElement&&($t.domElement[ft]=At),Dt.setValue($t.id,{[Pt]:At})}render(){var Pt,Dt;const Tt=this.annotationStorage,ft=this.data.id;this.container.classList.add("textWidgetAnnotation");let At=null;if(this.renderForms){const $t=Tt.getValue(ft,{value:this.data.fieldValue});let Jt=$t.value||"";const ln=Tt.getValue(ft,{charLimit:this.data.maxLen}).charLimit;ln&&Jt.length>ln&&(Jt=Jt.slice(0,ln));let yn=$t.formattedValue||((Pt=this.data.textContent)==null?void 0:Pt.join(`
`))||null;yn&&this.data.comb&&(yn=yn.replaceAll(/\s+/g,""));const xn={userValue:Jt,formattedValue:yn,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(At=document.createElement("textarea"),At.textContent=yn??Jt,this.data.doNotScroll&&(At.style.overflowY="hidden")):(At=document.createElement("input"),At.type="text",At.setAttribute("value",yn??Jt),this.data.doNotScroll&&(At.style.overflowX="hidden")),this.data.hasOwnCanvas&&(At.hidden=!0),j.add(At),At.setAttribute("data-element-id",ft),At.disabled=this.data.readOnly,At.name=this.data.fieldName,At.tabIndex=b,this._setRequired(At,this.data.required),ln&&(At.maxLength=ln),At.addEventListener("input",En=>{Tt.setValue(ft,{value:En.target.value}),this.setPropertyOnSiblings(At,"value",En.target.value,"value"),xn.formattedValue=null}),At.addEventListener("resetform",En=>{const Sn=this.data.defaultFieldValue??"";At.value=xn.userValue=Sn,xn.formattedValue=null});let In=En=>{const{formattedValue:Sn}=xn;Sn!=null&&(En.target.value=Sn),En.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){At.addEventListener("focus",Sn=>{if(xn.focused)return;const{target:Ln}=Sn;xn.userValue&&(Ln.value=xn.userValue),xn.lastCommittedValue=Ln.value,xn.commitKey=1,xn.focused=!0}),At.addEventListener("updatefromsandbox",Sn=>{this.showElementAndHideCanvas(Sn.target);const Ln={value(Dn){xn.userValue=Dn.detail.value??"",Tt.setValue(ft,{value:xn.userValue.toString()}),Dn.target.value=xn.userValue},formattedValue(Dn){const{formattedValue:On}=Dn.detail;xn.formattedValue=On,On!=null&&Dn.target!==document.activeElement&&(Dn.target.value=On),Tt.setValue(ft,{formattedValue:On})},selRange(Dn){Dn.target.setSelectionRange(...Dn.detail.selRange)},charLimit:Dn=>{var Hn;const{charLimit:On}=Dn.detail,{target:Bn}=Dn;if(On===0){Bn.removeAttribute("maxLength");return}Bn.setAttribute("maxLength",On);let Wn=xn.userValue;!Wn||Wn.length<=On||(Wn=Wn.slice(0,On),Bn.value=xn.userValue=Wn,Tt.setValue(ft,{value:Wn}),(Hn=this.linkService.eventBus)==null||Hn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ft,name:"Keystroke",value:Wn,willCommit:!0,commitKey:1,selStart:Bn.selectionStart,selEnd:Bn.selectionEnd}}))}};this._dispatchEventFromSandbox(Ln,Sn)}),At.addEventListener("keydown",Sn=>{var On;xn.commitKey=1;let Ln=-1;if(Sn.key==="Escape"?Ln=0:Sn.key==="Enter"&&!this.data.multiLine?Ln=2:Sn.key==="Tab"&&(xn.commitKey=3),Ln===-1)return;const{value:Dn}=Sn.target;xn.lastCommittedValue!==Dn&&(xn.lastCommittedValue=Dn,xn.userValue=Dn,(On=this.linkService.eventBus)==null||On.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ft,name:"Keystroke",value:Dn,willCommit:!0,commitKey:Ln,selStart:Sn.target.selectionStart,selEnd:Sn.target.selectionEnd}}))});const En=In;In=null,At.addEventListener("blur",Sn=>{var Dn;if(!xn.focused||!Sn.relatedTarget)return;xn.focused=!1;const{value:Ln}=Sn.target;xn.userValue=Ln,xn.lastCommittedValue!==Ln&&((Dn=this.linkService.eventBus)==null||Dn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ft,name:"Keystroke",value:Ln,willCommit:!0,commitKey:xn.commitKey,selStart:Sn.target.selectionStart,selEnd:Sn.target.selectionEnd}})),En(Sn)}),(Dt=this.data.actions)!=null&&Dt.Keystroke&&At.addEventListener("beforeinput",Sn=>{var Kn;xn.lastCommittedValue=null;const{data:Ln,target:Dn}=Sn,{value:On,selectionStart:Bn,selectionEnd:Wn}=Dn;let Hn=Bn,Gn=Wn;switch(Sn.inputType){case"deleteWordBackward":{const Yn=On.substring(0,Bn).match(/\w*[^\w]*$/);Yn&&(Hn-=Yn[0].length);break}case"deleteWordForward":{const Yn=On.substring(Bn).match(/^[^\w]*\w*/);Yn&&(Gn+=Yn[0].length);break}case"deleteContentBackward":Bn===Wn&&(Hn-=1);break;case"deleteContentForward":Bn===Wn&&(Gn+=1);break}Sn.preventDefault(),(Kn=this.linkService.eventBus)==null||Kn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ft,name:"Keystroke",value:On,change:Ln||"",willCommit:!1,selStart:Hn,selEnd:Gn}})}),this._setEventListeners(At,xn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Sn=>Sn.target.value)}if(In&&At.addEventListener("blur",In),this.data.comb){const Sn=(this.data.rect[2]-this.data.rect[0])/ln;At.classList.add("comb"),At.style.letterSpacing=`calc(${Sn}px * var(--scale-factor) - 1ch)`}}else At=document.createElement("div"),At.textContent=this.data.fieldValue,At.style.verticalAlign="middle",At.style.display="table-cell";return this._setTextStyle(At),this._setBackgroundColor(At),this._setDefaultPropertiesFromJS(At),this.container.append(At),this.container}}class it extends tt{constructor(Tt){super(Tt,{isRenderable:!!Tt.data.hasOwnCanvas})}}class pt extends tt{constructor(Tt){super(Tt,{isRenderable:Tt.renderForms})}render(){const Tt=this.annotationStorage,ft=this.data,At=ft.id;let Pt=Tt.getValue(At,{value:ft.exportValue===ft.fieldValue}).value;typeof Pt=="string"&&(Pt=Pt!=="Off",Tt.setValue(At,{value:Pt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Dt=document.createElement("input");return j.add(Dt),Dt.setAttribute("data-element-id",At),Dt.disabled=ft.readOnly,this._setRequired(Dt,this.data.required),Dt.type="checkbox",Dt.name=ft.fieldName,Pt&&Dt.setAttribute("checked",!0),Dt.setAttribute("exportValue",ft.exportValue),Dt.tabIndex=b,Dt.addEventListener("change",$t=>{const{name:Jt,checked:ln}=$t.target;for(const yn of this._getElementsByName(Jt,At)){const xn=ln&&yn.exportValue===ft.exportValue;yn.domElement&&(yn.domElement.checked=xn),Tt.setValue(yn.id,{value:xn})}Tt.setValue(At,{value:ln})}),Dt.addEventListener("resetform",$t=>{const Jt=ft.defaultFieldValue||"Off";$t.target.checked=Jt===ft.exportValue}),this.enableScripting&&this.hasJSActions&&(Dt.addEventListener("updatefromsandbox",$t=>{const Jt={value(ln){ln.target.checked=ln.detail.value!=="Off",Tt.setValue(At,{value:ln.target.checked})}};this._dispatchEventFromSandbox(Jt,$t)}),this._setEventListeners(Dt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],$t=>$t.target.checked)),this._setBackgroundColor(Dt),this._setDefaultPropertiesFromJS(Dt),this.container.append(Dt),this.container}}class ot extends tt{constructor(Tt){super(Tt,{isRenderable:Tt.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Tt=this.annotationStorage,ft=this.data,At=ft.id;let Pt=Tt.getValue(At,{value:ft.fieldValue===ft.buttonValue}).value;typeof Pt=="string"&&(Pt=Pt!==ft.buttonValue,Tt.setValue(At,{value:Pt}));const Dt=document.createElement("input");if(j.add(Dt),Dt.setAttribute("data-element-id",At),Dt.disabled=ft.readOnly,this._setRequired(Dt,this.data.required),Dt.type="radio",Dt.name=ft.fieldName,Pt&&Dt.setAttribute("checked",!0),Dt.tabIndex=b,Dt.addEventListener("change",$t=>{const{name:Jt,checked:ln}=$t.target;for(const yn of this._getElementsByName(Jt,At))Tt.setValue(yn.id,{value:!1});Tt.setValue(At,{value:ln})}),Dt.addEventListener("resetform",$t=>{const Jt=ft.defaultFieldValue;$t.target.checked=Jt!=null&&Jt===ft.buttonValue}),this.enableScripting&&this.hasJSActions){const $t=ft.buttonValue;Dt.addEventListener("updatefromsandbox",Jt=>{const ln={value:yn=>{const xn=$t===yn.detail.value;for(const In of this._getElementsByName(yn.target.name)){const En=xn&&In.id===At;In.domElement&&(In.domElement.checked=En),Tt.setValue(In.id,{value:En})}}};this._dispatchEventFromSandbox(ln,Jt)}),this._setEventListeners(Dt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Jt=>Jt.target.checked)}return this._setBackgroundColor(Dt),this._setDefaultPropertiesFromJS(Dt),this.container.append(Dt),this.container}}class at extends nt{constructor(Tt){super(Tt,{ignoreBorder:Tt.data.hasAppearance})}render(){const Tt=super.render();Tt.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Tt.title=this.data.alternativeText);const ft=Tt.lastChild;return this.enableScripting&&this.hasJSActions&&ft&&(this._setDefaultPropertiesFromJS(ft),ft.addEventListener("updatefromsandbox",At=>{this._dispatchEventFromSandbox({},At)})),Tt}}class xt extends tt{constructor(Tt){super(Tt,{isRenderable:Tt.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Tt=this.annotationStorage,ft=this.data.id,At=Tt.getValue(ft,{value:this.data.fieldValue}),Pt=document.createElement("select");j.add(Pt),Pt.setAttribute("data-element-id",ft),Pt.disabled=this.data.readOnly,this._setRequired(Pt,this.data.required),Pt.name=this.data.fieldName,Pt.tabIndex=b;let Dt=this.data.combo&&this.data.options.length>0;this.data.combo||(Pt.size=this.data.options.length,this.data.multiSelect&&(Pt.multiple=!0)),Pt.addEventListener("resetform",xn=>{const In=this.data.defaultFieldValue;for(const En of Pt.options)En.selected=En.value===In});for(const xn of this.data.options){const In=document.createElement("option");In.textContent=xn.displayValue,In.value=xn.exportValue,At.value.includes(xn.exportValue)&&(In.setAttribute("selected",!0),Dt=!1),Pt.append(In)}let $t=null;if(Dt){const xn=document.createElement("option");xn.value=" ",xn.setAttribute("hidden",!0),xn.setAttribute("selected",!0),Pt.prepend(xn),$t=()=>{xn.remove(),Pt.removeEventListener("input",$t),$t=null},Pt.addEventListener("input",$t)}const Jt=xn=>{const In=xn?"value":"textContent",{options:En,multiple:Sn}=Pt;return Sn?Array.prototype.filter.call(En,Ln=>Ln.selected).map(Ln=>Ln[In]):En.selectedIndex===-1?null:En[En.selectedIndex][In]};let ln=Jt(!1);const yn=xn=>{const In=xn.target.options;return Array.prototype.map.call(In,En=>({displayValue:En.textContent,exportValue:En.value}))};return this.enableScripting&&this.hasJSActions?(Pt.addEventListener("updatefromsandbox",xn=>{const In={value(En){$t==null||$t();const Sn=En.detail.value,Ln=new Set(Array.isArray(Sn)?Sn:[Sn]);for(const Dn of Pt.options)Dn.selected=Ln.has(Dn.value);Tt.setValue(ft,{value:Jt(!0)}),ln=Jt(!1)},multipleSelection(En){Pt.multiple=!0},remove(En){const Sn=Pt.options,Ln=En.detail.remove;Sn[Ln].selected=!1,Pt.remove(Ln),Sn.length>0&&Array.prototype.findIndex.call(Sn,On=>On.selected)===-1&&(Sn[0].selected=!0),Tt.setValue(ft,{value:Jt(!0),items:yn(En)}),ln=Jt(!1)},clear(En){for(;Pt.length!==0;)Pt.remove(0);Tt.setValue(ft,{value:null,items:[]}),ln=Jt(!1)},insert(En){const{index:Sn,displayValue:Ln,exportValue:Dn}=En.detail.insert,On=Pt.children[Sn],Bn=document.createElement("option");Bn.textContent=Ln,Bn.value=Dn,On?On.before(Bn):Pt.append(Bn),Tt.setValue(ft,{value:Jt(!0),items:yn(En)}),ln=Jt(!1)},items(En){const{items:Sn}=En.detail;for(;Pt.length!==0;)Pt.remove(0);for(const Ln of Sn){const{displayValue:Dn,exportValue:On}=Ln,Bn=document.createElement("option");Bn.textContent=Dn,Bn.value=On,Pt.append(Bn)}Pt.options.length>0&&(Pt.options[0].selected=!0),Tt.setValue(ft,{value:Jt(!0),items:yn(En)}),ln=Jt(!1)},indices(En){const Sn=new Set(En.detail.indices);for(const Ln of En.target.options)Ln.selected=Sn.has(Ln.index);Tt.setValue(ft,{value:Jt(!0)}),ln=Jt(!1)},editable(En){En.target.disabled=!En.detail.editable}};this._dispatchEventFromSandbox(In,xn)}),Pt.addEventListener("input",xn=>{var En;const In=Jt(!0);Tt.setValue(ft,{value:In}),xn.preventDefault(),(En=this.linkService.eventBus)==null||En.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ft,name:"Keystroke",value:ln,changeEx:In,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Pt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],xn=>xn.target.value)):Pt.addEventListener("input",function(xn){Tt.setValue(ft,{value:Jt(!0)})}),this.data.combo&&this._setTextStyle(Pt),this._setBackgroundColor(Pt),this._setDefaultPropertiesFromJS(Pt),this.container.append(Pt),this.container}}class gt extends rt{constructor(Tt){const{data:ft,elements:At}=Tt;super(Tt,{isRenderable:rt._hasPopupData(ft)}),this.elements=At}render(){this.container.classList.add("popupAnnotation");const Tt=new ut({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),ft=[];for(const At of this.elements)At.popup=Tt,ft.push(At.data.id),At.addHighlightArea();return this.container.setAttribute("aria-controls",ft.map(At=>`${a.AnnotationPrefix}${At}`).join(",")),this.container}}class ut{constructor({container:Tt,color:ft,elements:At,titleObj:Pt,modificationDate:Dt,contentsObj:$t,richText:Jt,parent:ln,rect:yn,parentRect:xn,open:In}){Lt(this,fn);Lt(this,wn);Lt(this,Mn);Lt(this,Nn);Lt(this,Mt,null);Lt(this,Wt,Bt(this,fn,As).bind(this));Lt(this,Xt,Bt(this,Nn,Kr).bind(this));Lt(this,Zt,Bt(this,Mn,Xr).bind(this));Lt(this,tn,Bt(this,wn,yr).bind(this));Lt(this,dn,null);Lt(this,rn,null);Lt(this,vn,null);Lt(this,Rn,null);Lt(this,pn,null);Lt(this,kn,null);Lt(this,an,!1);Lt(this,Gt,null);Lt(this,qt,null);Lt(this,sn,null);Lt(this,Ft,null);Lt(this,Yt,!1);var Sn;Kt(this,rn,Tt),Kt(this,Ft,Pt),Kt(this,vn,$t),Kt(this,sn,Jt),Kt(this,pn,ln),Kt(this,dn,ft),Kt(this,qt,yn),Kt(this,kn,xn),Kt(this,Rn,At);const En=o.PDFDateString.toDateObject(Dt);En&&Kt(this,Mt,ln.l10n.get("annotation_date_string",{date:En.toLocaleDateString(),time:En.toLocaleTimeString()})),this.trigger=At.flatMap(Ln=>Ln.getElementsToTriggerPopup());for(const Ln of this.trigger)Ln.addEventListener("click",lt(this,tn)),Ln.addEventListener("mouseenter",lt(this,Zt)),Ln.addEventListener("mouseleave",lt(this,Xt)),Ln.classList.add("popupTriggerArea");for(const Ln of At)(Sn=Ln.container)==null||Sn.addEventListener("keydown",lt(this,Wt));lt(this,rn).hidden=!0,In&&Bt(this,wn,yr).call(this)}render(){if(lt(this,Gt))return;const{page:{view:Tt},viewport:{rawDims:{pageWidth:ft,pageHeight:At,pageX:Pt,pageY:Dt}}}=lt(this,pn),$t=Kt(this,Gt,document.createElement("div"));if($t.className="popup",lt(this,dn)){const Hn=$t.style.outlineColor=a.Util.makeHexColor(...lt(this,dn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?$t.style.backgroundColor=`color-mix(in srgb, ${Hn} 30%, white)`:$t.style.backgroundColor=a.Util.makeHexColor(...lt(this,dn).map(Kn=>Math.floor(.7*(255-Kn)+Kn)))}const Jt=document.createElement("span");Jt.className="header";const ln=document.createElement("h1");if(Jt.append(ln),{dir:ln.dir,str:ln.textContent}=lt(this,Ft),$t.append(Jt),lt(this,Mt)){const Hn=document.createElement("span");Hn.classList.add("popupDate"),lt(this,Mt).then(Gn=>{Hn.textContent=Gn}),Jt.append(Hn)}const yn=lt(this,vn),xn=lt(this,sn);if(xn!=null&&xn.str&&(!(yn!=null&&yn.str)||yn.str===xn.str))g.XfaLayer.render({xfaHtml:xn.html,intent:"richText",div:$t}),$t.lastChild.classList.add("richText","popupContent");else{const Hn=this._formatContents(yn);$t.append(Hn)}let In=!!lt(this,kn),En=In?lt(this,kn):lt(this,qt);for(const Hn of lt(this,Rn))if(!En||a.Util.intersect(Hn.data.rect,En)!==null){En=Hn.data.rect,In=!0;break}const Sn=a.Util.normalizeRect([En[0],Tt[3]-En[1]+Tt[1],En[2],Tt[3]-En[3]+Tt[1]]),Ln=5,Dn=In?En[2]-En[0]+Ln:0,On=Sn[0]+Dn,Bn=Sn[1],{style:Wn}=lt(this,rn);Wn.left=`${100*(On-Pt)/ft}%`,Wn.top=`${100*(Bn-Dt)/At}%`,lt(this,rn).append($t)}_formatContents({str:Tt,dir:ft}){const At=document.createElement("p");At.classList.add("popupContent"),At.dir=ft;const Pt=Tt.split(/(?:\r\n?|\n)/);for(let Dt=0,$t=Pt.length;Dt<$t;++Dt){const Jt=Pt[Dt];At.append(document.createTextNode(Jt)),Dt<$t-1&&At.append(document.createElement("br"))}return At}forceHide(){Kt(this,Yt,this.isVisible),lt(this,Yt)&&(lt(this,rn).hidden=!0)}maybeShow(){lt(this,Yt)&&(Kt(this,Yt,!1),lt(this,rn).hidden=!1)}get isVisible(){return lt(this,rn).hidden===!1}}Mt=new WeakMap,Wt=new WeakMap,Xt=new WeakMap,Zt=new WeakMap,tn=new WeakMap,dn=new WeakMap,rn=new WeakMap,vn=new WeakMap,Rn=new WeakMap,pn=new WeakMap,kn=new WeakMap,an=new WeakMap,Gt=new WeakMap,qt=new WeakMap,sn=new WeakMap,Ft=new WeakMap,Yt=new WeakMap,fn=new WeakSet,As=function(Tt){Tt.altKey||Tt.shiftKey||Tt.ctrlKey||Tt.metaKey||(Tt.key==="Enter"||Tt.key==="Escape"&&lt(this,an))&&Bt(this,wn,yr).call(this)},wn=new WeakSet,yr=function(){Kt(this,an,!lt(this,an)),lt(this,an)?(Bt(this,Mn,Xr).call(this),lt(this,rn).addEventListener("click",lt(this,tn)),lt(this,rn).addEventListener("keydown",lt(this,Wt))):(Bt(this,Nn,Kr).call(this),lt(this,rn).removeEventListener("click",lt(this,tn)),lt(this,rn).removeEventListener("keydown",lt(this,Wt)))},Mn=new WeakSet,Xr=function(){lt(this,Gt)||this.render(),this.isVisible?lt(this,an)&&lt(this,rn).classList.add("focused"):(lt(this,rn).hidden=!1,lt(this,rn).style.zIndex=parseInt(lt(this,rn).style.zIndex)+1e3)},Nn=new WeakSet,Kr=function(){lt(this,rn).classList.remove("focused"),!(lt(this,an)||!this.isVisible)&&(lt(this,rn).hidden=!0,lt(this,rn).style.zIndex=parseInt(lt(this,rn).style.zIndex)-1e3)};class Et extends rt{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Tt.data.textContent,this.textPosition=Tt.data.textPosition,this.annotationEditorType=a.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Tt=document.createElement("div");Tt.classList.add("annotationTextContent"),Tt.setAttribute("role","comment");for(const ft of this.textContent){const At=document.createElement("span");At.textContent=ft,Tt.append(At)}this.container.append(Tt)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}i.FreeTextAnnotationElement=Et;class vt extends rt{constructor(ft){super(ft,{isRenderable:!0,ignoreBorder:!0});Lt(this,zt,null)}render(){this.container.classList.add("lineAnnotation");const ft=this.data,{width:At,height:Pt}=$(ft.rect),Dt=this.svgFactory.create(At,Pt,!0),$t=Kt(this,zt,this.svgFactory.createElement("svg:line"));return $t.setAttribute("x1",ft.rect[2]-ft.lineCoordinates[0]),$t.setAttribute("y1",ft.rect[3]-ft.lineCoordinates[1]),$t.setAttribute("x2",ft.rect[2]-ft.lineCoordinates[2]),$t.setAttribute("y2",ft.rect[3]-ft.lineCoordinates[3]),$t.setAttribute("stroke-width",ft.borderStyle.width||1),$t.setAttribute("stroke","transparent"),$t.setAttribute("fill","transparent"),Dt.append($t),this.container.append(Dt),!ft.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return lt(this,zt)}addHighlightArea(){this.container.classList.add("highlightArea")}}zt=new WeakMap;class _t extends rt{constructor(ft){super(ft,{isRenderable:!0,ignoreBorder:!0});Lt(this,Ot,null)}render(){this.container.classList.add("squareAnnotation");const ft=this.data,{width:At,height:Pt}=$(ft.rect),Dt=this.svgFactory.create(At,Pt,!0),$t=ft.borderStyle.width,Jt=Kt(this,Ot,this.svgFactory.createElement("svg:rect"));return Jt.setAttribute("x",$t/2),Jt.setAttribute("y",$t/2),Jt.setAttribute("width",At-$t),Jt.setAttribute("height",Pt-$t),Jt.setAttribute("stroke-width",$t||1),Jt.setAttribute("stroke","transparent"),Jt.setAttribute("fill","transparent"),Dt.append(Jt),this.container.append(Dt),!ft.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return lt(this,Ot)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ot=new WeakMap;class jt extends rt{constructor(ft){super(ft,{isRenderable:!0,ignoreBorder:!0});Lt(this,on,null)}render(){this.container.classList.add("circleAnnotation");const ft=this.data,{width:At,height:Pt}=$(ft.rect),Dt=this.svgFactory.create(At,Pt,!0),$t=ft.borderStyle.width,Jt=Kt(this,on,this.svgFactory.createElement("svg:ellipse"));return Jt.setAttribute("cx",At/2),Jt.setAttribute("cy",Pt/2),Jt.setAttribute("rx",At/2-$t/2),Jt.setAttribute("ry",Pt/2-$t/2),Jt.setAttribute("stroke-width",$t||1),Jt.setAttribute("stroke","transparent"),Jt.setAttribute("fill","transparent"),Dt.append(Jt),this.container.append(Dt),!ft.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return lt(this,on)}addHighlightArea(){this.container.classList.add("highlightArea")}}on=new WeakMap;class kt extends rt{constructor(ft){super(ft,{isRenderable:!0,ignoreBorder:!0});Lt(this,hn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const ft=this.data,{width:At,height:Pt}=$(ft.rect),Dt=this.svgFactory.create(At,Pt,!0);let $t=[];for(const ln of ft.vertices){const yn=ln.x-ft.rect[0],xn=ft.rect[3]-ln.y;$t.push(yn+","+xn)}$t=$t.join(" ");const Jt=Kt(this,hn,this.svgFactory.createElement(this.svgElementName));return Jt.setAttribute("points",$t),Jt.setAttribute("stroke-width",ft.borderStyle.width||1),Jt.setAttribute("stroke","transparent"),Jt.setAttribute("fill","transparent"),Dt.append(Jt),this.container.append(Dt),!ft.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return lt(this,hn)}addHighlightArea(){this.container.classList.add("highlightArea")}}hn=new WeakMap;class It extends kt{constructor(Tt){super(Tt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Vt extends rt{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Ht extends rt{constructor(ft){super(ft,{isRenderable:!0,ignoreBorder:!0});Lt(this,$n,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=a.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const ft=this.data,{width:At,height:Pt}=$(ft.rect),Dt=this.svgFactory.create(At,Pt,!0);for(const $t of ft.inkLists){let Jt=[];for(const yn of $t){const xn=yn.x-ft.rect[0],In=ft.rect[3]-yn.y;Jt.push(`${xn},${In}`)}Jt=Jt.join(" ");const ln=this.svgFactory.createElement(this.svgElementName);lt(this,$n).push(ln),ln.setAttribute("points",Jt),ln.setAttribute("stroke-width",ft.borderStyle.width||1),ln.setAttribute("stroke","transparent"),ln.setAttribute("fill","transparent"),!ft.popupRef&&this.hasPopupData&&this._createPopup(),Dt.append(ln)}return this.container.append(Dt),this.container}getElementsToTriggerPopup(){return lt(this,$n)}addHighlightArea(){this.container.classList.add("highlightArea")}}$n=new WeakMap,i.InkAnnotationElement=Ht;class St extends rt{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Nt extends rt{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class bt extends rt{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Qt extends rt{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class nn extends rt{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}i.StampAnnotationElement=nn;class dt extends rt{constructor(ft){var Dt;super(ft,{isRenderable:!0});Lt(this,Ut);Lt(this,zn,null);const{filename:At,content:Pt}=this.data.file;this.filename=(0,o.getFilenameFromUrl)(At,!0),this.content=Pt,(Dt=this.linkService.eventBus)==null||Dt.dispatch("fileattachmentannotation",{source:this,filename:At,content:Pt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:ft,data:At}=this;let Pt;At.hasAppearance||At.fillAlpha===0?Pt=document.createElement("div"):(Pt=document.createElement("img"),Pt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(At.name)?"paperclip":"pushpin"}.svg`,At.fillAlpha&&At.fillAlpha<1&&(Pt.style=`filter: opacity(${Math.round(At.fillAlpha*100)}%);`)),Pt.addEventListener("dblclick",Bt(this,Ut,Yr).bind(this)),Kt(this,zn,Pt);const{isMac:Dt}=a.FeatureTest.platform;return ft.addEventListener("keydown",$t=>{$t.key==="Enter"&&(Dt?$t.metaKey:$t.ctrlKey)&&Bt(this,Ut,Yr).call(this)}),!At.popupRef&&this.hasPopupData?this._createPopup():Pt.classList.add("popupTriggerArea"),ft.append(Pt),ft}getElementsToTriggerPopup(){return lt(this,zn)}addHighlightArea(){this.container.classList.add("highlightArea")}}zn=new WeakMap,Ut=new WeakSet,Yr=function(){var ft;(ft=this.downloadManager)==null||ft.openOrDownloadData(this.container,this.content,this.filename)};class ct{constructor({div:Tt,accessibilityManager:ft,annotationCanvasMap:At,l10n:Pt,page:Dt,viewport:$t}){Lt(this,Tn);Lt(this,un);Lt(this,Cn,null);Lt(this,gn,null);Lt(this,_n,new Map);this.div=Tt,Kt(this,Cn,ft),Kt(this,gn,At),this.l10n=Pt,this.page=Dt,this.viewport=$t,this.zIndex=0,this.l10n||(this.l10n=h.NullL10n)}async render(Tt){const{annotations:ft}=Tt,At=this.div;(0,o.setLayerDimensions)(At,this.viewport);const Pt=new Map,Dt={data:null,layer:At,linkService:Tt.linkService,downloadManager:Tt.downloadManager,imageResourcesPath:Tt.imageResourcesPath||"",renderForms:Tt.renderForms!==!1,svgFactory:new o.DOMSVGFactory,annotationStorage:Tt.annotationStorage||new c.AnnotationStorage,enableScripting:Tt.enableScripting===!0,hasJSActions:Tt.hasJSActions,fieldObjects:Tt.fieldObjects,parent:this,elements:null};for(const $t of ft){if($t.noHTML)continue;const Jt=$t.annotationType===a.AnnotationType.POPUP;if(Jt){const xn=Pt.get($t.id);if(!xn)continue;Dt.elements=xn}else{const{width:xn,height:In}=$($t.rect);if(xn<=0||In<=0)continue}Dt.data=$t;const ln=_e.create(Dt);if(!ln.isRenderable)continue;if(!Jt&&$t.popupRef){const xn=Pt.get($t.popupRef);xn?xn.push(ln):Pt.set($t.popupRef,[ln])}ln.annotationEditorType>0&&lt(this,_n).set(ln.data.id,ln);const yn=ln.render();$t.hidden&&(yn.style.visibility="hidden"),Bt(this,Tn,Cs).call(this,yn,$t.id)}Bt(this,un,Qr).call(this),await this.l10n.translate(At)}update({viewport:Tt}){const ft=this.div;this.viewport=Tt,(0,o.setLayerDimensions)(ft,{rotation:Tt.rotation}),Bt(this,un,Qr).call(this),ft.hidden=!1}getEditableAnnotations(){return Array.from(lt(this,_n).values())}getEditableAnnotation(Tt){return lt(this,_n).get(Tt)}}Cn=new WeakMap,gn=new WeakMap,_n=new WeakMap,Tn=new WeakSet,Cs=function(Tt,ft){var Pt;const At=Tt.firstChild||Tt;At.id=`${a.AnnotationPrefix}${ft}`,this.div.append(Tt),(Pt=lt(this,Cn))==null||Pt.moveElementInDOM(this.div,Tt,At,!1)},un=new WeakSet,Qr=function(){if(!lt(this,gn))return;const Tt=this.div;for(const[ft,At]of lt(this,gn)){const Pt=Tt.querySelector(`[data-annotation-id="${ft}"]`);if(!Pt)continue;const{firstChild:Dt}=Pt;Dt?Dt.nodeName==="CANVAS"?Dt.replaceWith(At):Dt.before(At):Pt.append(At)}lt(this,gn).clear()},i.AnnotationLayer=ct},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorConverters=void 0;function s(c){return Math.floor(Math.max(0,Math.min(1,c))*255).toString(16).padStart(2,"0")}function a(c){return Math.max(0,Math.min(255,255*c))}class o{static CMYK_G([d,h,g,b]){return["G",1-Math.min(1,.3*d+.59*g+.11*h+b)]}static G_CMYK([d]){return["CMYK",0,0,0,1-d]}static G_RGB([d]){return["RGB",d,d,d]}static G_rgb([d]){return d=a(d),[d,d,d]}static G_HTML([d]){const h=s(d);return`#${h}${h}${h}`}static RGB_G([d,h,g]){return["G",.3*d+.59*h+.11*g]}static RGB_rgb(d){return d.map(a)}static RGB_HTML(d){return`#${d.map(s).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([d,h,g,b]){return["RGB",1-Math.min(1,d+b),1-Math.min(1,g+b),1-Math.min(1,h+b)]}static CMYK_rgb([d,h,g,b]){return[a(1-Math.min(1,d+b)),a(1-Math.min(1,g+b)),a(1-Math.min(1,h+b))]}static CMYK_HTML(d){const h=this.CMYK_RGB(d).slice(1);return this.RGB_HTML(h)}static RGB_CMYK([d,h,g]){const b=1-d,_=1-h,j=1-g,$=Math.min(b,_,j);return["CMYK",b,_,j,$]}}i.ColorConverters=o},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NullL10n=void 0,i.getL10nFallback=a;const s={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};s.print_progress_percent="{{progress}}%";function a(d,h){switch(d){case"find_match_count":d=`find_match_count[${h.total===1?"one":"other"}]`;break;case"find_match_count_limit":d=`find_match_count_limit[${h.limit===1?"one":"other"}]`;break}return s[d]||""}function o(d,h){return h?d.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(g,b)=>b in h?h[b]:"{{"+b+"}}"):d}const c={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(d,h=null,g=a(d,h)){return o(g,h)},async translate(d){}};i.NullL10n=c},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaLayer=void 0;var a=s(25);class o{static setupStorage(d,h,g,b,_){const j=b.getValue(h,{value:null});switch(g.name){case"textarea":if(j.value!==null&&(d.textContent=j.value),_==="print")break;d.addEventListener("input",$=>{b.setValue(h,{value:$.target.value})});break;case"input":if(g.attributes.type==="radio"||g.attributes.type==="checkbox"){if(j.value===g.attributes.xfaOn?d.setAttribute("checked",!0):j.value===g.attributes.xfaOff&&d.removeAttribute("checked"),_==="print")break;d.addEventListener("change",$=>{b.setValue(h,{value:$.target.checked?$.target.getAttribute("xfaOn"):$.target.getAttribute("xfaOff")})})}else{if(j.value!==null&&d.setAttribute("value",j.value),_==="print")break;d.addEventListener("input",$=>{b.setValue(h,{value:$.target.value})})}break;case"select":if(j.value!==null){d.setAttribute("value",j.value);for(const $ of g.children)$.attributes.value===j.value?$.attributes.selected=!0:$.attributes.hasOwnProperty("selected")&&delete $.attributes.selected}d.addEventListener("input",$=>{const _e=$.target.options,rt=_e.selectedIndex===-1?"":_e[_e.selectedIndex].value;b.setValue(h,{value:rt})});break}}static setAttributes({html:d,element:h,storage:g=null,intent:b,linkService:_}){const{attributes:j}=h,$=d instanceof HTMLAnchorElement;j.type==="radio"&&(j.name=`${j.name}-${b}`);for(const[_e,rt]of Object.entries(j))if(rt!=null)switch(_e){case"class":rt.length&&d.setAttribute(_e,rt.join(" "));break;case"dataId":break;case"id":d.setAttribute("data-element-id",rt);break;case"style":Object.assign(d.style,rt);break;case"textContent":d.textContent=rt;break;default:(!$||_e!=="href"&&_e!=="newWindow")&&d.setAttribute(_e,rt)}$&&_.addLinkAttributes(d,j.href,j.newWindow),g&&j.dataId&&this.setupStorage(d,j.dataId,h,g)}static render(d){var nt;const h=d.annotationStorage,g=d.linkService,b=d.xfaHtml,_=d.intent||"display",j=document.createElement(b.name);b.attributes&&this.setAttributes({html:j,element:b,intent:_,linkService:g});const $=[[b,-1,j]],_e=d.div;if(_e.append(j),d.viewport){const st=`matrix(${d.viewport.transform.join(",")})`;_e.style.transform=st}_!=="richText"&&_e.setAttribute("class","xfaLayer xfaFont");const rt=[];for(;$.length>0;){const[st,tt,et]=$.at(-1);if(tt+1===st.children.length){$.pop();continue}const it=st.children[++$.at(-1)[1]];if(it===null)continue;const{name:pt}=it;if(pt==="#text"){const at=document.createTextNode(it.value);rt.push(at),et.append(at);continue}const ot=(nt=it==null?void 0:it.attributes)!=null&&nt.xmlns?document.createElementNS(it.attributes.xmlns,pt):document.createElement(pt);if(et.append(ot),it.attributes&&this.setAttributes({html:ot,element:it,storage:h,intent:_,linkService:g}),it.children&&it.children.length>0)$.push([it,-1,ot]);else if(it.value){const at=document.createTextNode(it.value);a.XfaText.shouldBuildText(pt)&&rt.push(at),ot.append(at)}}for(const st of _e.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))st.setAttribute("readOnly",!0);return{textDivs:rt}}static update(d){const h=`matrix(${d.viewport.transform.join(",")})`;d.div.style.transform=h,d.div.hidden=!1}}i.XfaLayer=o},(e,i,s)=>{var b,_,j,$,_e,rt,nt,st,tt,et,it,pt,ot,at,xt,_s,ut,Rs,vt,Ts,jt,Ps,It,Jr,Ht,js,Nt,Zr,Qt,Ls,dt,Ms,mt,Is,yt,Ns,Ct,Ds,Mt,Xn,Xt,_i,tn,vr,rn,br,Rn,tr,kn,es,Gt,wr,sn,Fs,Yt,ts,bn,Os,jn,Vs,Pn,ns,en,Er,Ot,nr;Object.defineProperty(i,"__esModule",{value:!0}),i.InkEditor=void 0;var a=s(1),o=s(4),c=s(29),d=s(6),h=s(5);const hn=class hn extends o.AnnotationEditor{constructor(Ut){super({...Ut,name:"inkEditor"});Lt(this,xt);Lt(this,ut);Lt(this,vt);Lt(this,jt);Lt(this,It);Lt(this,Ht);Lt(this,Nt);Lt(this,Qt);Lt(this,dt);Lt(this,mt);Lt(this,yt);Lt(this,Ct);Lt(this,Mt);Lt(this,Xt);Lt(this,tn);Lt(this,rn);Lt(this,Rn);Lt(this,kn);Lt(this,Gt);Lt(this,jn);Lt(this,Pn);Lt(this,en);Lt(this,Ot);Lt(this,b,0);Lt(this,_,0);Lt(this,j,this.canvasPointermove.bind(this));Lt(this,$,this.canvasPointerleave.bind(this));Lt(this,_e,this.canvasPointerup.bind(this));Lt(this,rt,this.canvasPointerdown.bind(this));Lt(this,nt,new Path2D);Lt(this,st,!1);Lt(this,tt,!1);Lt(this,et,!1);Lt(this,it,null);Lt(this,pt,0);Lt(this,ot,0);Lt(this,at,null);this.color=Ut.color||null,this.thickness=Ut.thickness||null,this.opacity=Ut.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Ut){o.AnnotationEditor.initialize(Ut,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Ut,mn){switch(Ut){case a.AnnotationEditorParamsType.INK_THICKNESS:hn._defaultThickness=mn;break;case a.AnnotationEditorParamsType.INK_COLOR:hn._defaultColor=mn;break;case a.AnnotationEditorParamsType.INK_OPACITY:hn._defaultOpacity=mn/100;break}}updateParams(Ut,mn){switch(Ut){case a.AnnotationEditorParamsType.INK_THICKNESS:Bt(this,xt,_s).call(this,mn);break;case a.AnnotationEditorParamsType.INK_COLOR:Bt(this,ut,Rs).call(this,mn);break;case a.AnnotationEditorParamsType.INK_OPACITY:Bt(this,vt,Ts).call(this,mn);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,hn._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,hn._defaultColor||o.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(hn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||hn._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,this.color||hn._defaultColor||o.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??hn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Bt(this,tn,vr).call(this),Bt(this,rn,br).call(this)),this.isAttachedToDOM||(this.parent.add(this),Bt(this,Rn,tr).call(this)),Bt(this,Ot,nr).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,lt(this,it).disconnect(),Kt(this,it,null),super.remove())}setParent(Ut){!this.parent&&Ut?this._uiManager.removeShouldRescale(this):this.parent&&Ut===null&&this._uiManager.addShouldRescale(this),super.setParent(Ut)}onScaleChanging(){const[Ut,mn]=this.parentDimensions,Cn=this.width*Ut,gn=this.height*mn;this.setDimensions(Cn,gn)}enableEditMode(){lt(this,st)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",lt(this,rt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",lt(this,rt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){lt(this,st)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Kt(this,st,!0),this.div.classList.add("disabled"),Bt(this,Ot,nr).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Ut){this._focusEventsAllowed&&(super.focusin(Ut),this.enableEditMode())}canvasPointerdown(Ut){Ut.button!==0||!this.isInEditMode()||lt(this,st)||(this.setInForeground(),Ut.preventDefault(),Ut.type!=="mouse"&&this.div.focus(),Bt(this,Ht,js).call(this,Ut.offsetX,Ut.offsetY))}canvasPointermove(Ut){Ut.preventDefault(),Bt(this,Nt,Zr).call(this,Ut.offsetX,Ut.offsetY)}canvasPointerup(Ut){Ut.preventDefault(),Bt(this,Xt,_i).call(this,Ut)}canvasPointerleave(Ut){Bt(this,Xt,_i).call(this,Ut)}get isResizable(){return!this.isEmpty()&&lt(this,st)}render(){if(this.div)return this.div;let Ut,mn;this.width&&(Ut=this.x,mn=this.y),super.render(),o.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Vn=>{var un;return(un=this.div)==null?void 0:un.setAttribute("aria-label",Vn)});const[Cn,gn,_n,Tn]=Bt(this,jt,Ps).call(this);if(this.setAt(Cn,gn,0,0),this.setDims(_n,Tn),Bt(this,tn,vr).call(this),this.width){const[Vn,un]=this.parentDimensions;this.setAspectRatio(this.width*Vn,this.height*un),this.setAt(Ut*Vn,mn*un,this.width*Vn,this.height*un),Kt(this,et,!0),Bt(this,Rn,tr).call(this),this.setDims(this.width*Vn,this.height*un),Bt(this,Mt,Xn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Bt(this,rn,br).call(this),this.div}setDimensions(Ut,mn){const Cn=Math.round(Ut),gn=Math.round(mn);if(lt(this,pt)===Cn&&lt(this,ot)===gn)return;Kt(this,pt,Cn),Kt(this,ot,gn),this.canvas.style.visibility="hidden";const[_n,Tn]=this.parentDimensions;this.width=Ut/_n,this.height=mn/Tn,this.fixAndSetPosition(),lt(this,st)&&Bt(this,kn,es).call(this,Ut,mn),Bt(this,Rn,tr).call(this),Bt(this,Mt,Xn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Ut,mn,Cn){var Dt,$t,Jt;if(Ut instanceof c.InkAnnotationElement)return null;const gn=super.deserialize(Ut,mn,Cn);gn.thickness=Ut.thickness,gn.color=a.Util.makeHexColor(...Ut.color),gn.opacity=Ut.opacity;const[_n,Tn]=gn.pageDimensions,Vn=gn.width*_n,un=gn.height*Tn,Fn=gn.parentScale,An=Ut.thickness/2;Kt(gn,st,!0),Kt(gn,pt,Math.round(Vn)),Kt(gn,ot,Math.round(un));const{paths:Tt,rect:ft,rotation:At}=Ut;for(let{bezier:ln}of Tt){ln=Bt(Dt=hn,bn,Os).call(Dt,ln,ft,At);const yn=[];gn.paths.push(yn);let xn=Fn*(ln[0]-An),In=Fn*(ln[1]-An);for(let Sn=2,Ln=ln.length;Sn<Ln;Sn+=6){const Dn=Fn*(ln[Sn]-An),On=Fn*(ln[Sn+1]-An),Bn=Fn*(ln[Sn+2]-An),Wn=Fn*(ln[Sn+3]-An),Hn=Fn*(ln[Sn+4]-An),Gn=Fn*(ln[Sn+5]-An);yn.push([[xn,In],[Dn,On],[Bn,Wn],[Hn,Gn]]),xn=Hn,In=Gn}const En=Bt(this,sn,Fs).call(this,yn);gn.bezierPath2D.push(En)}const Pt=Bt($t=gn,Pn,ns).call($t);return Kt(gn,_,Math.max(o.AnnotationEditor.MIN_SIZE,Pt[2]-Pt[0])),Kt(gn,b,Math.max(o.AnnotationEditor.MIN_SIZE,Pt[3]-Pt[1])),Bt(Jt=gn,kn,es).call(Jt,Vn,un),gn}serialize(){if(this.isEmpty())return null;const Ut=this.getRect(0,0),mn=o.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:a.AnnotationEditorType.INK,color:mn,thickness:this.thickness,opacity:this.opacity,paths:Bt(this,jn,Vs).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Ut),pageIndex:this.pageIndex,rect:Ut,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};b=new WeakMap,_=new WeakMap,j=new WeakMap,$=new WeakMap,_e=new WeakMap,rt=new WeakMap,nt=new WeakMap,st=new WeakMap,tt=new WeakMap,et=new WeakMap,it=new WeakMap,pt=new WeakMap,ot=new WeakMap,at=new WeakMap,xt=new WeakSet,_s=function(Ut){const mn=this.thickness;this.addCommands({cmd:()=>{this.thickness=Ut,Bt(this,Ot,nr).call(this)},undo:()=>{this.thickness=mn,Bt(this,Ot,nr).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},ut=new WeakSet,Rs=function(Ut){const mn=this.color;this.addCommands({cmd:()=>{this.color=Ut,Bt(this,Mt,Xn).call(this)},undo:()=>{this.color=mn,Bt(this,Mt,Xn).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},vt=new WeakSet,Ts=function(Ut){Ut/=100;const mn=this.opacity;this.addCommands({cmd:()=>{this.opacity=Ut,Bt(this,Mt,Xn).call(this)},undo:()=>{this.opacity=mn,Bt(this,Mt,Xn).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},jt=new WeakSet,Ps=function(){const{parentRotation:Ut,parentDimensions:[mn,Cn]}=this;switch(Ut){case 90:return[0,Cn,Cn,mn];case 180:return[mn,Cn,mn,Cn];case 270:return[mn,0,Cn,mn];default:return[0,0,mn,Cn]}},It=new WeakSet,Jr=function(){const{ctx:Ut,color:mn,opacity:Cn,thickness:gn,parentScale:_n,scaleFactor:Tn}=this;Ut.lineWidth=gn*_n/Tn,Ut.lineCap="round",Ut.lineJoin="round",Ut.miterLimit=10,Ut.strokeStyle=`${mn}${(0,h.opacityToHex)(Cn)}`},Ht=new WeakSet,js=function(Ut,mn){this.canvas.addEventListener("contextmenu",d.noContextMenu),this.canvas.addEventListener("pointerleave",lt(this,$)),this.canvas.addEventListener("pointermove",lt(this,j)),this.canvas.addEventListener("pointerup",lt(this,_e)),this.canvas.removeEventListener("pointerdown",lt(this,rt)),this.isEditing=!0,lt(this,et)||(Kt(this,et,!0),Bt(this,Rn,tr).call(this),this.thickness||(this.thickness=hn._defaultThickness),this.color||(this.color=hn._defaultColor||o.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=hn._defaultOpacity)),this.currentPath.push([Ut,mn]),Kt(this,tt,!1),Bt(this,It,Jr).call(this),Kt(this,at,()=>{Bt(this,mt,Is).call(this),lt(this,at)&&window.requestAnimationFrame(lt(this,at))}),window.requestAnimationFrame(lt(this,at))},Nt=new WeakSet,Zr=function(Ut,mn){const[Cn,gn]=this.currentPath.at(-1);if(this.currentPath.length>1&&Ut===Cn&&mn===gn)return;const _n=this.currentPath;let Tn=lt(this,nt);if(_n.push([Ut,mn]),Kt(this,tt,!0),_n.length<=2){Tn.moveTo(..._n[0]),Tn.lineTo(Ut,mn);return}_n.length===3&&(Kt(this,nt,Tn=new Path2D),Tn.moveTo(..._n[0])),Bt(this,yt,Ns).call(this,Tn,..._n.at(-3),..._n.at(-2),Ut,mn)},Qt=new WeakSet,Ls=function(){if(this.currentPath.length===0)return;const Ut=this.currentPath.at(-1);lt(this,nt).lineTo(...Ut)},dt=new WeakSet,Ms=function(Ut,mn){Kt(this,at,null),Ut=Math.min(Math.max(Ut,0),this.canvas.width),mn=Math.min(Math.max(mn,0),this.canvas.height),Bt(this,Nt,Zr).call(this,Ut,mn),Bt(this,Qt,Ls).call(this);let Cn;if(this.currentPath.length!==1)Cn=Bt(this,Ct,Ds).call(this);else{const un=[Ut,mn];Cn=[[un,un.slice(),un.slice(),un]]}const gn=lt(this,nt),_n=this.currentPath;this.currentPath=[],Kt(this,nt,new Path2D);const Tn=()=>{this.allRawPaths.push(_n),this.paths.push(Cn),this.bezierPath2D.push(gn),this.rebuild()},Vn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Bt(this,tn,vr).call(this),Bt(this,rn,br).call(this)),Bt(this,Ot,nr).call(this))};this.addCommands({cmd:Tn,undo:Vn,mustExec:!0})},mt=new WeakSet,Is=function(){if(!lt(this,tt))return;Kt(this,tt,!1);const Ut=Math.ceil(this.thickness*this.parentScale),mn=this.currentPath.slice(-3),Cn=mn.map(Tn=>Tn[0]),gn=mn.map(Tn=>Tn[1]);Math.min(...Cn)-Ut,Math.max(...Cn)+Ut,Math.min(...gn)-Ut,Math.max(...gn)+Ut;const{ctx:_n}=this;_n.save(),_n.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Tn of this.bezierPath2D)_n.stroke(Tn);_n.stroke(lt(this,nt)),_n.restore()},yt=new WeakSet,Ns=function(Ut,mn,Cn,gn,_n,Tn,Vn){const un=(mn+gn)/2,Fn=(Cn+_n)/2,An=(gn+Tn)/2,Tt=(_n+Vn)/2;Ut.bezierCurveTo(un+2*(gn-un)/3,Fn+2*(_n-Fn)/3,An+2*(gn-An)/3,Tt+2*(_n-Tt)/3,An,Tt)},Ct=new WeakSet,Ds=function(){const Ut=this.currentPath;if(Ut.length<=2)return[[Ut[0],Ut[0],Ut.at(-1),Ut.at(-1)]];const mn=[];let Cn,[gn,_n]=Ut[0];for(Cn=1;Cn<Ut.length-2;Cn++){const[ft,At]=Ut[Cn],[Pt,Dt]=Ut[Cn+1],$t=(ft+Pt)/2,Jt=(At+Dt)/2,ln=[gn+2*(ft-gn)/3,_n+2*(At-_n)/3],yn=[$t+2*(ft-$t)/3,Jt+2*(At-Jt)/3];mn.push([[gn,_n],ln,yn,[$t,Jt]]),[gn,_n]=[$t,Jt]}const[Tn,Vn]=Ut[Cn],[un,Fn]=Ut[Cn+1],An=[gn+2*(Tn-gn)/3,_n+2*(Vn-_n)/3],Tt=[un+2*(Tn-un)/3,Fn+2*(Vn-Fn)/3];return mn.push([[gn,_n],An,Tt,[un,Fn]]),mn},Mt=new WeakSet,Xn=function(){if(this.isEmpty()){Bt(this,Gt,wr).call(this);return}Bt(this,It,Jr).call(this);const{canvas:Ut,ctx:mn}=this;mn.setTransform(1,0,0,1,0,0),mn.clearRect(0,0,Ut.width,Ut.height),Bt(this,Gt,wr).call(this);for(const Cn of this.bezierPath2D)mn.stroke(Cn)},Xt=new WeakSet,_i=function(Ut){this.canvas.removeEventListener("pointerleave",lt(this,$)),this.canvas.removeEventListener("pointermove",lt(this,j)),this.canvas.removeEventListener("pointerup",lt(this,_e)),this.canvas.addEventListener("pointerdown",lt(this,rt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",d.noContextMenu)},10),Bt(this,dt,Ms).call(this,Ut.offsetX,Ut.offsetY),this.addToAnnotationStorage(),this.setInBackground()},tn=new WeakSet,vr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",o.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Ut=>{var mn;return(mn=this.canvas)==null?void 0:mn.setAttribute("aria-label",Ut)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},rn=new WeakSet,br=function(){Kt(this,it,new ResizeObserver(Ut=>{const mn=Ut[0].contentRect;mn.width&&mn.height&&this.setDimensions(mn.width,mn.height)})),lt(this,it).observe(this.div)},Rn=new WeakSet,tr=function(){if(!lt(this,et))return;const[Ut,mn]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Ut),this.canvas.height=Math.ceil(this.height*mn),Bt(this,Gt,wr).call(this)},kn=new WeakSet,es=function(Ut,mn){const Cn=Bt(this,en,Er).call(this),gn=(Ut-Cn)/lt(this,_),_n=(mn-Cn)/lt(this,b);this.scaleFactor=Math.min(gn,_n)},Gt=new WeakSet,wr=function(){const Ut=Bt(this,en,Er).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Ut,this.translationY*this.scaleFactor+Ut)},sn=new WeakSet,Fs=function(Ut){const mn=new Path2D;for(let Cn=0,gn=Ut.length;Cn<gn;Cn++){const[_n,Tn,Vn,un]=Ut[Cn];Cn===0&&mn.moveTo(..._n),mn.bezierCurveTo(Tn[0],Tn[1],Vn[0],Vn[1],un[0],un[1])}return mn},Yt=new WeakSet,ts=function(Ut,mn,Cn){const[gn,_n,Tn,Vn]=mn;switch(Cn){case 0:for(let un=0,Fn=Ut.length;un<Fn;un+=2)Ut[un]+=gn,Ut[un+1]=Vn-Ut[un+1];break;case 90:for(let un=0,Fn=Ut.length;un<Fn;un+=2){const An=Ut[un];Ut[un]=Ut[un+1]+gn,Ut[un+1]=An+_n}break;case 180:for(let un=0,Fn=Ut.length;un<Fn;un+=2)Ut[un]=Tn-Ut[un],Ut[un+1]+=_n;break;case 270:for(let un=0,Fn=Ut.length;un<Fn;un+=2){const An=Ut[un];Ut[un]=Tn-Ut[un+1],Ut[un+1]=Vn-An}break;default:throw new Error("Invalid rotation")}return Ut},bn=new WeakSet,Os=function(Ut,mn,Cn){const[gn,_n,Tn,Vn]=mn;switch(Cn){case 0:for(let un=0,Fn=Ut.length;un<Fn;un+=2)Ut[un]-=gn,Ut[un+1]=Vn-Ut[un+1];break;case 90:for(let un=0,Fn=Ut.length;un<Fn;un+=2){const An=Ut[un];Ut[un]=Ut[un+1]-_n,Ut[un+1]=An-gn}break;case 180:for(let un=0,Fn=Ut.length;un<Fn;un+=2)Ut[un]=Tn-Ut[un],Ut[un+1]-=_n;break;case 270:for(let un=0,Fn=Ut.length;un<Fn;un+=2){const An=Ut[un];Ut[un]=Vn-Ut[un+1],Ut[un+1]=Tn-An}break;default:throw new Error("Invalid rotation")}return Ut},jn=new WeakSet,Vs=function(Ut,mn,Cn,gn){var Fn,An;const _n=[],Tn=this.thickness/2,Vn=Ut*mn+Tn,un=Ut*Cn+Tn;for(const Tt of this.paths){const ft=[],At=[];for(let Pt=0,Dt=Tt.length;Pt<Dt;Pt++){const[$t,Jt,ln,yn]=Tt[Pt],xn=Ut*$t[0]+Vn,In=Ut*$t[1]+un,En=Ut*Jt[0]+Vn,Sn=Ut*Jt[1]+un,Ln=Ut*ln[0]+Vn,Dn=Ut*ln[1]+un,On=Ut*yn[0]+Vn,Bn=Ut*yn[1]+un;Pt===0&&(ft.push(xn,In),At.push(xn,In)),ft.push(En,Sn,Ln,Dn,On,Bn),At.push(En,Sn),Pt===Dt-1&&At.push(On,Bn)}_n.push({bezier:Bt(Fn=hn,Yt,ts).call(Fn,ft,gn,this.rotation),points:Bt(An=hn,Yt,ts).call(An,At,gn,this.rotation)})}return _n},Pn=new WeakSet,ns=function(){let Ut=1/0,mn=-1/0,Cn=1/0,gn=-1/0;for(const _n of this.paths)for(const[Tn,Vn,un,Fn]of _n){const An=a.Util.bezierBoundingBox(...Tn,...Vn,...un,...Fn);Ut=Math.min(Ut,An[0]),Cn=Math.min(Cn,An[1]),mn=Math.max(mn,An[2]),gn=Math.max(gn,An[3])}return[Ut,Cn,mn,gn]},en=new WeakSet,Er=function(){return lt(this,st)?Math.ceil(this.thickness*this.parentScale):0},Ot=new WeakSet,nr=function(Ut=!1){if(this.isEmpty())return;if(!lt(this,st)){Bt(this,Mt,Xn).call(this);return}const mn=Bt(this,Pn,ns).call(this),Cn=Bt(this,en,Er).call(this);Kt(this,_,Math.max(o.AnnotationEditor.MIN_SIZE,mn[2]-mn[0])),Kt(this,b,Math.max(o.AnnotationEditor.MIN_SIZE,mn[3]-mn[1]));const gn=Math.ceil(Cn+lt(this,_)*this.scaleFactor),_n=Math.ceil(Cn+lt(this,b)*this.scaleFactor),[Tn,Vn]=this.parentDimensions;this.width=gn/Tn,this.height=_n/Vn,this.setAspectRatio(gn,_n);const un=this.translationX,Fn=this.translationY;this.translationX=-mn[0],this.translationY=-mn[1],Bt(this,Rn,tr).call(this),Bt(this,Mt,Xn).call(this),Kt(this,pt,gn),Kt(this,ot,_n),this.setDims(gn,_n);const An=Ut?Cn/this.scaleFactor/2:0;this.translate(un-this.translationX-An,Fn-this.translationY-An)},Lt(hn,sn),Lt(hn,Yt),Lt(hn,bn),Un(hn,"_defaultColor",null),Un(hn,"_defaultOpacity",1),Un(hn,"_defaultThickness",1),Un(hn,"_type","ink");let g=hn;i.InkEditor=g},(e,i,s)=>{var g,b,_,j,$,_e,rt,nt,st,tt,et,cr,pt,ur,at,Sr,gt,rs,Et,Bs,_t,zs,kt,ss,Vt,kr,St,$s;Object.defineProperty(i,"__esModule",{value:!0}),i.StampEditor=void 0;var a=s(1),o=s(4),c=s(6),d=s(29);const bt=class bt extends o.AnnotationEditor{constructor(dt){super({...dt,name:"stampEditor"});Lt(this,et);Lt(this,pt);Lt(this,at);Lt(this,gt);Lt(this,Et);Lt(this,_t);Lt(this,kt);Lt(this,Vt);Lt(this,St);Lt(this,g,null);Lt(this,b,null);Lt(this,_,null);Lt(this,j,null);Lt(this,$,null);Lt(this,_e,null);Lt(this,rt,null);Lt(this,nt,null);Lt(this,st,!1);Lt(this,tt,!1);Kt(this,j,dt.bitmapUrl),Kt(this,$,dt.bitmapFile)}static initialize(dt){o.AnnotationEditor.initialize(dt)}static get supportedTypes(){const dt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,a.shadow)(this,"supportedTypes",dt.map(ct=>`image/${ct}`))}static get supportedTypesStr(){return(0,a.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(dt){return this.supportedTypes.includes(dt)}static paste(dt,ct){ct.pasteEditor(a.AnnotationEditorType.STAMP,{bitmapFile:dt.getAsFile()})}remove(){var dt,ct;lt(this,b)&&(Kt(this,g,null),this._uiManager.imageManager.deleteId(lt(this,b)),(dt=lt(this,_e))==null||dt.remove(),Kt(this,_e,null),(ct=lt(this,rt))==null||ct.disconnect(),Kt(this,rt,null)),super.remove()}rebuild(){if(!this.parent){lt(this,b)&&Bt(this,at,Sr).call(this);return}super.rebuild(),this.div!==null&&(lt(this,b)&&Bt(this,at,Sr).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(lt(this,_)||lt(this,g)||lt(this,j)||lt(this,$))}get isResizable(){return!0}render(){if(this.div)return this.div;let dt,ct;if(this.width&&(dt=this.x,ct=this.y),super.render(),this.div.hidden=!0,lt(this,g)?Bt(this,gt,rs).call(this):Bt(this,at,Sr).call(this),this.width){const[mt,ht]=this.parentDimensions;this.setAt(dt*mt,ct*ht,this.width*mt,this.height*ht)}return this.div}static deserialize(dt,ct,mt){if(dt instanceof d.StampAnnotationElement)return null;const ht=super.deserialize(dt,ct,mt),{rect:yt,bitmapUrl:wt,bitmapId:Ct,isSvg:Rt,accessibilityData:Mt}=dt;Ct&&mt.imageManager.isValidId(Ct)?Kt(ht,b,Ct):Kt(ht,j,wt),Kt(ht,st,Rt);const[Wt,Xt]=ht.pageDimensions;return ht.width=(yt[2]-yt[0])/Wt,ht.height=(yt[3]-yt[1])/Xt,Mt&&(ht.altTextData=Mt),ht}serialize(dt=!1,ct=null){if(this.isEmpty())return null;const mt={annotationType:a.AnnotationEditorType.STAMP,bitmapId:lt(this,b),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:lt(this,st),structTreeParentId:this._structTreeParentId};if(dt)return mt.bitmapUrl=Bt(this,Vt,kr).call(this,!0),mt.accessibilityData=this.altTextData,mt;const{decorative:ht,altText:yt}=this.altTextData;if(!ht&&yt&&(mt.accessibilityData={type:"Figure",alt:yt}),ct===null)return mt;ct.stamps||(ct.stamps=new Map);const wt=lt(this,st)?(mt.rect[2]-mt.rect[0])*(mt.rect[3]-mt.rect[1]):null;if(!ct.stamps.has(lt(this,b)))ct.stamps.set(lt(this,b),{area:wt,serialized:mt}),mt.bitmap=Bt(this,Vt,kr).call(this,!1);else if(lt(this,st)){const Ct=ct.stamps.get(lt(this,b));wt>Ct.area&&(Ct.area=wt,Ct.serialized.bitmap.close(),Ct.serialized.bitmap=Bt(this,Vt,kr).call(this,!1))}return mt}};g=new WeakMap,b=new WeakMap,_=new WeakMap,j=new WeakMap,$=new WeakMap,_e=new WeakMap,rt=new WeakMap,nt=new WeakMap,st=new WeakMap,tt=new WeakMap,et=new WeakSet,cr=function(dt,ct=!1){if(!dt){this.remove();return}Kt(this,g,dt.bitmap),ct||(Kt(this,b,dt.id),Kt(this,st,dt.isSvg)),Bt(this,gt,rs).call(this)},pt=new WeakSet,ur=function(){Kt(this,_,null),this._uiManager.enableWaiting(!1),lt(this,_e)&&this.div.focus()},at=new WeakSet,Sr=function(){if(lt(this,b)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(lt(this,b)).then(ct=>Bt(this,et,cr).call(this,ct,!0)).finally(()=>Bt(this,pt,ur).call(this));return}if(lt(this,j)){const ct=lt(this,j);Kt(this,j,null),this._uiManager.enableWaiting(!0),Kt(this,_,this._uiManager.imageManager.getFromUrl(ct).then(mt=>Bt(this,et,cr).call(this,mt)).finally(()=>Bt(this,pt,ur).call(this)));return}if(lt(this,$)){const ct=lt(this,$);Kt(this,$,null),this._uiManager.enableWaiting(!0),Kt(this,_,this._uiManager.imageManager.getFromFile(ct).then(mt=>Bt(this,et,cr).call(this,mt)).finally(()=>Bt(this,pt,ur).call(this)));return}const dt=document.createElement("input");dt.type="file",dt.accept=bt.supportedTypesStr,Kt(this,_,new Promise(ct=>{dt.addEventListener("change",async()=>{if(!dt.files||dt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const mt=await this._uiManager.imageManager.getFromFile(dt.files[0]);Bt(this,et,cr).call(this,mt)}ct()}),dt.addEventListener("cancel",()=>{this.remove(),ct()})}).finally(()=>Bt(this,pt,ur).call(this))),dt.click()},gt=new WeakSet,rs=function(){const{div:dt}=this;let{width:ct,height:mt}=lt(this,g);const[ht,yt]=this.pageDimensions,wt=.75;if(this.width)ct=this.width*ht,mt=this.height*yt;else if(ct>wt*ht||mt>wt*yt){const Wt=Math.min(wt*ht/ct,wt*yt/mt);ct*=Wt,mt*=Wt}const[Ct,Rt]=this.parentDimensions;this.setDims(ct*Ct/ht,mt*Rt/yt),this._uiManager.enableWaiting(!1);const Mt=Kt(this,_e,document.createElement("canvas"));dt.append(Mt),dt.hidden=!1,Bt(this,kt,ss).call(this,ct,mt),Bt(this,St,$s).call(this),lt(this,tt)||(this.parent.addUndoableEditor(this),Kt(this,tt,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Et=new WeakSet,Bs=function(dt,ct){var wt;const[mt,ht]=this.parentDimensions;this.width=dt/mt,this.height=ct/ht,this.setDims(dt,ct),(wt=this._initialOptions)!=null&&wt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,lt(this,nt)!==null&&clearTimeout(lt(this,nt)),Kt(this,nt,setTimeout(()=>{Kt(this,nt,null),Bt(this,kt,ss).call(this,dt,ct)},200))},_t=new WeakSet,zs=function(dt,ct){const{width:mt,height:ht}=lt(this,g);let yt=mt,wt=ht,Ct=lt(this,g);for(;yt>2*dt||wt>2*ct;){const Rt=yt,Mt=wt;yt>2*dt&&(yt=yt>=16384?Math.floor(yt/2)-1:Math.ceil(yt/2)),wt>2*ct&&(wt=wt>=16384?Math.floor(wt/2)-1:Math.ceil(wt/2));const Wt=new OffscreenCanvas(yt,wt);Wt.getContext("2d").drawImage(Ct,0,0,Rt,Mt,0,0,yt,wt),Ct=Wt.transferToImageBitmap()}return Ct},kt=new WeakSet,ss=function(dt,ct){dt=Math.ceil(dt),ct=Math.ceil(ct);const mt=lt(this,_e);if(!mt||mt.width===dt&&mt.height===ct)return;mt.width=dt,mt.height=ct;const ht=lt(this,st)?lt(this,g):Bt(this,_t,zs).call(this,dt,ct),yt=mt.getContext("2d");yt.filter=this._uiManager.hcmFilter,yt.drawImage(ht,0,0,ht.width,ht.height,0,0,dt,ct)},Vt=new WeakSet,kr=function(dt){if(dt){if(lt(this,st)){const ht=this._uiManager.imageManager.getSvgUrl(lt(this,b));if(ht)return ht}const ct=document.createElement("canvas");return{width:ct.width,height:ct.height}=lt(this,g),ct.getContext("2d").drawImage(lt(this,g),0,0),ct.toDataURL()}if(lt(this,st)){const[ct,mt]=this.pageDimensions,ht=Math.round(this.width*ct*c.PixelsPerInch.PDF_TO_CSS_UNITS),yt=Math.round(this.height*mt*c.PixelsPerInch.PDF_TO_CSS_UNITS),wt=new OffscreenCanvas(ht,yt);return wt.getContext("2d").drawImage(lt(this,g),0,0,lt(this,g).width,lt(this,g).height,0,0,ht,yt),wt.transferToImageBitmap()}return structuredClone(lt(this,g))},St=new WeakSet,$s=function(){Kt(this,rt,new ResizeObserver(dt=>{const ct=dt[0].contentRect;ct.width&&ct.height&&Bt(this,Et,Bs).call(this,ct.width,ct.height)})),lt(this,rt).observe(this.div)},Un(bt,"_type","stamp");let h=bt;i.StampEditor=h}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var i=__webpack_module_cache__[e];if(i!==void 0)return i.exports;var s=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](s,s.exports,__w_pdfjs_require__),s.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return i.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return c.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return i.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return i.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return d.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return h.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return i.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return i.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return a.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return i.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return g.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return i.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return i.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return i.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return i.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return s.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return a.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return s.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return i.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return i.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return a.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return i.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return a.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return s.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return i.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return i.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return i.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return b.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return s.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return i.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return a.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return a.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return a.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return a.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return a.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return a.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return a.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return i.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return o.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return a.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return i.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return o.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return s.version}});var i=__w_pdfjs_require__(1),s=__w_pdfjs_require__(2),a=__w_pdfjs_require__(6),o=__w_pdfjs_require__(26),c=__w_pdfjs_require__(27),d=__w_pdfjs_require__(5),h=__w_pdfjs_require__(29),g=__w_pdfjs_require__(14),b=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;const pdfWorker="/assets/pdf.worker-e3f005b2.js";pdfExports.GlobalWorkerOptions.workerSrc=pdfWorker;async function extractTextFromPdf(e){const i=e instanceof File?await e.arrayBuffer():e,s=await pdfExports.getDocument({data:i}).promise,a=s.numPages,o=[];for(let c=1;c<=a;c+=1){const g=(await(await s.getPage(c)).getTextContent()).items.map(b=>"str"in b?b.str:"").join(" ").replace(/\s+/g," ").trim();g&&o.push(g)}return await s.destroy(),o.join(`
`)}const TIMECODE_PATTERN=/\d{2}:\d{2}:\d{2}[.,]\d{3}\s+-->\s+\d{2}:\d{2}:\d{2}[.,]\d{3}/;function cleanupBlock(e){return e.split(/\r?\n/).map(a=>a.trim()).filter(Boolean).filter((a,o)=>!(o===0&&/^\d+$/.test(a)||TIMECODE_PATTERN.test(a)||/^NOTE/i.test(a))).join(" ").replace(/<[^>]+>/g,"").replace(/\s+/g," ").trim()}function parseSubtitleText(e){return e.replace(/^\uFEFF/,"").replace(/^WEBVTT.*?(\r?\n){2}/i,"").replace(/\r/g,"").split(/\n\n+/).map(o=>cleanupBlock(o)).filter(o=>o.length>0).join(" ")}async function extractTextFromSubtitle(e){const i=await e.text();return parseSubtitleText(i)}const YOUTUBE_ID_REGEX=/(?:v=|youtu\.be\/|embed\/)([\w-]{11})/i;function extractYouTubeId(e){const i=e.match(YOUTUBE_ID_REGEX);return i?i[1]:null}async function fetchYouTubeMetadata(e){const i=extractYouTubeId(e);if(!i)return null;const s=`https://www.youtube.com/oembed?url=${encodeURIComponent(e)}&format=json`,a=await fetch(s);if(!a.ok)return null;const o=await a.json();return{id:i,title:o.title,author:o.author_name,thumbnailUrl:o.thumbnail_url}}const buildProxyUrl=e=>/^https?:/i.test(e)?`https://r.jina.ai/${e}`:`https://r.jina.ai/https://${e}`,sanitizeMultiline=e=>e.replace(/\r\n/g,`
`).replace(/\n{3,}/g,`

`).trim(),extractProxySnapshot=e=>{var c,d;const i=e.match(/^Title:\s*(.+)$/m),s=e.match(/^URL Source:\s*(.+)$/m),a=e.indexOf("Markdown Content:");let o=a>=0?e.slice(a+17):e;return o=o.replace(/^Title:.*$/m,"").replace(/^URL Source:.*$/m,"").replace(/^Published Time:.*$/m,"").replace(/^Warning:.*$/m,"").replace(/^Markdown Content:/m,"").trim(),{title:(c=i==null?void 0:i[1])==null?void 0:c.trim(),url:(d=s==null?void 0:s[1])==null?void 0:d.trim(),content:sanitizeMultiline(o)}};async function fetchWithFallback(e){try{const o=await fetch(e,{mode:"cors"});if(o.ok)return{body:await o.text(),proxied:!1}}catch(o){console.debug("Direct fetch blocked by CORS",o)}const i=buildProxyUrl(e),s=await fetch(i);if(!s.ok)throw new Error("Falha ao carregar link");return{body:await s.text(),proxied:!0}}const languageOptions=[{value:"en",label:"Ingls"},{value:"pt",label:"Portugus"},{value:"es",label:"Espanhol"},{value:"fr",label:"Francs"},{value:"de",label:"Alemo"},{value:"it",label:"Italiano"}],ACCEPTED_TEXT_TYPES=["text/plain","text/markdown","application/pdf",".pdf",".txt",".md",".srt",".vtt"];function ImportPage(){const e=useNavigate(),{push:i}=useToast(),s=useLibraryStore(dt=>dt.addText),a=useLibraryStore(dt=>dt.texts.length),[o,c]=reactExports.useState("text"),[d,h]=reactExports.useState(""),[g,b]=reactExports.useState(""),[_,j]=reactExports.useState("en"),[$,_e]=reactExports.useState(!0),[rt,nt]=reactExports.useState(),[st,tt]=reactExports.useState(!1),[et,it]=reactExports.useState(!1),pt=reactExports.useRef(null),[ot,at]=reactExports.useState(!1),[xt,gt]=reactExports.useState(""),[ut,Et]=reactExports.useState(!1);reactExports.useEffect(()=>{if(!$||d.trim().length<80)return;const dt=window.setTimeout(()=>{const ct=detectLanguage(d,_);j(ct)},400);return()=>window.clearTimeout(dt)},[d,_,$]),reactExports.useEffect(()=>{!d&&o==="text"&&nt(void 0)},[d,o]);const vt=reactExports.useMemo(()=>{const dt=d.length,ct=d.trim().split(/\s+/).filter(Boolean).length;return{totalChars:dt,words:ct}},[d]),_t=()=>{h(""),b(""),nt(void 0),_e(!0),j("en")},jt=()=>{if(g.trim())return g.trim();const dt=d.split(`
`).find(ct=>ct.trim().length>0);return dt?dt.trim().slice(0,80):"Novo contedo"},kt=async dt=>{if(rt)return rt;try{const ct=await fetchImageForTerm(dt);return nt(ct),ct}catch(ct){console.warn("Cover generation failed",ct);return}},It=async()=>{if(!d.trim()){i("Cole ou digite algum contedo antes de importar.","error");return}tt(!0);try{const dt=jt(),ct=await kt(dt),mt=s({title:dt,lang:_,content:d.trim(),coverUrl:ct,progress:0});i("Contedo importado com sucesso.","success"),_t(),e(`/read/${mt}`)}catch(dt){console.error(dt),i("No foi possvel salvar agora. Tente novamente.","error")}finally{tt(!1)}},Vt=async()=>{var ct;const dt=g.trim()||((ct=d.split(`
`)[0])==null?void 0:ct.slice(0,60))||"linguagem";if(dt){it(!0);try{const mt=await fetchImageForTerm(dt);nt(mt)}catch(mt){console.error(mt),i("No conseguimos sugerir uma capa agora.","error")}finally{it(!1)}}},Ht=async dt=>{at(!0);try{const ct=dt.name.replace(/\.[^.]+$/,"").replace(/[-_]+/g," ");let mt="";if(dt.type==="application/pdf"||dt.name.toLowerCase().endsWith(".pdf")?mt=await extractTextFromPdf(dt):dt.name.toLowerCase().endsWith(".srt")||dt.name.toLowerCase().endsWith(".vtt")?mt=await extractTextFromSubtitle(dt):mt=await dt.text(),!mt.trim()){i("No conseguimos extrair texto deste arquivo.","warning");return}const ht=detectLanguage(mt,"en"),yt=await fetchImageForTerm(ct||"texto"),wt=s({title:ct||"Arquivo importado",lang:ht,content:mt.trim(),coverUrl:yt,progress:0});i(`Arquivo ${dt.name} importado.`,"success"),e(`/read/${wt}`)}catch(ct){console.error(ct),i("No foi possvel processar este arquivo agora.","error")}finally{at(!1),pt.current&&(pt.current.value="")}},St=async()=>{var dt;if(!xt.trim()){i("Cole um link vlido para continuar.","warning");return}Et(!0);try{const ct=xt.trim();let mt=ct,ht,yt="";const wt=await fetchYouTubeMetadata(ct).catch(()=>null);if(wt)mt=wt.title,ht=wt.thumbnailUrl,yt=`Assista ao vdeo ${wt.title} de ${wt.author} e registre seu vocabulrio.

Link: ${ct}`;else{const{body:Wt,proxied:Xt}=await fetchWithFallback(ct),tn=new DOMParser().parseFromString(Wt,"text/html"),dn=tn.querySelector("article, main, body"),rn=(dn==null?void 0:dn.textContent)??Wt;yt=sanitizeMultiline(rn);const vn=tn.querySelector('meta[property="og:title"], meta[name="title"], title');vn!=null&&vn.textContent&&(mt=vn.getAttribute("content")??vn.textContent??mt);const Rn=(dt=tn.querySelector('meta[property="og:image"]'))==null?void 0:dt.getAttribute("content");if(Rn&&(ht=Rn),Xt){const pn=extractProxySnapshot(Wt);pn.title&&(mt=pn.title),pn.content&&(yt=pn.content)}}(!yt||yt.length<160)&&(yt=`Recurso salvo:

${ct}

Use o modo leitor para anotar vocabulrio manualmente.`);const Ct=detectLanguage(yt,"en"),Rt=ht??await fetchImageForTerm(mt),Mt=s({title:mt.trim().slice(0,120),lang:Ct,content:yt,coverUrl:Rt,progress:0});i("Link adicionado  biblioteca.","success"),gt(""),e(`/read/${Mt}`)}catch(ct){console.error(ct),i("No foi possvel importar este link. Alguns sites bloqueiam acesso direto; tente copiar o texto manualmente.","error")}finally{Et(!1)}},Nt=()=>jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-3",children:[{id:"text",label:"Texto manual",icon:FileText},{id:"file",label:"Arquivo",icon:UploadCloud},{id:"link",label:"Link",icon:Link2}].map(({id:dt,label:ct,icon:mt})=>jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>c(dt),className:cn("inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2 text-sm text-text-secondary transition hover:text-text-primary focus:outline-none focus:ring-2 focus:ring-accent/40",o===dt&&"border-accent/60 bg-accent/15 text-accent"),children:[jsxRuntimeExports.jsx(mt,{className:"h-4 w-4"}),ct]},dt))}),bt=()=>jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[jsxRuntimeExports.jsxs("label",{className:"flex flex-col gap-2 text-sm text-text-secondary",children:["Ttulo",jsxRuntimeExports.jsx("input",{value:g,onChange:dt=>b(dt.target.value),placeholder:"Ttulo opcional",className:"focus-ring rounded-3xl border border-white/10 bg-white/5 px-4 py-3 text-text-primary"})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col gap-2 text-sm text-text-secondary",children:["Idioma",jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("select",{value:_,onChange:dt=>{j(dt.target.value),_e(!1)},className:"focus-ring w-full appearance-none rounded-3xl border border-white/10 bg-white/5 px-4 py-3 text-text-primary",children:languageOptions.map(dt=>jsxRuntimeExports.jsx("option",{value:dt.value,children:dt.label},dt.value))}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>_e(!0),className:"absolute right-2 top-1/2 -translate-y-1/2 rounded-full bg-white/5 px-3 py-1 text-xs text-text-tertiary hover:text-text-primary",children:"Auto"})]})]})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col gap-2 text-sm text-text-secondary",children:["Contedo",jsxRuntimeExports.jsx("textarea",{value:d,onChange:dt=>h(dt.target.value),placeholder:"Cole aqui seu texto ou anote o que quer estudar",className:"focus-ring min-h-[220px] rounded-3xl border border-white/10 bg-white/5 px-4 py-3 text-text-primary"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-text-secondary",children:[jsxRuntimeExports.jsxs("span",{className:"rounded-full bg-white/5 px-3 py-1",children:[vt.words," palavras"]}),jsxRuntimeExports.jsxs("span",{className:"rounded-full bg-white/5 px-3 py-1",children:[vt.totalChars," caracteres"]}),jsxRuntimeExports.jsxs(Button,{intent:"ghost",onClick:Vt,disabled:et,children:[et?jsxRuntimeExports.jsx(Loader2,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Sparkles,{className:"h-4 w-4"})," Sugesto de capa"]}),rt&&jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1 text-text-secondary",children:[jsxRuntimeExports.jsx(Image$1,{className:"h-4 w-4"})," Capa pronta"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-3",children:[jsxRuntimeExports.jsx(Button,{intent:"ghost",onClick:_t,disabled:!d&&!g,children:"Limpar"}),jsxRuntimeExports.jsxs(Button,{intent:"accent",onClick:It,disabled:st,children:[st?jsxRuntimeExports.jsx(Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(ClipboardPaste,{className:"mr-2 h-4 w-4"})," Importar"]})]})]}),Qt=()=>jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"rounded-3xl border border-dashed border-white/20 bg-white/5 px-6 py-10 text-center",children:[jsxRuntimeExports.jsx(UploadCloud,{className:"mx-auto h-12 w-12 text-accent"}),jsxRuntimeExports.jsx("h2",{className:"mt-4 font-display text-2xl text-text-primary",children:"Solte um arquivo aqui"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm text-text-secondary",children:"Aceitamos PDF, TXT, SRT ou VTT. Processamos tudo localmente, preservando sua privacidade."}),jsxRuntimeExports.jsxs("div",{className:"mt-6 flex justify-center",children:[jsxRuntimeExports.jsxs(Button,{intent:"accent",onClick:()=>{var dt;return(dt=pt.current)==null?void 0:dt.click()},disabled:ot,children:[ot?jsxRuntimeExports.jsx(Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(UploadCloud,{className:"mr-2 h-4 w-4"})," Selecionar arquivo"]}),jsxRuntimeExports.jsx("input",{ref:pt,type:"file",accept:ACCEPTED_TEXT_TYPES.join(","),className:"hidden",onChange:dt=>{var mt;const ct=(mt=dt.target.files)==null?void 0:mt[0];ct&&Ht(ct)}})]})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-tertiary",children:"Dica: para artigos longos, exporte como PDF ou copie o texto para a aba de texto manual."})]}),nn=()=>jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("label",{className:"flex flex-col gap-2 text-sm text-text-secondary",children:["Link",jsxRuntimeExports.jsx("input",{type:"url",value:xt,onChange:dt=>gt(dt.target.value),placeholder:"https://",className:"focus-ring rounded-3xl border border-white/10 bg-white/5 px-4 py-3 text-text-primary"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Funo beta: funciona melhor com pginas que permitem leitura pblica ou vdeos do YouTube com metadata disponvel."}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsxs(Button,{intent:"accent",onClick:St,disabled:ut,children:[ut?jsxRuntimeExports.jsx(Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Link2,{className:"mr-2 h-4 w-4"})," Importar link"]})})]});return jsxRuntimeExports.jsxs("div",{className:"mx-auto flex min-h-[calc(100vh-6rem)] w-full max-w-5xl flex-col gap-8 px-6 py-10",children:[jsxRuntimeExports.jsxs("header",{className:"space-y-2",children:[jsxRuntimeExports.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-text-tertiary",children:"Importar"}),jsxRuntimeExports.jsx("h1",{className:"font-display text-3xl font-semibold text-text-primary md:text-4xl",children:"Traga contedo para o seu fluxo"}),jsxRuntimeExports.jsx("p",{className:"max-w-2xl text-text-secondary",children:"Cole textos, links, vdeos ou arquivos. Detectamos o idioma automaticamente e transformamos em leitura imersiva."})]}),jsxRuntimeExports.jsxs("section",{className:"grid gap-4 md:grid-cols-3",children:[jsxRuntimeExports.jsxs("div",{className:"surface-glass rounded-3xl px-6 py-5",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-text-tertiary",children:"Na biblioteca"}),jsxRuntimeExports.jsx("p",{className:"font-display text-3xl text-text-primary",children:a}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Itens disponveis offline"})]}),jsxRuntimeExports.jsxs("div",{className:"surface-glass rounded-3xl px-6 py-5",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-text-tertiary",children:"Formato"}),jsxRuntimeExports.jsx("p",{className:"font-display text-3xl text-text-primary",children:o==="text"?"Texto":o==="file"?"Arquivo":"Link"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Selecione a aba que faz sentido hoje"})]}),jsxRuntimeExports.jsxs("div",{className:"surface-glass rounded-3xl px-6 py-5",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-text-tertiary",children:"Assistente"}),jsxRuntimeExports.jsx("p",{className:"font-display text-3xl text-text-primary",children:"Smart"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Detecta idioma e sugere capa automaticamente"})]})]}),jsxRuntimeExports.jsxs("div",{className:"surface-glass flex flex-1 flex-col gap-6 px-6 py-8",children:[Nt(),o==="text"&&bt(),o==="file"&&Qt(),o==="link"&&nn()]})]})}const CIRCUMFERENCE=100;function ProgressRing({value:e,size:i=72,strokeWidth:s=6,className:a}){const o=Math.min(1,Math.max(0,e)),c=(CIRCUMFERENCE-s)/2,d=Math.PI*(CIRCUMFERENCE-s),h=d*(1-o);return jsxRuntimeExports.jsxs("div",{className:cn("relative inline-flex items-center justify-center rounded-full bg-white/5 backdrop-blur-sm",a),style:{width:i,height:i},children:[jsxRuntimeExports.jsxs("svg",{className:"absolute",width:i,height:i,viewBox:`0 0 ${CIRCUMFERENCE} ${CIRCUMFERENCE}`,children:[jsxRuntimeExports.jsx("circle",{className:"stroke-white/10",strokeWidth:s,fill:"transparent",r:c,cx:CIRCUMFERENCE/2,cy:CIRCUMFERENCE/2}),jsxRuntimeExports.jsx(motion.circle,{className:"stroke-accent drop-shadow-[0_0_12px_rgba(255,209,102,0.45)]",strokeWidth:s,strokeLinecap:"round",fill:"transparent",r:c,cx:CIRCUMFERENCE/2,cy:CIRCUMFERENCE/2,strokeDasharray:d,strokeDashoffset:d,animate:{strokeDashoffset:h},transition:{duration:.4,ease:"easeInOut"}})]}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium text-text-primary",children:[Math.round(o*100),"%"]})]})}function isSpeechSynthesisSupported(){return typeof window<"u"&&"speechSynthesis"in window}function speak(e,i={}){if(!isSpeechSynthesisSupported())return;const s=new SpeechSynthesisUtterance(e);i.lang&&(s.lang=i.lang),i.rate&&(s.rate=i.rate),i.pitch&&(s.pitch=i.pitch),window.speechSynthesis.cancel(),window.speechSynthesis.speak(s)}const THEME_SEQUENCE=["auto","dark","light"];function ReaderHeader({title:e,progress:i,onBack:s,onSpeak:a,onStopSpeak:o,isSpeaking:c}){const{prefs:d,updatePrefs:h}=usePrefsStore(),g=_e=>{h({fontSize:_e})},b=_e=>{h({lineHeight:_e})},_=()=>{const _e=THEME_SEQUENCE.indexOf(d.theme),rt=THEME_SEQUENCE[(_e+1)%THEME_SEQUENCE.length];h({theme:rt})},j=isSpeechSynthesisSupported(),$=d.theme==="dark"?Moon:d.theme==="light"?Sun:Monitor;return jsxRuntimeExports.jsxs("header",{className:"surface-glass sticky top-4 z-10 flex flex-col gap-6 px-6 py-5 backdrop-blur-xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[s&&jsxRuntimeExports.jsx(Button,{intent:"ghost",onClick:s,"aria-label":"Voltar",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("h1",{className:"font-display text-2xl text-text-primary md:text-3xl",children:e})]}),typeof i=="number"&&jsxRuntimeExports.jsx(ProgressRing,{value:i,size:72})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 text-sm text-text-secondary",children:[jsxRuntimeExports.jsx("span",{className:"uppercase tracking-[0.2em] text-text-tertiary",children:"Tamanho da fonte"}),jsxRuntimeExports.jsx("input",{type:"range",min:14,max:24,value:d.fontSize,onChange:_e=>g(Number(_e.target.value)),className:"w-full"}),jsxRuntimeExports.jsxs("span",{className:"text-xs",children:[d.fontSize,"px"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 text-sm text-text-secondary",children:[jsxRuntimeExports.jsx("span",{className:"uppercase tracking-[0.2em] text-text-tertiary",children:"Altura da linha"}),jsxRuntimeExports.jsx("input",{type:"range",step:.1,min:1.4,max:1.8,value:d.lineHeight,onChange:_e=>b(Number(_e.target.value)),className:"w-full"}),jsxRuntimeExports.jsxs("span",{className:"text-xs",children:[d.lineHeight.toFixed(1),"x"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 text-sm text-text-secondary",children:[jsxRuntimeExports.jsx("span",{className:"uppercase tracking-[0.2em] text-text-tertiary",children:"Tema"}),jsxRuntimeExports.jsxs(Button,{intent:"neutral",onClick:_,className:"justify-start",children:[jsxRuntimeExports.jsx($,{className:"mr-2 h-4 w-4"}),d.theme==="auto"?"Auto":d.theme==="dark"?"Escuro":"Claro"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 text-sm text-text-secondary",children:[jsxRuntimeExports.jsx("span",{className:"uppercase tracking-[0.2em] text-text-tertiary",children:"Leitura"}),jsxRuntimeExports.jsx("div",{className:"flex gap-3",children:jsxRuntimeExports.jsx(Button,{intent:"accent",onClick:c?o:a,disabled:!j,fullWidth:!0,className:cn(c&&"bg-white/10 text-text-primary"),children:c?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(PauseCircle,{className:"mr-2 h-4 w-4"})," Parar"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Volume2,{className:"mr-2 h-4 w-4"})," Ler em voz alta"]})})})]})]})]})}function Modal({isOpen:e,onClose:i,title:s,children:a,footer:o}){return typeof document>"u"?null:(reactExports.useEffect(()=>{if(!e)return;const c=d=>{d.key==="Escape"&&i()};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[e,i]),reactDomExports.createPortal(jsxRuntimeExports.jsx(AnimatePresence,{children:e&&jsxRuntimeExports.jsx(motion.div,{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/60 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:jsxRuntimeExports.jsxs(motion.div,{role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",className:"surface-glass relative w-full max-w-lg px-8 py-6",initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.96},transition:{duration:.18,ease:"easeInOut"},children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between gap-4",children:[jsxRuntimeExports.jsx("h2",{id:"modal-title",className:"font-display text-2xl text-text-primary",children:s}),jsxRuntimeExports.jsx(Button,{intent:"ghost","aria-label":"Fechar",onClick:i,children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 text-text-secondary",children:a}),o&&jsxRuntimeExports.jsx("div",{className:"mt-6 flex justify-end gap-3",children:o})]})})}),document.body))}const DEFAULT_EASE=2.3;function initialSrsState(){return{ease:DEFAULT_EASE,interval:0,nextReview:Date.now(),correctStreak:0,reviews:0,produced:0,stage:"new"}}function applySRS(e,i){const s=Date.now();let{ease:a,interval:o,correctStreak:c,reviews:d,produced:h,stage:g}=e;d+=1,i===0?(o=1,a=Math.max(1.3,a-.2),c=0,g="learning"):i===1?(o=Math.ceil(Math.max(1,o*1.2)),a=Math.max(1.3,a-.05),c+=1):i===2&&(o=Math.ceil(Math.max(1,o*a)),a+=.15,c+=1);const b=s+o*24*60*60*1e3;return c>=3&&o>=30&&(g="mastered"),a<1.6&&(g="learning"),{ease:a,interval:o,nextReview:b,correctStreak:c,reviews:d,produced:h,stage:g}}const useVocabStore=create$1((e,i)=>{const s=async()=>{try{e({isLoading:!0,error:void 0});const a=await db.getAllVocab();e({vocab:a,isLoading:!1})}catch(a){e({error:a instanceof Error?a.message:"Failed to load vocabulary",isLoading:!1})}};return s(),{vocab:[],isLoading:!0,error:void 0,addVocab:a=>{const o=Date.now(),c={...a,srs:a.srs??initialSrsState(),id:crypto.randomUUID(),createdAt:o,updatedAt:o};e(d=>({vocab:[...d.vocab,c]})),db.putVocab(c)},updateVocab:(a,o)=>{e(c=>{const d=c.vocab.map(g=>g.id===a?{...g,...o,updatedAt:Date.now()}:g),h=d.find(g=>g.id===a);return h&&db.putVocab(h),{vocab:d}})},deleteVocab:a=>{e(o=>({vocab:o.vocab.filter(c=>c.id!==a)})),db.deleteVocab(a)},getVocab:a=>i().vocab.find(o=>o.id===a),getDueVocab:()=>i().vocab.filter(a=>a.srs.nextReview<=Date.now()),hydrate:s}}),cache=new Map;function cacheKey(e,i){return`${e}:${i.toLowerCase()}`}async function fetchDictionaryApi(e,i){var b;const s=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/${encodeURIComponent(i)}/${encodeURIComponent(e)}`);if(!s.ok)return null;const o=(await s.json())[0];if(!o)return null;const c=(b=o.meanings)==null?void 0:b[0],d=(c==null?void 0:c.definitions)??[],h=d[0],g=d.map(_=>_.example).filter(Boolean);return{term:e,lang:i,definition:h==null?void 0:h.definition,examples:g,source:"dictionaryapi"}}async function fetchFreeDictionary(e,i){var d,h,g;const s=await fetch(`https://freedictapi.onrender.com/api/v2/entries/${encodeURIComponent(i)}/${encodeURIComponent(e)}`);if(!s.ok)return null;const o=(await s.json())[0],c=((h=(d=o==null?void 0:o.meanings)==null?void 0:d[0])==null?void 0:h.definitions)??[];return c.length?{term:e,lang:i,definition:(g=c[0])==null?void 0:g.definition,examples:c.map(b=>b.example).filter(Boolean),source:"freedictionary"}:null}async function fetchWiktionaryRest(e,i){var d,h,g,b,_,j;const s=await fetch(`https://${i}.wiktionary.org/api/rest_v1/page/definition/${encodeURIComponent(e)}?redirect=true`);if(!s.ok)return null;const o=(j=(_=(b=(g=(h=(d=(await s.json())[i])==null?void 0:d[0])==null?void 0:h.definitions)==null?void 0:g[0])==null?void 0:b.definition)==null?void 0:_[0])==null?void 0:j.text;if(!o)return null;const c=o.replace(/<[^>]+>/g,"");return{term:e,lang:i,definition:c,examples:[],source:"wiktionary-rest"}}async function fetchWiktionaryApi(e,i){var b,_;const s=new URLSearchParams({action:"query",format:"json",prop:"extracts",titles:e,redirects:"1",explaintext:"1",exintro:"1",origin:"*"}),a=await fetch(`https://${i}.wiktionary.org/w/api.php?${s.toString()}`);if(!a.ok)return null;const o=await a.json(),c=(b=o.query)!=null&&b.pages?Object.values(o.query.pages)[0]:void 0,d=(_=c==null?void 0:c.extract)==null?void 0:_.trim();if(!d)return null;const[h,...g]=d.split(`
`).map(j=>j.trim()).filter(Boolean);return{term:e,lang:i,definition:h,examples:g.slice(0,2),source:"wiktionary-api"}}function fallbackDefinition(e,i){return{term:e,lang:i,definition:"Definio ainda no encontrada. Observe e registre seu prprio significado.",examples:[`${e}  use em uma frase curta e clara.`,`Eu sempre lembro de ${e} quando pratico.`],source:"fallback"}}async function lookupDictionary(e,i){const s=cacheKey(i,e);if(cache.has(s))return cache.get(s);let a=null;try{a=await fetchDictionaryApi(e,i);const o=typeof window<"u"&&/\.app\.github\.dev$/.test(window.location.hostname);!a&&!o&&(a=await fetchFreeDictionary(e,i)),a||(a=await fetchWiktionaryRest(e,i)),a||(a=await fetchWiktionaryApi(e,i))}catch(o){console.debug("Dictionary lookup failed",o)}return a||(a=fallbackDefinition(e,i)),cache.set(s,a),a}function lingueeUrl(e,i,s="pt"){const a=i.toLowerCase(),o=s.toLowerCase();return`https://www.linguee.com/${a}-${o}/search?source=auto&query=${encodeURIComponent(e)}`}function WordModal({term:e,lang:i,isOpen:s,onClose:a,contextSentence:o}){var gt;const{push:c}=useToast(),d=useVocabStore(ut=>ut.addVocab),h=useVocabStore(ut=>ut.vocab.find(Et=>Et.term.toLowerCase()===e.toLowerCase())),[g,b]=reactExports.useState(null),[_,j]=reactExports.useState(),[$,_e]=reactExports.useState(!1),[rt,nt]=reactExports.useState(!1),[st,tt]=reactExports.useState(),et=reactExports.useMemo(()=>{if(_)try{const{hostname:ut}=new URL(_);return ut.includes("pollinations.ai")?"Pollinations":ut.includes("pexels.com")?"Pexels":ut.includes("pixabay.com")?"Pixabay":ut.includes("giphy.com")?"Giphy":ut.includes("unsplash.com")||ut.includes("source.unsplash.com")?"Unsplash":ut.replace(/^www\./,"")}catch(ut){console.warn("Could not parse image source",ut);return}},[_]),it=isSpeechSynthesisSupported();reactExports.useEffect(()=>{let ut=!1;return(async()=>{if(s){_e(!0),tt(void 0);try{const[vt,_t]=await Promise.all([lookupDictionary(e,i).catch(()=>null),fetchImageForTerm(e).catch(()=>{})]);ut||(b(vt),j(_t))}catch(vt){ut||tt(vt instanceof Error?vt.message:"No foi possvel carregar os detalhes agora.")}finally{ut||_e(!1)}}})(),()=>{ut=!0}},[s,e,i]);const pt=()=>{if(h){c("Palavra j est salva no vocabulrio.","info");return}d({term:e,lang:i,definition:g==null?void 0:g.definition,translation:g==null?void 0:g.translation,examples:(g==null?void 0:g.examples)??[],imageUrl:_,audioUrl:void 0,userSentences:o?[o]:[],srs:initialSrsState()}),c(" Word saved.","success"),a()},ot=async()=>{nt(!0);try{const ut=await fetchImageForTerm(`${e} illustration`);j(ut)}finally{nt(!1)}},at=()=>{it&&speak(e,{lang:i})},xt=reactExports.useMemo(()=>lingueeUrl(e,i,"pt"),[e,i]);return jsxRuntimeExports.jsx(Modal,{isOpen:s,onClose:a,title:e,children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[_&&jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden rounded-3xl",children:[jsxRuntimeExports.jsx("img",{src:_,alt:"",className:"h-48 w-full object-cover",loading:"lazy"}),jsxRuntimeExports.jsxs("div",{className:"absolute inset-x-4 top-4 flex items-center justify-between text-xs text-white/70",children:[et?jsxRuntimeExports.jsxs("span",{className:"rounded-full bg-black/40 px-3 py-1 backdrop-blur-sm",children:["Image via ",et]}):jsxRuntimeExports.jsx("span",{className:"rounded-full bg-black/40 px-3 py-1 backdrop-blur-sm",children:"Image"}),jsxRuntimeExports.jsx(Button,{intent:"ghost",onClick:ot,"aria-label":"Trocar imagem",disabled:rt,children:rt?jsxRuntimeExports.jsx(Loader2,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Image$1,{className:"h-4 w-4"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[it&&jsxRuntimeExports.jsx(Button,{intent:"ghost",onClick:at,"aria-label":"Ouvir pronncia",children:jsxRuntimeExports.jsx(Volume2,{className:"h-4 w-4"})}),jsxRuntimeExports.jsxs(Button,{intent:"ghost",href:xt,target:"_blank",rel:"noreferrer",children:["Ver no Linguee ",jsxRuntimeExports.jsx(ExternalLink,{className:"ml-2 h-4 w-4"})]}),h&&jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1 text-sm text-text-secondary",children:[jsxRuntimeExports.jsx(CheckCircle2,{className:"h-4 w-4 text-accent"})," J est no seu vocabulrio"]})]}),$?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-text-secondary",children:[jsxRuntimeExports.jsx(Loader2,{className:"h-4 w-4 animate-spin"})," Carregando detalhes"]}):jsxRuntimeExports.jsxs("div",{className:"space-y-4 text-text-secondary",children:[(g==null?void 0:g.definition)&&jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h3",{className:"font-display text-lg text-text-primary",children:"Definio"}),jsxRuntimeExports.jsx("p",{children:g.definition})]}),(gt=g==null?void 0:g.examples)!=null&&gt.length?jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h3",{className:"font-display text-lg text-text-primary",children:"Exemplos"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2 text-sm",children:g.examples.slice(0,3).map(ut=>jsxRuntimeExports.jsxs("li",{className:"rounded-2xl bg-white/5 px-4 py-2 text-text-secondary",children:["",ut,""]},ut))})]}):null,o&&jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h3",{className:"font-display text-lg text-text-primary",children:"Contexto"}),jsxRuntimeExports.jsx("p",{children:o})]}),st&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-300",children:st})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:justify-end",children:[jsxRuntimeExports.jsx(Button,{intent:"ghost",onClick:a,children:"Fechar"}),jsxRuntimeExports.jsx(Button,{intent:"accent",onClick:pt,disabled:!!h,children:"Salvar no vocabulrio"})]})]})})}function ok$1(){}function unreachable(){}function stringify$1(e,i){const s=i||{};return(e[e.length-1]===""?[...e,""]:e).join((s.padRight?" ":"")+","+(s.padLeft===!1?"":" ")).trim()}const nameRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nameReJsx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,emptyOptions$2={};function name(e,i){return((i||emptyOptions$2).jsx?nameReJsx:nameRe).test(e)}const re=/[ \t\n\f\r]/g;function whitespace(e){return typeof e=="object"?e.type==="text"?empty$1(e.value):!1:empty$1(e)}function empty$1(e){return e.replace(re,"")===""}class Schema{constructor(i,s,a){this.normal=s,this.property=i,a&&(this.space=a)}}Schema.prototype.normal={};Schema.prototype.property={};Schema.prototype.space=void 0;function merge(e,i){const s={},a={};for(const o of e)Object.assign(s,o.property),Object.assign(a,o.normal);return new Schema(s,a,i)}function normalize$1(e){return e.toLowerCase()}class Info{constructor(i,s){this.attribute=s,this.property=i}}Info.prototype.attribute="";Info.prototype.booleanish=!1;Info.prototype.boolean=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.commaSeparated=!1;Info.prototype.defined=!1;Info.prototype.mustUseProperty=!1;Info.prototype.number=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.property="";Info.prototype.spaceSeparated=!1;Info.prototype.space=void 0;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info{constructor(i,s,a,o){let c=-1;if(super(i,s),mark(this,"space",o),typeof a=="number")for(;++c<checks.length;){const d=checks[c];mark(this,checks[c],(a&types[d])===types[d])}}}DefinedInfo.prototype.defined=!0;function mark(e,i,s){s&&(e[i]=s)}function create(e){const i={},s={};for(const[a,o]of Object.entries(e.properties)){const c=new DefinedInfo(a,e.transform(e.attributes||{},a),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(a)&&(c.mustUseProperty=!0),i[a]=c,s[normalize$1(a)]=a,s[normalize$1(c.attribute)]=a}return new Schema(i,s,e.space)}const aria=create({properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null},transform(e,i){return i==="role"?i:"aria-"+i.slice(4).toLowerCase()}});function caseSensitiveTransform(e,i){return i in e?e[i]:i}function caseInsensitiveTransform(e,i){return caseSensitiveTransform(e,i.toLowerCase())}const html$2=create({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:overloadedBoolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null},space:"html",transform:caseInsensitiveTransform}),svg$1=create({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:caseSensitiveTransform}),xlink=create({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,i){return"xlink:"+i.slice(5).toLowerCase()}}),xmlns=create({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:caseInsensitiveTransform}),xml=create({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,i){return"xml:"+i.slice(3).toLowerCase()}}),hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cap$1=/[A-Z]/g,dash=/-[a-z]/g,valid=/^data[-\w.:]+$/i;function find(e,i){const s=normalize$1(i);let a=i,o=Info;if(s in e.normal)return e.property[e.normal[s]];if(s.length>4&&s.slice(0,4)==="data"&&valid.test(i)){if(i.charAt(4)==="-"){const c=i.slice(5).replace(dash,camelcase);a="data"+c.charAt(0).toUpperCase()+c.slice(1)}else{const c=i.slice(4);if(!dash.test(c)){let d=c.replace(cap$1,kebab);d.charAt(0)!=="-"&&(d="-"+d),i="data"+d}}o=DefinedInfo}return new o(a,i)}function kebab(e){return"-"+e.toLowerCase()}function camelcase(e){return e.charAt(1).toUpperCase()}const html$1=merge([aria,html$2,xlink,xmlns,xml],"html"),svg=merge([aria,svg$1,xlink,xmlns,xml],"svg");function stringify(e){return e.join(" ").trim()}var cjs$2={},COMMENT_REGEX=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,NEWLINE_REGEX=/\n/g,WHITESPACE_REGEX=/^\s*/,PROPERTY_REGEX=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,COLON_REGEX=/^:\s*/,VALUE_REGEX=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,SEMICOLON_REGEX=/^[;\s]*/,TRIM_REGEX=/^\s+|\s+$/g,NEWLINE=`
`,FORWARD_SLASH="/",ASTERISK="*",EMPTY_STRING="",TYPE_COMMENT="comment",TYPE_DECLARATION="declaration";function index$1(e,i){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];i=i||{};var s=1,a=1;function o(rt){var nt=rt.match(NEWLINE_REGEX);nt&&(s+=nt.length);var st=rt.lastIndexOf(NEWLINE);a=~st?rt.length-st:a+rt.length}function c(){var rt={line:s,column:a};return function(nt){return nt.position=new d(rt),b(),nt}}function d(rt){this.start=rt,this.end={line:s,column:a},this.source=i.source}d.prototype.content=e;function h(rt){var nt=new Error(i.source+":"+s+":"+a+": "+rt);if(nt.reason=rt,nt.filename=i.source,nt.line=s,nt.column=a,nt.source=e,!i.silent)throw nt}function g(rt){var nt=rt.exec(e);if(nt){var st=nt[0];return o(st),e=e.slice(st.length),nt}}function b(){g(WHITESPACE_REGEX)}function _(rt){var nt;for(rt=rt||[];nt=j();)nt!==!1&&rt.push(nt);return rt}function j(){var rt=c();if(!(FORWARD_SLASH!=e.charAt(0)||ASTERISK!=e.charAt(1))){for(var nt=2;EMPTY_STRING!=e.charAt(nt)&&(ASTERISK!=e.charAt(nt)||FORWARD_SLASH!=e.charAt(nt+1));)++nt;if(nt+=2,EMPTY_STRING===e.charAt(nt-1))return h("End of comment missing");var st=e.slice(2,nt-2);return a+=2,o(st),e=e.slice(nt),a+=2,rt({type:TYPE_COMMENT,comment:st})}}function $(){var rt=c(),nt=g(PROPERTY_REGEX);if(nt){if(j(),!g(COLON_REGEX))return h("property missing ':'");var st=g(VALUE_REGEX),tt=rt({type:TYPE_DECLARATION,property:trim(nt[0].replace(COMMENT_REGEX,EMPTY_STRING)),value:st?trim(st[0].replace(COMMENT_REGEX,EMPTY_STRING)):EMPTY_STRING});return g(SEMICOLON_REGEX),tt}}function _e(){var rt=[];_(rt);for(var nt;nt=$();)nt!==!1&&(rt.push(nt),_(rt));return rt}return b(),_e()}function trim(e){return e?e.replace(TRIM_REGEX,EMPTY_STRING):EMPTY_STRING}var cjs$1=index$1,__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cjs$2,"__esModule",{value:!0});cjs$2.default=StyleToObject;const inline_style_parser_1=__importDefault$1(cjs$1);function StyleToObject(e,i){let s=null;if(!e||typeof e!="string")return s;const a=(0,inline_style_parser_1.default)(e),o=typeof i=="function";return a.forEach(c=>{if(c.type!=="declaration")return;const{property:d,value:h}=c;o?i(d,h,c):h&&(s=s||{},s[d]=h)}),s}var utilities={};Object.defineProperty(utilities,"__esModule",{value:!0});utilities.camelCase=void 0;var CUSTOM_PROPERTY_REGEX=/^--[a-zA-Z0-9_-]+$/,HYPHEN_REGEX=/-([a-z])/g,NO_HYPHEN_REGEX=/^[^-]+$/,VENDOR_PREFIX_REGEX=/^-(webkit|moz|ms|o|khtml)-/,MS_VENDOR_PREFIX_REGEX=/^-(ms)-/,skipCamelCase=function(e){return!e||NO_HYPHEN_REGEX.test(e)||CUSTOM_PROPERTY_REGEX.test(e)},capitalize=function(e,i){return i.toUpperCase()},trimHyphen=function(e,i){return"".concat(i,"-")},camelCase=function(e,i){return i===void 0&&(i={}),skipCamelCase(e)?e:(e=e.toLowerCase(),i.reactCompat?e=e.replace(MS_VENDOR_PREFIX_REGEX,trimHyphen):e=e.replace(VENDOR_PREFIX_REGEX,trimHyphen),e.replace(HYPHEN_REGEX,capitalize))};utilities.camelCase=camelCase;var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},style_to_object_1=__importDefault(cjs$2),utilities_1=utilities;function StyleToJS(e,i){var s={};return!e||typeof e!="string"||(0,style_to_object_1.default)(e,function(a,o){a&&o&&(s[(0,utilities_1.camelCase)(a,i)]=o)}),s}StyleToJS.default=StyleToJS;var cjs=StyleToJS;const styleToJs=getDefaultExportFromCjs(cjs),pointEnd=point$2("end"),pointStart=point$2("start");function point$2(e){return i;function i(s){const a=s&&s.position&&s.position[e]||{};if(typeof a.line=="number"&&a.line>0&&typeof a.column=="number"&&a.column>0)return{line:a.line,column:a.column,offset:typeof a.offset=="number"&&a.offset>-1?a.offset:void 0}}}function position$1(e){const i=pointStart(e),s=pointEnd(e);if(i&&s)return{start:i,end:s}}function stringifyPosition(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?position(e.position):"start"in e||"end"in e?position(e):"line"in e||"column"in e?point$1(e):""}function point$1(e){return index(e&&e.line)+":"+index(e&&e.column)}function position(e){return point$1(e&&e.start)+"-"+point$1(e&&e.end)}function index(e){return e&&typeof e=="number"?e:1}class VFileMessage extends Error{constructor(i,s,a){super(),typeof s=="string"&&(a=s,s=void 0);let o="",c={},d=!1;if(s&&("line"in s&&"column"in s?c={place:s}:"start"in s&&"end"in s?c={place:s}:"type"in s?c={ancestors:[s],place:s.position}:c={...s}),typeof i=="string"?o=i:!c.cause&&i&&(d=!0,o=i.message,c.cause=i),!c.ruleId&&!c.source&&typeof a=="string"){const g=a.indexOf(":");g===-1?c.ruleId=a:(c.source=a.slice(0,g),c.ruleId=a.slice(g+1))}if(!c.place&&c.ancestors&&c.ancestors){const g=c.ancestors[c.ancestors.length-1];g&&(c.place=g.position)}const h=c.place&&"start"in c.place?c.place.start:c.place;this.ancestors=c.ancestors||void 0,this.cause=c.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=h?h.line:void 0,this.name=stringifyPosition(c.place)||"1:1",this.place=c.place||void 0,this.reason=this.message,this.ruleId=c.ruleId||void 0,this.source=c.source||void 0,this.stack=d&&c.cause&&typeof c.cause.stack=="string"?c.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.column=void 0;VFileMessage.prototype.line=void 0;VFileMessage.prototype.ancestors=void 0;VFileMessage.prototype.cause=void 0;VFileMessage.prototype.fatal=void 0;VFileMessage.prototype.place=void 0;VFileMessage.prototype.ruleId=void 0;VFileMessage.prototype.source=void 0;const own$3={}.hasOwnProperty,emptyMap=new Map,cap=/[A-Z]/g,tableElements=new Set(["table","tbody","thead","tfoot","tr"]),tableCellElement=new Set(["td","th"]),docs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime(e,i){if(!i||i.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const s=i.filePath||void 0;let a;if(i.development){if(typeof i.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");a=developmentCreate(s,i.jsxDEV)}else{if(typeof i.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof i.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");a=productionCreate(s,i.jsx,i.jsxs)}const o={Fragment:i.Fragment,ancestors:[],components:i.components||{},create:a,elementAttributeNameCase:i.elementAttributeNameCase||"react",evaluater:i.createEvaluater?i.createEvaluater():void 0,filePath:s,ignoreInvalidStyle:i.ignoreInvalidStyle||!1,passKeys:i.passKeys!==!1,passNode:i.passNode||!1,schema:i.space==="svg"?svg:html$1,stylePropertyNameCase:i.stylePropertyNameCase||"dom",tableCellAlignToStyle:i.tableCellAlignToStyle!==!1},c=one$1(o,e,void 0);return c&&typeof c!="string"?c:o.create(e,o.Fragment,{children:c||void 0},void 0)}function one$1(e,i,s){if(i.type==="element")return element$1(e,i,s);if(i.type==="mdxFlowExpression"||i.type==="mdxTextExpression")return mdxExpression(e,i);if(i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement")return mdxJsxElement(e,i,s);if(i.type==="mdxjsEsm")return mdxEsm(e,i);if(i.type==="root")return root$2(e,i,s);if(i.type==="text")return text$3(e,i)}function element$1(e,i,s){const a=e.schema;let o=a;i.tagName.toLowerCase()==="svg"&&a.space==="html"&&(o=svg,e.schema=o),e.ancestors.push(i);const c=findComponentFromName(e,i.tagName,!1),d=createElementProps(e,i);let h=createChildren(e,i);return tableElements.has(i.tagName)&&(h=h.filter(function(g){return typeof g=="string"?!whitespace(g):!0})),addNode(e,d,c,i),addChildren(d,h),e.ancestors.pop(),e.schema=a,e.create(i,c,d,s)}function mdxExpression(e,i){if(i.data&&i.data.estree&&e.evaluater){const a=i.data.estree.body[0];return a.type,e.evaluater.evaluateExpression(a.expression)}crashEstree(e,i.position)}function mdxEsm(e,i){if(i.data&&i.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(i.data.estree);crashEstree(e,i.position)}function mdxJsxElement(e,i,s){const a=e.schema;let o=a;i.name==="svg"&&a.space==="html"&&(o=svg,e.schema=o),e.ancestors.push(i);const c=i.name===null?e.Fragment:findComponentFromName(e,i.name,!0),d=createJsxElementProps(e,i),h=createChildren(e,i);return addNode(e,d,c,i),addChildren(d,h),e.ancestors.pop(),e.schema=a,e.create(i,c,d,s)}function root$2(e,i,s){const a={};return addChildren(a,createChildren(e,i)),e.create(i,e.Fragment,a,s)}function text$3(e,i){return i.value}function addNode(e,i,s,a){typeof s!="string"&&s!==e.Fragment&&e.passNode&&(i.node=a)}function addChildren(e,i){if(i.length>0){const s=i.length>1?i:i[0];s&&(e.children=s)}}function productionCreate(e,i,s){return a;function a(o,c,d,h){const b=Array.isArray(d.children)?s:i;return h?b(c,d,h):b(c,d)}}function developmentCreate(e,i){return s;function s(a,o,c,d){const h=Array.isArray(c.children),g=pointStart(a);return i(o,c,d,h,{columnNumber:g?g.column-1:void 0,fileName:e,lineNumber:g?g.line:void 0},void 0)}}function createElementProps(e,i){const s={};let a,o;for(o in i.properties)if(o!=="children"&&own$3.call(i.properties,o)){const c=createProperty(e,o,i.properties[o]);if(c){const[d,h]=c;e.tableCellAlignToStyle&&d==="align"&&typeof h=="string"&&tableCellElement.has(i.tagName)?a=h:s[d]=h}}if(a){const c=s.style||(s.style={});c[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}return s}function createJsxElementProps(e,i){const s={};for(const a of i.attributes)if(a.type==="mdxJsxExpressionAttribute")if(a.data&&a.data.estree&&e.evaluater){const c=a.data.estree.body[0];c.type;const d=c.expression;d.type;const h=d.properties[0];h.type,Object.assign(s,e.evaluater.evaluateExpression(h.argument))}else crashEstree(e,i.position);else{const o=a.name;let c;if(a.value&&typeof a.value=="object")if(a.value.data&&a.value.data.estree&&e.evaluater){const h=a.value.data.estree.body[0];h.type,c=e.evaluater.evaluateExpression(h.expression)}else crashEstree(e,i.position);else c=a.value===null?!0:a.value;s[o]=c}return s}function createChildren(e,i){const s=[];let a=-1;const o=e.passKeys?new Map:emptyMap;for(;++a<i.children.length;){const c=i.children[a];let d;if(e.passKeys){const g=c.type==="element"?c.tagName:c.type==="mdxJsxFlowElement"||c.type==="mdxJsxTextElement"?c.name:void 0;if(g){const b=o.get(g)||0;d=g+"-"+b,o.set(g,b+1)}}const h=one$1(e,c,d);h!==void 0&&s.push(h)}return s}function createProperty(e,i,s){const a=find(e.schema,i);if(!(s==null||typeof s=="number"&&Number.isNaN(s))){if(Array.isArray(s)&&(s=a.commaSeparated?stringify$1(s):stringify(s)),a.property==="style"){let o=typeof s=="object"?s:parseStyle(e,String(s));return e.stylePropertyNameCase==="css"&&(o=transformStylesToCssCasing(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&a.space?hastToReact[a.property]||a.property:a.attribute,s]}}function parseStyle(e,i){try{return styleToJs(i,{reactCompat:!0})}catch(s){if(e.ignoreInvalidStyle)return{};const a=s,o=new VFileMessage("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=docs+"#cannot-parse-style-attribute",o}}function findComponentFromName(e,i,s){let a;if(!s)a={type:"Literal",value:i};else if(i.includes(".")){const o=i.split(".");let c=-1,d;for(;++c<o.length;){const h=name(o[c])?{type:"Identifier",name:o[c]}:{type:"Literal",value:o[c]};d=d?{type:"MemberExpression",object:d,property:h,computed:!!(c&&h.type==="Literal"),optional:!1}:h}a=d}else a=name(i)&&!/^[a-z]/.test(i)?{type:"Identifier",name:i}:{type:"Literal",value:i};if(a.type==="Literal"){const o=a.value;return own$3.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(a);crashEstree(e)}function crashEstree(e,i){const s=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:i,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=docs+"#cannot-handle-mdx-estrees-without-createevaluater",s}function transformStylesToCssCasing(e){const i={};let s;for(s in e)own$3.call(e,s)&&(i[transformStyleToCssCasing(s)]=e[s]);return i}function transformStyleToCssCasing(e){let i=e.replace(cap,toDash);return i.slice(0,3)==="ms-"&&(i="-"+i),i}function toDash(e){return"-"+e.toLowerCase()}const urlAttributes={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},emptyOptions$1={};function toString$1(e,i){const s=i||emptyOptions$1,a=typeof s.includeImageAlt=="boolean"?s.includeImageAlt:!0,o=typeof s.includeHtml=="boolean"?s.includeHtml:!0;return one(e,a,o)}function one(e,i,s){if(node(e)){if("value"in e)return e.type==="html"&&!s?"":e.value;if(i&&"alt"in e&&e.alt)return e.alt;if("children"in e)return all(e.children,i,s)}return Array.isArray(e)?all(e,i,s):""}function all(e,i,s){const a=[];let o=-1;for(;++o<e.length;)a[o]=one(e[o],i,s);return a.join("")}function node(e){return!!(e&&typeof e=="object")}const element=document.createElement("i");function decodeNamedCharacterReference(e){const i="&"+e+";";element.innerHTML=i;const s=element.textContent;return s.charCodeAt(s.length-1)===59&&e!=="semi"||s===i?!1:s}function splice(e,i,s,a){const o=e.length;let c=0,d;if(i<0?i=-i>o?0:o+i:i=i>o?o:i,s=s>0?s:0,a.length<1e4)d=Array.from(a),d.unshift(i,s),e.splice(...d);else for(s&&e.splice(i,s);c<a.length;)d=a.slice(c,c+1e4),d.unshift(i,0),e.splice(...d),c+=1e4,i+=1e4}function push(e,i){return e.length>0?(splice(e,e.length,0,i),e):i}const hasOwnProperty={}.hasOwnProperty;function combineExtensions(e){const i={};let s=-1;for(;++s<e.length;)syntaxExtension(i,e[s]);return i}function syntaxExtension(e,i){let s;for(s in i){const o=(hasOwnProperty.call(e,s)?e[s]:void 0)||(e[s]={}),c=i[s];let d;if(c)for(d in c){hasOwnProperty.call(o,d)||(o[d]=[]);const h=c[d];constructs(o[d],Array.isArray(h)?h:h?[h]:[])}}}function constructs(e,i){let s=-1;const a=[];for(;++s<i.length;)(i[s].add==="after"?e:a).push(i[s]);splice(e,0,0,a)}function decodeNumericCharacterReference(e,i){const s=Number.parseInt(e,i);return s<9||s===11||s>13&&s<32||s>126&&s<160||s>55295&&s<57344||s>64975&&s<65008||(s&65535)===65535||(s&65535)===65534||s>1114111?"":String.fromCodePoint(s)}function normalizeIdentifier(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(e){return e!==null&&(e<32||e===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(e){return e!==null&&e<-2}function markdownLineEndingOrSpace(e){return e!==null&&(e<0||e===32)}function markdownSpace(e){return e===-2||e===-1||e===32}const unicodePunctuation=regexCheck(/\p{P}|\p{S}/u),unicodeWhitespace=regexCheck(/\s/);function regexCheck(e){return i;function i(s){return s!==null&&s>-1&&e.test(String.fromCharCode(s))}}function normalizeUri(e){const i=[];let s=-1,a=0,o=0;for(;++s<e.length;){const c=e.charCodeAt(s);let d="";if(c===37&&asciiAlphanumeric(e.charCodeAt(s+1))&&asciiAlphanumeric(e.charCodeAt(s+2)))o=2;else if(c<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(c))||(d=String.fromCharCode(c));else if(c>55295&&c<57344){const h=e.charCodeAt(s+1);c<56320&&h>56319&&h<57344?(d=String.fromCharCode(c,h),o=1):d=""}else d=String.fromCharCode(c);d&&(i.push(e.slice(a,s),encodeURIComponent(d)),a=s+o+1,d=""),o&&(s+=o,o=0)}return i.join("")+e.slice(a)}function factorySpace(e,i,s,a){const o=a?a-1:Number.POSITIVE_INFINITY;let c=0;return d;function d(g){return markdownSpace(g)?(e.enter(s),h(g)):i(g)}function h(g){return markdownSpace(g)&&c++<o?(e.consume(g),h):(e.exit(s),i(g))}}const content$1={tokenize:initializeContent};function initializeContent(e){const i=e.attempt(this.parser.constructs.contentInitial,a,o);let s;return i;function a(h){if(h===null){e.consume(h);return}return e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),factorySpace(e,i,"linePrefix")}function o(h){return e.enter("paragraph"),c(h)}function c(h){const g=e.enter("chunkText",{contentType:"text",previous:s});return s&&(s.next=g),s=g,d(h)}function d(h){if(h===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(h);return}return markdownLineEnding(h)?(e.consume(h),e.exit("chunkText"),c):(e.consume(h),d)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(e){const i=this,s=[];let a=0,o,c,d;return h;function h(it){if(a<s.length){const pt=s[a];return i.containerState=pt[1],e.attempt(pt[0].continuation,g,b)(it)}return b(it)}function g(it){if(a++,i.containerState._closeFlow){i.containerState._closeFlow=void 0,o&&et();const pt=i.events.length;let ot=pt,at;for(;ot--;)if(i.events[ot][0]==="exit"&&i.events[ot][1].type==="chunkFlow"){at=i.events[ot][1].end;break}tt(a);let xt=pt;for(;xt<i.events.length;)i.events[xt][1].end={...at},xt++;return splice(i.events,ot+1,0,i.events.slice(pt)),i.events.length=xt,b(it)}return h(it)}function b(it){if(a===s.length){if(!o)return $(it);if(o.currentConstruct&&o.currentConstruct.concrete)return rt(it);i.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return i.containerState={},e.check(containerConstruct,_,j)(it)}function _(it){return o&&et(),tt(a),$(it)}function j(it){return i.parser.lazy[i.now().line]=a!==s.length,d=i.now().offset,rt(it)}function $(it){return i.containerState={},e.attempt(containerConstruct,_e,rt)(it)}function _e(it){return a++,s.push([i.currentConstruct,i.containerState]),$(it)}function rt(it){if(it===null){o&&et(),tt(0),e.consume(it);return}return o=o||i.parser.flow(i.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:c}),nt(it)}function nt(it){if(it===null){st(e.exit("chunkFlow"),!0),tt(0),e.consume(it);return}return markdownLineEnding(it)?(e.consume(it),st(e.exit("chunkFlow")),a=0,i.interrupt=void 0,h):(e.consume(it),nt)}function st(it,pt){const ot=i.sliceStream(it);if(pt&&ot.push(null),it.previous=c,c&&(c.next=it),c=it,o.defineSkip(it.start),o.write(ot),i.parser.lazy[it.start.line]){let at=o.events.length;for(;at--;)if(o.events[at][1].start.offset<d&&(!o.events[at][1].end||o.events[at][1].end.offset>d))return;const xt=i.events.length;let gt=xt,ut,Et;for(;gt--;)if(i.events[gt][0]==="exit"&&i.events[gt][1].type==="chunkFlow"){if(ut){Et=i.events[gt][1].end;break}ut=!0}for(tt(a),at=xt;at<i.events.length;)i.events[at][1].end={...Et},at++;splice(i.events,gt+1,0,i.events.slice(xt)),i.events.length=at}}function tt(it){let pt=s.length;for(;pt-- >it;){const ot=s[pt];i.containerState=ot[1],ot[0].exit.call(i,e)}s.length=it}function et(){o.write([null]),c=void 0,o=void 0,i.containerState._closeFlow=void 0}}function tokenizeContainer(e,i,s){return factorySpace(e,e.attempt(this.parser.constructs.document,i,s),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(e){if(e===null||markdownLineEndingOrSpace(e)||unicodeWhitespace(e))return 1;if(unicodePunctuation(e))return 2}function resolveAll(e,i,s){const a=[];let o=-1;for(;++o<e.length;){const c=e[o].resolveAll;c&&!a.includes(c)&&(i=c(i,s),a.push(c))}return i}const attention={name:"attention",resolveAll:resolveAllAttention,tokenize:tokenizeAttention};function resolveAllAttention(e,i){let s=-1,a,o,c,d,h,g,b,_;for(;++s<e.length;)if(e[s][0]==="enter"&&e[s][1].type==="attentionSequence"&&e[s][1]._close){for(a=s;a--;)if(e[a][0]==="exit"&&e[a][1].type==="attentionSequence"&&e[a][1]._open&&i.sliceSerialize(e[a][1]).charCodeAt(0)===i.sliceSerialize(e[s][1]).charCodeAt(0)){if((e[a][1]._close||e[s][1]._open)&&(e[s][1].end.offset-e[s][1].start.offset)%3&&!((e[a][1].end.offset-e[a][1].start.offset+e[s][1].end.offset-e[s][1].start.offset)%3))continue;g=e[a][1].end.offset-e[a][1].start.offset>1&&e[s][1].end.offset-e[s][1].start.offset>1?2:1;const j={...e[a][1].end},$={...e[s][1].start};movePoint(j,-g),movePoint($,g),d={type:g>1?"strongSequence":"emphasisSequence",start:j,end:{...e[a][1].end}},h={type:g>1?"strongSequence":"emphasisSequence",start:{...e[s][1].start},end:$},c={type:g>1?"strongText":"emphasisText",start:{...e[a][1].end},end:{...e[s][1].start}},o={type:g>1?"strong":"emphasis",start:{...d.start},end:{...h.end}},e[a][1].end={...d.start},e[s][1].start={...h.end},b=[],e[a][1].end.offset-e[a][1].start.offset&&(b=push(b,[["enter",e[a][1],i],["exit",e[a][1],i]])),b=push(b,[["enter",o,i],["enter",d,i],["exit",d,i],["enter",c,i]]),b=push(b,resolveAll(i.parser.constructs.insideSpan.null,e.slice(a+1,s),i)),b=push(b,[["exit",c,i],["enter",h,i],["exit",h,i],["exit",o,i]]),e[s][1].end.offset-e[s][1].start.offset?(_=2,b=push(b,[["enter",e[s][1],i],["exit",e[s][1],i]])):_=0,splice(e,a-1,s-a+3,b),s=a+b.length-_-2;break}}for(s=-1;++s<e.length;)e[s][1].type==="attentionSequence"&&(e[s][1].type="data");return e}function tokenizeAttention(e,i){const s=this.parser.constructs.attentionMarkers.null,a=this.previous,o=classifyCharacter(a);let c;return d;function d(g){return c=g,e.enter("attentionSequence"),h(g)}function h(g){if(g===c)return e.consume(g),h;const b=e.exit("attentionSequence"),_=classifyCharacter(g),j=!_||_===2&&o||s.includes(g),$=!o||o===2&&_||s.includes(a);return b._open=!!(c===42?j:j&&(o||!$)),b._close=!!(c===42?$:$&&(_||!j)),i(g)}}function movePoint(e,i){e.column+=i,e.offset+=i,e._bufferIndex+=i}const autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(e,i,s){let a=0;return o;function o(_e){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(_e),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),c}function c(_e){return asciiAlpha(_e)?(e.consume(_e),d):_e===64?s(_e):b(_e)}function d(_e){return _e===43||_e===45||_e===46||asciiAlphanumeric(_e)?(a=1,h(_e)):b(_e)}function h(_e){return _e===58?(e.consume(_e),a=0,g):(_e===43||_e===45||_e===46||asciiAlphanumeric(_e))&&a++<32?(e.consume(_e),h):(a=0,b(_e))}function g(_e){return _e===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(_e),e.exit("autolinkMarker"),e.exit("autolink"),i):_e===null||_e===32||_e===60||asciiControl(_e)?s(_e):(e.consume(_e),g)}function b(_e){return _e===64?(e.consume(_e),_):asciiAtext(_e)?(e.consume(_e),b):s(_e)}function _(_e){return asciiAlphanumeric(_e)?j(_e):s(_e)}function j(_e){return _e===46?(e.consume(_e),a=0,_):_e===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(_e),e.exit("autolinkMarker"),e.exit("autolink"),i):$(_e)}function $(_e){if((_e===45||asciiAlphanumeric(_e))&&a++<63){const rt=_e===45?$:j;return e.consume(_e),rt}return s(_e)}}const blankLine={partial:!0,tokenize:tokenizeBlankLine};function tokenizeBlankLine(e,i,s){return a;function a(c){return markdownSpace(c)?factorySpace(e,o,"linePrefix")(c):o(c)}function o(c){return c===null||markdownLineEnding(c)?i(c):s(c)}}const blockQuote={continuation:{tokenize:tokenizeBlockQuoteContinuation},exit,name:"blockQuote",tokenize:tokenizeBlockQuoteStart};function tokenizeBlockQuoteStart(e,i,s){const a=this;return o;function o(d){if(d===62){const h=a.containerState;return h.open||(e.enter("blockQuote",{_container:!0}),h.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(d),e.exit("blockQuoteMarker"),c}return s(d)}function c(d){return markdownSpace(d)?(e.enter("blockQuotePrefixWhitespace"),e.consume(d),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),i):(e.exit("blockQuotePrefix"),i(d))}}function tokenizeBlockQuoteContinuation(e,i,s){const a=this;return o;function o(d){return markdownSpace(d)?factorySpace(e,c,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d):c(d)}function c(d){return e.attempt(blockQuote,i,s)(d)}}function exit(e){e.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(e,i,s){return a;function a(c){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(c),e.exit("escapeMarker"),o}function o(c){return asciiPunctuation(c)?(e.enter("characterEscapeValue"),e.consume(c),e.exit("characterEscapeValue"),e.exit("characterEscape"),i):s(c)}}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(e,i,s){const a=this;let o=0,c,d;return h;function h(j){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(j),e.exit("characterReferenceMarker"),g}function g(j){return j===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(j),e.exit("characterReferenceMarkerNumeric"),b):(e.enter("characterReferenceValue"),c=31,d=asciiAlphanumeric,_(j))}function b(j){return j===88||j===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(j),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),c=6,d=asciiHexDigit,_):(e.enter("characterReferenceValue"),c=7,d=asciiDigit,_(j))}function _(j){if(j===59&&o){const $=e.exit("characterReferenceValue");return d===asciiAlphanumeric&&!decodeNamedCharacterReference(a.sliceSerialize($))?s(j):(e.enter("characterReferenceMarker"),e.consume(j),e.exit("characterReferenceMarker"),e.exit("characterReference"),i)}return d(j)&&o++<c?(e.consume(j),_):s(j)}}const nonLazyContinuation={partial:!0,tokenize:tokenizeNonLazyContinuation},codeFenced={concrete:!0,name:"codeFenced",tokenize:tokenizeCodeFenced};function tokenizeCodeFenced(e,i,s){const a=this,o={partial:!0,tokenize:ot};let c=0,d=0,h;return g;function g(at){return b(at)}function b(at){const xt=a.events[a.events.length-1];return c=xt&&xt[1].type==="linePrefix"?xt[2].sliceSerialize(xt[1],!0).length:0,h=at,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),_(at)}function _(at){return at===h?(d++,e.consume(at),_):d<3?s(at):(e.exit("codeFencedFenceSequence"),markdownSpace(at)?factorySpace(e,j,"whitespace")(at):j(at))}function j(at){return at===null||markdownLineEnding(at)?(e.exit("codeFencedFence"),a.interrupt?i(at):e.check(nonLazyContinuation,nt,pt)(at)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),$(at))}function $(at){return at===null||markdownLineEnding(at)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),j(at)):markdownSpace(at)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),factorySpace(e,_e,"whitespace")(at)):at===96&&at===h?s(at):(e.consume(at),$)}function _e(at){return at===null||markdownLineEnding(at)?j(at):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),rt(at))}function rt(at){return at===null||markdownLineEnding(at)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),j(at)):at===96&&at===h?s(at):(e.consume(at),rt)}function nt(at){return e.attempt(o,pt,st)(at)}function st(at){return e.enter("lineEnding"),e.consume(at),e.exit("lineEnding"),tt}function tt(at){return c>0&&markdownSpace(at)?factorySpace(e,et,"linePrefix",c+1)(at):et(at)}function et(at){return at===null||markdownLineEnding(at)?e.check(nonLazyContinuation,nt,pt)(at):(e.enter("codeFlowValue"),it(at))}function it(at){return at===null||markdownLineEnding(at)?(e.exit("codeFlowValue"),et(at)):(e.consume(at),it)}function pt(at){return e.exit("codeFenced"),i(at)}function ot(at,xt,gt){let ut=0;return Et;function Et(It){return at.enter("lineEnding"),at.consume(It),at.exit("lineEnding"),vt}function vt(It){return at.enter("codeFencedFence"),markdownSpace(It)?factorySpace(at,_t,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(It):_t(It)}function _t(It){return It===h?(at.enter("codeFencedFenceSequence"),jt(It)):gt(It)}function jt(It){return It===h?(ut++,at.consume(It),jt):ut>=d?(at.exit("codeFencedFenceSequence"),markdownSpace(It)?factorySpace(at,kt,"whitespace")(It):kt(It)):gt(It)}function kt(It){return It===null||markdownLineEnding(It)?(at.exit("codeFencedFence"),xt(It)):gt(It)}}}function tokenizeNonLazyContinuation(e,i,s){const a=this;return o;function o(d){return d===null?s(d):(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c)}function c(d){return a.parser.lazy[a.now().line]?s(d):i(d)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={partial:!0,tokenize:tokenizeFurtherStart};function tokenizeCodeIndented(e,i,s){const a=this;return o;function o(b){return e.enter("codeIndented"),factorySpace(e,c,"linePrefix",4+1)(b)}function c(b){const _=a.events[a.events.length-1];return _&&_[1].type==="linePrefix"&&_[2].sliceSerialize(_[1],!0).length>=4?d(b):s(b)}function d(b){return b===null?g(b):markdownLineEnding(b)?e.attempt(furtherStart,d,g)(b):(e.enter("codeFlowValue"),h(b))}function h(b){return b===null||markdownLineEnding(b)?(e.exit("codeFlowValue"),d(b)):(e.consume(b),h)}function g(b){return e.exit("codeIndented"),i(b)}}function tokenizeFurtherStart(e,i,s){const a=this;return o;function o(d){return a.parser.lazy[a.now().line]?s(d):markdownLineEnding(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),o):factorySpace(e,c,"linePrefix",4+1)(d)}function c(d){const h=a.events[a.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?i(d):markdownLineEnding(d)?o(d):s(d)}}const codeText={name:"codeText",previous,resolve:resolveCodeText,tokenize:tokenizeCodeText};function resolveCodeText(e){let i=e.length-4,s=3,a,o;if((e[s][1].type==="lineEnding"||e[s][1].type==="space")&&(e[i][1].type==="lineEnding"||e[i][1].type==="space")){for(a=s;++a<i;)if(e[a][1].type==="codeTextData"){e[s][1].type="codeTextPadding",e[i][1].type="codeTextPadding",s+=2,i-=2;break}}for(a=s-1,i++;++a<=i;)o===void 0?a!==i&&e[a][1].type!=="lineEnding"&&(o=a):(a===i||e[a][1].type==="lineEnding")&&(e[o][1].type="codeTextData",a!==o+2&&(e[o][1].end=e[a-1][1].end,e.splice(o+2,a-o-2),i-=a-o-2,a=o+2),o=void 0);return e}function previous(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(e,i,s){let a=0,o,c;return d;function d(j){return e.enter("codeText"),e.enter("codeTextSequence"),h(j)}function h(j){return j===96?(e.consume(j),a++,h):(e.exit("codeTextSequence"),g(j))}function g(j){return j===null?s(j):j===32?(e.enter("space"),e.consume(j),e.exit("space"),g):j===96?(c=e.enter("codeTextSequence"),o=0,_(j)):markdownLineEnding(j)?(e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),g):(e.enter("codeTextData"),b(j))}function b(j){return j===null||j===32||j===96||markdownLineEnding(j)?(e.exit("codeTextData"),g(j)):(e.consume(j),b)}function _(j){return j===96?(e.consume(j),o++,_):o===a?(e.exit("codeTextSequence"),e.exit("codeText"),i(j)):(c.type="codeTextData",b(j))}}class SpliceBuffer{constructor(i){this.left=i?[...i]:[],this.right=[]}get(i){if(i<0||i>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+i+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return i<this.left.length?this.left[i]:this.right[this.right.length-i+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(i,s){const a=s??Number.POSITIVE_INFINITY;return a<this.left.length?this.left.slice(i,a):i>this.left.length?this.right.slice(this.right.length-a+this.left.length,this.right.length-i+this.left.length).reverse():this.left.slice(i).concat(this.right.slice(this.right.length-a+this.left.length).reverse())}splice(i,s,a){const o=s||0;this.setCursor(Math.trunc(i));const c=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return a&&chunkedPush(this.left,a),c.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(i){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(i)}pushMany(i){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,i)}unshift(i){this.setCursor(0),this.right.push(i)}unshiftMany(i){this.setCursor(0),chunkedPush(this.right,i.reverse())}setCursor(i){if(!(i===this.left.length||i>this.left.length&&this.right.length===0||i<0&&this.left.length===0))if(i<this.left.length){const s=this.left.splice(i,Number.POSITIVE_INFINITY);chunkedPush(this.right,s.reverse())}else{const s=this.right.splice(this.left.length+this.right.length-i,Number.POSITIVE_INFINITY);chunkedPush(this.left,s.reverse())}}}function chunkedPush(e,i){let s=0;if(i.length<1e4)e.push(...i);else for(;s<i.length;)e.push(...i.slice(s,s+1e4)),s+=1e4}function subtokenize(e){const i={};let s=-1,a,o,c,d,h,g,b;const _=new SpliceBuffer(e);for(;++s<_.length;){for(;s in i;)s=i[s];if(a=_.get(s),s&&a[1].type==="chunkFlow"&&_.get(s-1)[1].type==="listItemPrefix"&&(g=a[1]._tokenizer.events,c=0,c<g.length&&g[c][1].type==="lineEndingBlank"&&(c+=2),c<g.length&&g[c][1].type==="content"))for(;++c<g.length&&g[c][1].type!=="content";)g[c][1].type==="chunkText"&&(g[c][1]._isInFirstContentOfListItem=!0,c++);if(a[0]==="enter")a[1].contentType&&(Object.assign(i,subcontent(_,s)),s=i[s],b=!0);else if(a[1]._container){for(c=s,o=void 0;c--;)if(d=_.get(c),d[1].type==="lineEnding"||d[1].type==="lineEndingBlank")d[0]==="enter"&&(o&&(_.get(o)[1].type="lineEndingBlank"),d[1].type="lineEnding",o=c);else if(!(d[1].type==="linePrefix"||d[1].type==="listItemIndent"))break;o&&(a[1].end={..._.get(o)[1].start},h=_.slice(o,s),h.unshift(a),_.splice(o,s-o+1,h))}}return splice(e,0,Number.POSITIVE_INFINITY,_.slice(0)),!b}function subcontent(e,i){const s=e.get(i)[1],a=e.get(i)[2];let o=i-1;const c=[];let d=s._tokenizer;d||(d=a.parser[s.contentType](s.start),s._contentTypeTextTrailing&&(d._contentTypeTextTrailing=!0));const h=d.events,g=[],b={};let _,j,$=-1,_e=s,rt=0,nt=0;const st=[nt];for(;_e;){for(;e.get(++o)[1]!==_e;);c.push(o),_e._tokenizer||(_=a.sliceStream(_e),_e.next||_.push(null),j&&d.defineSkip(_e.start),_e._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=!0),d.write(_),_e._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=void 0)),j=_e,_e=_e.next}for(_e=s;++$<h.length;)h[$][0]==="exit"&&h[$-1][0]==="enter"&&h[$][1].type===h[$-1][1].type&&h[$][1].start.line!==h[$][1].end.line&&(nt=$+1,st.push(nt),_e._tokenizer=void 0,_e.previous=void 0,_e=_e.next);for(d.events=[],_e?(_e._tokenizer=void 0,_e.previous=void 0):st.pop(),$=st.length;$--;){const tt=h.slice(st[$],st[$+1]),et=c.pop();g.push([et,et+tt.length-1]),e.splice(et,2,tt)}for(g.reverse(),$=-1;++$<g.length;)b[rt+g[$][0]]=rt+g[$][1],rt+=g[$][1]-g[$][0]-1;return b}const content={resolve:resolveContent,tokenize:tokenizeContent},continuationConstruct={partial:!0,tokenize:tokenizeContinuation};function resolveContent(e){return subtokenize(e),e}function tokenizeContent(e,i){let s;return a;function a(h){return e.enter("content"),s=e.enter("chunkContent",{contentType:"content"}),o(h)}function o(h){return h===null?c(h):markdownLineEnding(h)?e.check(continuationConstruct,d,c)(h):(e.consume(h),o)}function c(h){return e.exit("chunkContent"),e.exit("content"),i(h)}function d(h){return e.consume(h),e.exit("chunkContent"),s.next=e.enter("chunkContent",{contentType:"content",previous:s}),s=s.next,o}}function tokenizeContinuation(e,i,s){const a=this;return o;function o(d){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),factorySpace(e,c,"linePrefix")}function c(d){if(d===null||markdownLineEnding(d))return s(d);const h=a.events[a.events.length-1];return!a.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?i(d):e.interrupt(a.parser.constructs.flow,s,i)(d)}}function factoryDestination(e,i,s,a,o,c,d,h,g){const b=g||Number.POSITIVE_INFINITY;let _=0;return j;function j(tt){return tt===60?(e.enter(a),e.enter(o),e.enter(c),e.consume(tt),e.exit(c),$):tt===null||tt===32||tt===41||asciiControl(tt)?s(tt):(e.enter(a),e.enter(d),e.enter(h),e.enter("chunkString",{contentType:"string"}),nt(tt))}function $(tt){return tt===62?(e.enter(c),e.consume(tt),e.exit(c),e.exit(o),e.exit(a),i):(e.enter(h),e.enter("chunkString",{contentType:"string"}),_e(tt))}function _e(tt){return tt===62?(e.exit("chunkString"),e.exit(h),$(tt)):tt===null||tt===60||markdownLineEnding(tt)?s(tt):(e.consume(tt),tt===92?rt:_e)}function rt(tt){return tt===60||tt===62||tt===92?(e.consume(tt),_e):_e(tt)}function nt(tt){return!_&&(tt===null||tt===41||markdownLineEndingOrSpace(tt))?(e.exit("chunkString"),e.exit(h),e.exit(d),e.exit(a),i(tt)):_<b&&tt===40?(e.consume(tt),_++,nt):tt===41?(e.consume(tt),_--,nt):tt===null||tt===32||tt===40||asciiControl(tt)?s(tt):(e.consume(tt),tt===92?st:nt)}function st(tt){return tt===40||tt===41||tt===92?(e.consume(tt),nt):nt(tt)}}function factoryLabel(e,i,s,a,o,c){const d=this;let h=0,g;return b;function b(_e){return e.enter(a),e.enter(o),e.consume(_e),e.exit(o),e.enter(c),_}function _(_e){return h>999||_e===null||_e===91||_e===93&&!g||_e===94&&!h&&"_hiddenFootnoteSupport"in d.parser.constructs?s(_e):_e===93?(e.exit(c),e.enter(o),e.consume(_e),e.exit(o),e.exit(a),i):markdownLineEnding(_e)?(e.enter("lineEnding"),e.consume(_e),e.exit("lineEnding"),_):(e.enter("chunkString",{contentType:"string"}),j(_e))}function j(_e){return _e===null||_e===91||_e===93||markdownLineEnding(_e)||h++>999?(e.exit("chunkString"),_(_e)):(e.consume(_e),g||(g=!markdownSpace(_e)),_e===92?$:j)}function $(_e){return _e===91||_e===92||_e===93?(e.consume(_e),h++,j):j(_e)}}function factoryTitle(e,i,s,a,o,c){let d;return h;function h($){return $===34||$===39||$===40?(e.enter(a),e.enter(o),e.consume($),e.exit(o),d=$===40?41:$,g):s($)}function g($){return $===d?(e.enter(o),e.consume($),e.exit(o),e.exit(a),i):(e.enter(c),b($))}function b($){return $===d?(e.exit(c),g(d)):$===null?s($):markdownLineEnding($)?(e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),factorySpace(e,b,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),_($))}function _($){return $===d||$===null||markdownLineEnding($)?(e.exit("chunkString"),b($)):(e.consume($),$===92?j:_)}function j($){return $===d||$===92?(e.consume($),_):_($)}}function factoryWhitespace(e,i){let s;return a;function a(o){return markdownLineEnding(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s=!0,a):markdownSpace(o)?factorySpace(e,a,s?"linePrefix":"lineSuffix")(o):i(o)}}const definition={name:"definition",tokenize:tokenizeDefinition},titleBefore={partial:!0,tokenize:tokenizeTitleBefore};function tokenizeDefinition(e,i,s){const a=this;let o;return c;function c(_e){return e.enter("definition"),d(_e)}function d(_e){return factoryLabel.call(a,e,h,s,"definitionLabel","definitionLabelMarker","definitionLabelString")(_e)}function h(_e){return o=normalizeIdentifier(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)),_e===58?(e.enter("definitionMarker"),e.consume(_e),e.exit("definitionMarker"),g):s(_e)}function g(_e){return markdownLineEndingOrSpace(_e)?factoryWhitespace(e,b)(_e):b(_e)}function b(_e){return factoryDestination(e,_,s,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(_e)}function _(_e){return e.attempt(titleBefore,j,j)(_e)}function j(_e){return markdownSpace(_e)?factorySpace(e,$,"whitespace")(_e):$(_e)}function $(_e){return _e===null||markdownLineEnding(_e)?(e.exit("definition"),a.parser.defined.push(o),i(_e)):s(_e)}}function tokenizeTitleBefore(e,i,s){return a;function a(h){return markdownLineEndingOrSpace(h)?factoryWhitespace(e,o)(h):s(h)}function o(h){return factoryTitle(e,c,s,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function c(h){return markdownSpace(h)?factorySpace(e,d,"whitespace")(h):d(h)}function d(h){return h===null||markdownLineEnding(h)?i(h):s(h)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(e,i,s){return a;function a(c){return e.enter("hardBreakEscape"),e.consume(c),o}function o(c){return markdownLineEnding(c)?(e.exit("hardBreakEscape"),i(c)):s(c)}}const headingAtx={name:"headingAtx",resolve:resolveHeadingAtx,tokenize:tokenizeHeadingAtx};function resolveHeadingAtx(e,i){let s=e.length-2,a=3,o,c;return e[a][1].type==="whitespace"&&(a+=2),s-2>a&&e[s][1].type==="whitespace"&&(s-=2),e[s][1].type==="atxHeadingSequence"&&(a===s-1||s-4>a&&e[s-2][1].type==="whitespace")&&(s-=a+1===s?2:4),s>a&&(o={type:"atxHeadingText",start:e[a][1].start,end:e[s][1].end},c={type:"chunkText",start:e[a][1].start,end:e[s][1].end,contentType:"text"},splice(e,a,s-a+1,[["enter",o,i],["enter",c,i],["exit",c,i],["exit",o,i]])),e}function tokenizeHeadingAtx(e,i,s){let a=0;return o;function o(_){return e.enter("atxHeading"),c(_)}function c(_){return e.enter("atxHeadingSequence"),d(_)}function d(_){return _===35&&a++<6?(e.consume(_),d):_===null||markdownLineEndingOrSpace(_)?(e.exit("atxHeadingSequence"),h(_)):s(_)}function h(_){return _===35?(e.enter("atxHeadingSequence"),g(_)):_===null||markdownLineEnding(_)?(e.exit("atxHeading"),i(_)):markdownSpace(_)?factorySpace(e,h,"whitespace")(_):(e.enter("atxHeadingText"),b(_))}function g(_){return _===35?(e.consume(_),g):(e.exit("atxHeadingSequence"),h(_))}function b(_){return _===null||_===35||markdownLineEndingOrSpace(_)?(e.exit("atxHeadingText"),h(_)):(e.consume(_),b)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={concrete:!0,name:"htmlFlow",resolveTo:resolveToHtmlFlow,tokenize:tokenizeHtmlFlow},blankLineBefore={partial:!0,tokenize:tokenizeBlankLineBefore},nonLazyContinuationStart={partial:!0,tokenize:tokenizeNonLazyContinuationStart};function resolveToHtmlFlow(e){let i=e.length;for(;i--&&!(e[i][0]==="enter"&&e[i][1].type==="htmlFlow"););return i>1&&e[i-2][1].type==="linePrefix"&&(e[i][1].start=e[i-2][1].start,e[i+1][1].start=e[i-2][1].start,e.splice(i-2,2)),e}function tokenizeHtmlFlow(e,i,s){const a=this;let o,c,d,h,g;return b;function b(dt){return _(dt)}function _(dt){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(dt),j}function j(dt){return dt===33?(e.consume(dt),$):dt===47?(e.consume(dt),c=!0,nt):dt===63?(e.consume(dt),o=3,a.interrupt?i:bt):asciiAlpha(dt)?(e.consume(dt),d=String.fromCharCode(dt),st):s(dt)}function $(dt){return dt===45?(e.consume(dt),o=2,_e):dt===91?(e.consume(dt),o=5,h=0,rt):asciiAlpha(dt)?(e.consume(dt),o=4,a.interrupt?i:bt):s(dt)}function _e(dt){return dt===45?(e.consume(dt),a.interrupt?i:bt):s(dt)}function rt(dt){const ct="CDATA[";return dt===ct.charCodeAt(h++)?(e.consume(dt),h===ct.length?a.interrupt?i:_t:rt):s(dt)}function nt(dt){return asciiAlpha(dt)?(e.consume(dt),d=String.fromCharCode(dt),st):s(dt)}function st(dt){if(dt===null||dt===47||dt===62||markdownLineEndingOrSpace(dt)){const ct=dt===47,mt=d.toLowerCase();return!ct&&!c&&htmlRawNames.includes(mt)?(o=1,a.interrupt?i(dt):_t(dt)):htmlBlockNames.includes(d.toLowerCase())?(o=6,ct?(e.consume(dt),tt):a.interrupt?i(dt):_t(dt)):(o=7,a.interrupt&&!a.parser.lazy[a.now().line]?s(dt):c?et(dt):it(dt))}return dt===45||asciiAlphanumeric(dt)?(e.consume(dt),d+=String.fromCharCode(dt),st):s(dt)}function tt(dt){return dt===62?(e.consume(dt),a.interrupt?i:_t):s(dt)}function et(dt){return markdownSpace(dt)?(e.consume(dt),et):Et(dt)}function it(dt){return dt===47?(e.consume(dt),Et):dt===58||dt===95||asciiAlpha(dt)?(e.consume(dt),pt):markdownSpace(dt)?(e.consume(dt),it):Et(dt)}function pt(dt){return dt===45||dt===46||dt===58||dt===95||asciiAlphanumeric(dt)?(e.consume(dt),pt):ot(dt)}function ot(dt){return dt===61?(e.consume(dt),at):markdownSpace(dt)?(e.consume(dt),ot):it(dt)}function at(dt){return dt===null||dt===60||dt===61||dt===62||dt===96?s(dt):dt===34||dt===39?(e.consume(dt),g=dt,xt):markdownSpace(dt)?(e.consume(dt),at):gt(dt)}function xt(dt){return dt===g?(e.consume(dt),g=null,ut):dt===null||markdownLineEnding(dt)?s(dt):(e.consume(dt),xt)}function gt(dt){return dt===null||dt===34||dt===39||dt===47||dt===60||dt===61||dt===62||dt===96||markdownLineEndingOrSpace(dt)?ot(dt):(e.consume(dt),gt)}function ut(dt){return dt===47||dt===62||markdownSpace(dt)?it(dt):s(dt)}function Et(dt){return dt===62?(e.consume(dt),vt):s(dt)}function vt(dt){return dt===null||markdownLineEnding(dt)?_t(dt):markdownSpace(dt)?(e.consume(dt),vt):s(dt)}function _t(dt){return dt===45&&o===2?(e.consume(dt),Vt):dt===60&&o===1?(e.consume(dt),Ht):dt===62&&o===4?(e.consume(dt),Qt):dt===63&&o===3?(e.consume(dt),bt):dt===93&&o===5?(e.consume(dt),Nt):markdownLineEnding(dt)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(blankLineBefore,nn,jt)(dt)):dt===null||markdownLineEnding(dt)?(e.exit("htmlFlowData"),jt(dt)):(e.consume(dt),_t)}function jt(dt){return e.check(nonLazyContinuationStart,kt,nn)(dt)}function kt(dt){return e.enter("lineEnding"),e.consume(dt),e.exit("lineEnding"),It}function It(dt){return dt===null||markdownLineEnding(dt)?jt(dt):(e.enter("htmlFlowData"),_t(dt))}function Vt(dt){return dt===45?(e.consume(dt),bt):_t(dt)}function Ht(dt){return dt===47?(e.consume(dt),d="",St):_t(dt)}function St(dt){if(dt===62){const ct=d.toLowerCase();return htmlRawNames.includes(ct)?(e.consume(dt),Qt):_t(dt)}return asciiAlpha(dt)&&d.length<8?(e.consume(dt),d+=String.fromCharCode(dt),St):_t(dt)}function Nt(dt){return dt===93?(e.consume(dt),bt):_t(dt)}function bt(dt){return dt===62?(e.consume(dt),Qt):dt===45&&o===2?(e.consume(dt),bt):_t(dt)}function Qt(dt){return dt===null||markdownLineEnding(dt)?(e.exit("htmlFlowData"),nn(dt)):(e.consume(dt),Qt)}function nn(dt){return e.exit("htmlFlow"),i(dt)}}function tokenizeNonLazyContinuationStart(e,i,s){const a=this;return o;function o(d){return markdownLineEnding(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):s(d)}function c(d){return a.parser.lazy[a.now().line]?s(d):i(d)}}function tokenizeBlankLineBefore(e,i,s){return a;function a(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(blankLine,i,s)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(e,i,s){const a=this;let o,c,d;return h;function h(bt){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(bt),g}function g(bt){return bt===33?(e.consume(bt),b):bt===47?(e.consume(bt),ot):bt===63?(e.consume(bt),it):asciiAlpha(bt)?(e.consume(bt),gt):s(bt)}function b(bt){return bt===45?(e.consume(bt),_):bt===91?(e.consume(bt),c=0,rt):asciiAlpha(bt)?(e.consume(bt),et):s(bt)}function _(bt){return bt===45?(e.consume(bt),_e):s(bt)}function j(bt){return bt===null?s(bt):bt===45?(e.consume(bt),$):markdownLineEnding(bt)?(d=j,Ht(bt)):(e.consume(bt),j)}function $(bt){return bt===45?(e.consume(bt),_e):j(bt)}function _e(bt){return bt===62?Vt(bt):bt===45?$(bt):j(bt)}function rt(bt){const Qt="CDATA[";return bt===Qt.charCodeAt(c++)?(e.consume(bt),c===Qt.length?nt:rt):s(bt)}function nt(bt){return bt===null?s(bt):bt===93?(e.consume(bt),st):markdownLineEnding(bt)?(d=nt,Ht(bt)):(e.consume(bt),nt)}function st(bt){return bt===93?(e.consume(bt),tt):nt(bt)}function tt(bt){return bt===62?Vt(bt):bt===93?(e.consume(bt),tt):nt(bt)}function et(bt){return bt===null||bt===62?Vt(bt):markdownLineEnding(bt)?(d=et,Ht(bt)):(e.consume(bt),et)}function it(bt){return bt===null?s(bt):bt===63?(e.consume(bt),pt):markdownLineEnding(bt)?(d=it,Ht(bt)):(e.consume(bt),it)}function pt(bt){return bt===62?Vt(bt):it(bt)}function ot(bt){return asciiAlpha(bt)?(e.consume(bt),at):s(bt)}function at(bt){return bt===45||asciiAlphanumeric(bt)?(e.consume(bt),at):xt(bt)}function xt(bt){return markdownLineEnding(bt)?(d=xt,Ht(bt)):markdownSpace(bt)?(e.consume(bt),xt):Vt(bt)}function gt(bt){return bt===45||asciiAlphanumeric(bt)?(e.consume(bt),gt):bt===47||bt===62||markdownLineEndingOrSpace(bt)?ut(bt):s(bt)}function ut(bt){return bt===47?(e.consume(bt),Vt):bt===58||bt===95||asciiAlpha(bt)?(e.consume(bt),Et):markdownLineEnding(bt)?(d=ut,Ht(bt)):markdownSpace(bt)?(e.consume(bt),ut):Vt(bt)}function Et(bt){return bt===45||bt===46||bt===58||bt===95||asciiAlphanumeric(bt)?(e.consume(bt),Et):vt(bt)}function vt(bt){return bt===61?(e.consume(bt),_t):markdownLineEnding(bt)?(d=vt,Ht(bt)):markdownSpace(bt)?(e.consume(bt),vt):ut(bt)}function _t(bt){return bt===null||bt===60||bt===61||bt===62||bt===96?s(bt):bt===34||bt===39?(e.consume(bt),o=bt,jt):markdownLineEnding(bt)?(d=_t,Ht(bt)):markdownSpace(bt)?(e.consume(bt),_t):(e.consume(bt),kt)}function jt(bt){return bt===o?(e.consume(bt),o=void 0,It):bt===null?s(bt):markdownLineEnding(bt)?(d=jt,Ht(bt)):(e.consume(bt),jt)}function kt(bt){return bt===null||bt===34||bt===39||bt===60||bt===61||bt===96?s(bt):bt===47||bt===62||markdownLineEndingOrSpace(bt)?ut(bt):(e.consume(bt),kt)}function It(bt){return bt===47||bt===62||markdownLineEndingOrSpace(bt)?ut(bt):s(bt)}function Vt(bt){return bt===62?(e.consume(bt),e.exit("htmlTextData"),e.exit("htmlText"),i):s(bt)}function Ht(bt){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(bt),e.exit("lineEnding"),St}function St(bt){return markdownSpace(bt)?factorySpace(e,Nt,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(bt):Nt(bt)}function Nt(bt){return e.enter("htmlTextData"),d(bt)}}const labelEnd={name:"labelEnd",resolveAll:resolveAllLabelEnd,resolveTo:resolveToLabelEnd,tokenize:tokenizeLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(e){let i=-1;const s=[];for(;++i<e.length;){const a=e[i][1];if(s.push(e[i]),a.type==="labelImage"||a.type==="labelLink"||a.type==="labelEnd"){const o=a.type==="labelImage"?4:2;a.type="data",i+=o}}return e.length!==s.length&&splice(e,0,e.length,s),e}function resolveToLabelEnd(e,i){let s=e.length,a=0,o,c,d,h;for(;s--;)if(o=e[s][1],c){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[s][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(d){if(e[s][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(c=s,o.type!=="labelLink")){a=2;break}}else o.type==="labelEnd"&&(d=s);const g={type:e[c][1].type==="labelLink"?"link":"image",start:{...e[c][1].start},end:{...e[e.length-1][1].end}},b={type:"label",start:{...e[c][1].start},end:{...e[d][1].end}},_={type:"labelText",start:{...e[c+a+2][1].end},end:{...e[d-2][1].start}};return h=[["enter",g,i],["enter",b,i]],h=push(h,e.slice(c+1,c+a+3)),h=push(h,[["enter",_,i]]),h=push(h,resolveAll(i.parser.constructs.insideSpan.null,e.slice(c+a+4,d-3),i)),h=push(h,[["exit",_,i],e[d-2],e[d-1],["exit",b,i]]),h=push(h,e.slice(d+1)),h=push(h,[["exit",g,i]]),splice(e,c,e.length,h),e}function tokenizeLabelEnd(e,i,s){const a=this;let o=a.events.length,c,d;for(;o--;)if((a.events[o][1].type==="labelImage"||a.events[o][1].type==="labelLink")&&!a.events[o][1]._balanced){c=a.events[o][1];break}return h;function h($){return c?c._inactive?j($):(d=a.parser.defined.includes(normalizeIdentifier(a.sliceSerialize({start:c.end,end:a.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume($),e.exit("labelMarker"),e.exit("labelEnd"),g):s($)}function g($){return $===40?e.attempt(resourceConstruct,_,d?_:j)($):$===91?e.attempt(referenceFullConstruct,_,d?b:j)($):d?_($):j($)}function b($){return e.attempt(referenceCollapsedConstruct,_,j)($)}function _($){return i($)}function j($){return c._balanced=!0,s($)}}function tokenizeResource(e,i,s){return a;function a(j){return e.enter("resource"),e.enter("resourceMarker"),e.consume(j),e.exit("resourceMarker"),o}function o(j){return markdownLineEndingOrSpace(j)?factoryWhitespace(e,c)(j):c(j)}function c(j){return j===41?_(j):factoryDestination(e,d,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(j)}function d(j){return markdownLineEndingOrSpace(j)?factoryWhitespace(e,g)(j):_(j)}function h(j){return s(j)}function g(j){return j===34||j===39||j===40?factoryTitle(e,b,s,"resourceTitle","resourceTitleMarker","resourceTitleString")(j):_(j)}function b(j){return markdownLineEndingOrSpace(j)?factoryWhitespace(e,_)(j):_(j)}function _(j){return j===41?(e.enter("resourceMarker"),e.consume(j),e.exit("resourceMarker"),e.exit("resource"),i):s(j)}}function tokenizeReferenceFull(e,i,s){const a=this;return o;function o(h){return factoryLabel.call(a,e,c,d,"reference","referenceMarker","referenceString")(h)}function c(h){return a.parser.defined.includes(normalizeIdentifier(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)))?i(h):s(h)}function d(h){return s(h)}}function tokenizeReferenceCollapsed(e,i,s){return a;function a(c){return e.enter("reference"),e.enter("referenceMarker"),e.consume(c),e.exit("referenceMarker"),o}function o(c){return c===93?(e.enter("referenceMarker"),e.consume(c),e.exit("referenceMarker"),e.exit("reference"),i):s(c)}}const labelStartImage={name:"labelStartImage",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartImage};function tokenizeLabelStartImage(e,i,s){const a=this;return o;function o(h){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(h),e.exit("labelImageMarker"),c}function c(h){return h===91?(e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelImage"),d):s(h)}function d(h){return h===94&&"_hiddenFootnoteSupport"in a.parser.constructs?s(h):i(h)}}const labelStartLink={name:"labelStartLink",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartLink};function tokenizeLabelStartLink(e,i,s){const a=this;return o;function o(d){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelLink"),c}function c(d){return d===94&&"_hiddenFootnoteSupport"in a.parser.constructs?s(d):i(d)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(e,i){return s;function s(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),factorySpace(e,i,"linePrefix")}}const thematicBreak$1={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(e,i,s){let a=0,o;return c;function c(b){return e.enter("thematicBreak"),d(b)}function d(b){return o=b,h(b)}function h(b){return b===o?(e.enter("thematicBreakSequence"),g(b)):a>=3&&(b===null||markdownLineEnding(b))?(e.exit("thematicBreak"),i(b)):s(b)}function g(b){return b===o?(e.consume(b),a++,g):(e.exit("thematicBreakSequence"),markdownSpace(b)?factorySpace(e,h,"whitespace")(b):h(b))}}const list$1={continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd,name:"list",tokenize:tokenizeListStart},listItemPrefixWhitespaceConstruct={partial:!0,tokenize:tokenizeListItemPrefixWhitespace},indentConstruct={partial:!0,tokenize:tokenizeIndent};function tokenizeListStart(e,i,s){const a=this,o=a.events[a.events.length-1];let c=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,d=0;return h;function h(_e){const rt=a.containerState.type||(_e===42||_e===43||_e===45?"listUnordered":"listOrdered");if(rt==="listUnordered"?!a.containerState.marker||_e===a.containerState.marker:asciiDigit(_e)){if(a.containerState.type||(a.containerState.type=rt,e.enter(rt,{_container:!0})),rt==="listUnordered")return e.enter("listItemPrefix"),_e===42||_e===45?e.check(thematicBreak$1,s,b)(_e):b(_e);if(!a.interrupt||_e===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),g(_e)}return s(_e)}function g(_e){return asciiDigit(_e)&&++d<10?(e.consume(_e),g):(!a.interrupt||d<2)&&(a.containerState.marker?_e===a.containerState.marker:_e===41||_e===46)?(e.exit("listItemValue"),b(_e)):s(_e)}function b(_e){return e.enter("listItemMarker"),e.consume(_e),e.exit("listItemMarker"),a.containerState.marker=a.containerState.marker||_e,e.check(blankLine,a.interrupt?s:_,e.attempt(listItemPrefixWhitespaceConstruct,$,j))}function _(_e){return a.containerState.initialBlankLine=!0,c++,$(_e)}function j(_e){return markdownSpace(_e)?(e.enter("listItemPrefixWhitespace"),e.consume(_e),e.exit("listItemPrefixWhitespace"),$):s(_e)}function $(_e){return a.containerState.size=c+a.sliceSerialize(e.exit("listItemPrefix"),!0).length,i(_e)}}function tokenizeListContinuation(e,i,s){const a=this;return a.containerState._closeFlow=void 0,e.check(blankLine,o,c);function o(h){return a.containerState.furtherBlankLines=a.containerState.furtherBlankLines||a.containerState.initialBlankLine,factorySpace(e,i,"listItemIndent",a.containerState.size+1)(h)}function c(h){return a.containerState.furtherBlankLines||!markdownSpace(h)?(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,d(h)):(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,e.attempt(indentConstruct,i,d)(h))}function d(h){return a.containerState._closeFlow=!0,a.interrupt=void 0,factorySpace(e,e.attempt(list$1,i,s),"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function tokenizeIndent(e,i,s){const a=this;return factorySpace(e,o,"listItemIndent",a.containerState.size+1);function o(c){const d=a.events[a.events.length-1];return d&&d[1].type==="listItemIndent"&&d[2].sliceSerialize(d[1],!0).length===a.containerState.size?i(c):s(c)}}function tokenizeListEnd(e){e.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(e,i,s){const a=this;return factorySpace(e,o,"listItemPrefixWhitespace",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function o(c){const d=a.events[a.events.length-1];return!markdownSpace(c)&&d&&d[1].type==="listItemPrefixWhitespace"?i(c):s(c)}}const setextUnderline={name:"setextUnderline",resolveTo:resolveToSetextUnderline,tokenize:tokenizeSetextUnderline};function resolveToSetextUnderline(e,i){let s=e.length,a,o,c;for(;s--;)if(e[s][0]==="enter"){if(e[s][1].type==="content"){a=s;break}e[s][1].type==="paragraph"&&(o=s)}else e[s][1].type==="content"&&e.splice(s,1),!c&&e[s][1].type==="definition"&&(c=s);const d={type:"setextHeading",start:{...e[a][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",c?(e.splice(o,0,["enter",d,i]),e.splice(c+1,0,["exit",e[a][1],i]),e[a][1].end={...e[c][1].end}):e[a][1]=d,e.push(["exit",d,i]),e}function tokenizeSetextUnderline(e,i,s){const a=this;let o;return c;function c(b){let _=a.events.length,j;for(;_--;)if(a.events[_][1].type!=="lineEnding"&&a.events[_][1].type!=="linePrefix"&&a.events[_][1].type!=="content"){j=a.events[_][1].type==="paragraph";break}return!a.parser.lazy[a.now().line]&&(a.interrupt||j)?(e.enter("setextHeadingLine"),o=b,d(b)):s(b)}function d(b){return e.enter("setextHeadingLineSequence"),h(b)}function h(b){return b===o?(e.consume(b),h):(e.exit("setextHeadingLineSequence"),markdownSpace(b)?factorySpace(e,g,"lineSuffix")(b):g(b))}function g(b){return b===null||markdownLineEnding(b)?(e.exit("setextHeadingLine"),i(b)):s(b)}}const flow$1={tokenize:initializeFlow};function initializeFlow(e){const i=this,s=e.attempt(blankLine,a,e.attempt(this.parser.constructs.flowInitial,o,factorySpace(e,e.attempt(this.parser.constructs.flow,o,e.attempt(content,o)),"linePrefix")));return s;function a(c){if(c===null){e.consume(c);return}return e.enter("lineEndingBlank"),e.consume(c),e.exit("lineEndingBlank"),i.currentConstruct=void 0,s}function o(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),i.currentConstruct=void 0,s}}const resolver={resolveAll:createResolver()},string$1=initializeFactory("string"),text$2=initializeFactory("text");function initializeFactory(e){return{resolveAll:createResolver(e==="text"?resolveAllLineSuffixes:void 0),tokenize:i};function i(s){const a=this,o=this.parser.constructs[e],c=s.attempt(o,d,h);return d;function d(_){return b(_)?c(_):h(_)}function h(_){if(_===null){s.consume(_);return}return s.enter("data"),s.consume(_),g}function g(_){return b(_)?(s.exit("data"),c(_)):(s.consume(_),g)}function b(_){if(_===null)return!0;const j=o[_];let $=-1;if(j)for(;++$<j.length;){const _e=j[$];if(!_e.previous||_e.previous.call(a,a.previous))return!0}return!1}}}function createResolver(e){return i;function i(s,a){let o=-1,c;for(;++o<=s.length;)c===void 0?s[o]&&s[o][1].type==="data"&&(c=o,o++):(!s[o]||s[o][1].type!=="data")&&(o!==c+2&&(s[c][1].end=s[o-1][1].end,s.splice(c+2,o-c-2),o=c+2),c=void 0);return e?e(s,a):s}}function resolveAllLineSuffixes(e,i){let s=0;for(;++s<=e.length;)if((s===e.length||e[s][1].type==="lineEnding")&&e[s-1][1].type==="data"){const a=e[s-1][1],o=i.sliceStream(a);let c=o.length,d=-1,h=0,g;for(;c--;){const b=o[c];if(typeof b=="string"){for(d=b.length;b.charCodeAt(d-1)===32;)h++,d--;if(d)break;d=-1}else if(b===-2)g=!0,h++;else if(b!==-1){c++;break}}if(i._contentTypeTextTrailing&&s===e.length&&(h=0),h){const b={type:s===e.length||g||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:c?d:a.start._bufferIndex+d,_index:a.start._index+c,line:a.end.line,column:a.end.column-h,offset:a.end.offset-h},end:{...a.end}};a.end={...b.start},a.start.offset===a.end.offset?Object.assign(a,b):(e.splice(s,0,["enter",b,i],["exit",b,i]),s+=2)}s++}return e}const document$1={42:list$1,43:list$1,45:list$1,48:list$1,49:list$1,50:list$1,51:list$1,52:list$1,53:list$1,54:list$1,55:list$1,56:list$1,57:list$1,62:blockQuote},contentInitial={91:definition},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$1,45:[setextUnderline,thematicBreak$1],60:htmlFlow,61:setextUnderline,95:thematicBreak$1,96:codeFenced,126:codeFenced},string={38:characterReference,92:characterEscape},text$1={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string,text:text$1},Symbol.toStringTag,{value:"Module"}));function createTokenizer(e,i,s){let a={_bufferIndex:-1,_index:0,line:s&&s.line||1,column:s&&s.column||1,offset:s&&s.offset||0};const o={},c=[];let d=[],h=[];const g={attempt:xt(ot),check:xt(at),consume:et,enter:it,exit:pt,interrupt:xt(at,{interrupt:!0})},b={code:null,containerState:{},defineSkip:nt,events:[],now:rt,parser:e,previous:null,sliceSerialize:$,sliceStream:_e,write:j};let _=i.tokenize.call(b,g);return i.resolveAll&&c.push(i),b;function j(vt){return d=push(d,vt),st(),d[d.length-1]!==null?[]:(gt(i,0),b.events=resolveAll(c,b.events,b),b.events)}function $(vt,_t){return serializeChunks(_e(vt),_t)}function _e(vt){return sliceChunks(d,vt)}function rt(){const{_bufferIndex:vt,_index:_t,line:jt,column:kt,offset:It}=a;return{_bufferIndex:vt,_index:_t,line:jt,column:kt,offset:It}}function nt(vt){o[vt.line]=vt.column,Et()}function st(){let vt;for(;a._index<d.length;){const _t=d[a._index];if(typeof _t=="string")for(vt=a._index,a._bufferIndex<0&&(a._bufferIndex=0);a._index===vt&&a._bufferIndex<_t.length;)tt(_t.charCodeAt(a._bufferIndex));else tt(_t)}}function tt(vt){_=_(vt)}function et(vt){markdownLineEnding(vt)?(a.line++,a.column=1,a.offset+=vt===-3?2:1,Et()):vt!==-1&&(a.column++,a.offset++),a._bufferIndex<0?a._index++:(a._bufferIndex++,a._bufferIndex===d[a._index].length&&(a._bufferIndex=-1,a._index++)),b.previous=vt}function it(vt,_t){const jt=_t||{};return jt.type=vt,jt.start=rt(),b.events.push(["enter",jt,b]),h.push(jt),jt}function pt(vt){const _t=h.pop();return _t.end=rt(),b.events.push(["exit",_t,b]),_t}function ot(vt,_t){gt(vt,_t.from)}function at(vt,_t){_t.restore()}function xt(vt,_t){return jt;function jt(kt,It,Vt){let Ht,St,Nt,bt;return Array.isArray(kt)?nn(kt):"tokenize"in kt?nn([kt]):Qt(kt);function Qt(ht){return yt;function yt(wt){const Ct=wt!==null&&ht[wt],Rt=wt!==null&&ht.null,Mt=[...Array.isArray(Ct)?Ct:Ct?[Ct]:[],...Array.isArray(Rt)?Rt:Rt?[Rt]:[]];return nn(Mt)(wt)}}function nn(ht){return Ht=ht,St=0,ht.length===0?Vt:dt(ht[St])}function dt(ht){return yt;function yt(wt){return bt=ut(),Nt=ht,ht.partial||(b.currentConstruct=ht),ht.name&&b.parser.constructs.disable.null.includes(ht.name)?mt():ht.tokenize.call(_t?Object.assign(Object.create(b),_t):b,g,ct,mt)(wt)}}function ct(ht){return vt(Nt,bt),It}function mt(ht){return bt.restore(),++St<Ht.length?dt(Ht[St]):Vt}}}function gt(vt,_t){vt.resolveAll&&!c.includes(vt)&&c.push(vt),vt.resolve&&splice(b.events,_t,b.events.length-_t,vt.resolve(b.events.slice(_t),b)),vt.resolveTo&&(b.events=vt.resolveTo(b.events,b))}function ut(){const vt=rt(),_t=b.previous,jt=b.currentConstruct,kt=b.events.length,It=Array.from(h);return{from:kt,restore:Vt};function Vt(){a=vt,b.previous=_t,b.currentConstruct=jt,b.events.length=kt,h=It,Et()}}function Et(){a.line in o&&a.column<2&&(a.column=o[a.line],a.offset+=o[a.line]-1)}}function sliceChunks(e,i){const s=i.start._index,a=i.start._bufferIndex,o=i.end._index,c=i.end._bufferIndex;let d;if(s===o)d=[e[s].slice(a,c)];else{if(d=e.slice(s,o),a>-1){const h=d[0];typeof h=="string"?d[0]=h.slice(a):d.shift()}c>0&&d.push(e[o].slice(0,c))}return d}function serializeChunks(e,i){let s=-1;const a=[];let o;for(;++s<e.length;){const c=e[s];let d;if(typeof c=="string")d=c;else switch(c){case-5:{d="\r";break}case-4:{d=`
`;break}case-3:{d=`\r
`;break}case-2:{d=i?" ":"	";break}case-1:{if(!i&&o)continue;d=" ";break}default:d=String.fromCharCode(c)}o=c===-2,a.push(d)}return a.join("")}function parse(e){const a={constructs:combineExtensions([defaultConstructs,...(e||{}).extensions||[]]),content:o(content$1),defined:[],document:o(document$2),flow:o(flow$1),lazy:{},string:o(string$1),text:o(text$2)};return a;function o(c){return d;function d(h){return createTokenizer(a,c,h)}}}function postprocess(e){for(;!subtokenize(e););return e}const search=/[\0\t\n\r]/g;function preprocess(){let e=1,i="",s=!0,a;return o;function o(c,d,h){const g=[];let b,_,j,$,_e;for(c=i+(typeof c=="string"?c.toString():new TextDecoder(d||void 0).decode(c)),j=0,i="",s&&(c.charCodeAt(0)===65279&&j++,s=void 0);j<c.length;){if(search.lastIndex=j,b=search.exec(c),$=b&&b.index!==void 0?b.index:c.length,_e=c.charCodeAt($),!b){i=c.slice(j);break}if(_e===10&&j===$&&a)g.push(-3),a=void 0;else switch(a&&(g.push(-5),a=void 0),j<$&&(g.push(c.slice(j,$)),e+=$-j),_e){case 0:{g.push(65533),e++;break}case 9:{for(_=Math.ceil(e/4)*4,g.push(-2);e++<_;)g.push(-1);break}case 10:{g.push(-4),e=1;break}default:a=!0,e=1}j=$+1}return h&&(a&&g.push(-5),i&&g.push(i),g.push(null)),g}}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(e){return e.replace(characterEscapeOrReference,decode)}function decode(e,i,s){if(i)return i;if(s.charCodeAt(0)===35){const o=s.charCodeAt(1),c=o===120||o===88;return decodeNumericCharacterReference(s.slice(c?2:1),c?16:10)}return decodeNamedCharacterReference(s)||e}const own$2={}.hasOwnProperty;function fromMarkdown(e,i,s){return typeof i!="string"&&(s=i,i=void 0),compiler(s)(postprocess(parse(s).document().write(preprocess()(e,i,!0))))}function compiler(e){const i={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:c(Rn),autolinkProtocol:ut,autolinkEmail:ut,atxHeading:c(tn),blockQuote:c(Rt),characterEscape:ut,characterReference:ut,codeFenced:c(Mt),codeFencedFenceInfo:d,codeFencedFenceMeta:d,codeIndented:c(Mt,d),codeText:c(Wt,d),codeTextData:ut,data:ut,codeFlowValue:ut,definition:c(Xt),definitionDestinationString:d,definitionLabelString:d,definitionTitleString:d,emphasis:c(Zt),hardBreakEscape:c(dn),hardBreakTrailing:c(dn),htmlFlow:c(rn,d),htmlFlowData:ut,htmlText:c(rn,d),htmlTextData:ut,image:c(vn),label:d,link:c(Rn),listItem:c(kn),listItemValue:$,listOrdered:c(pn,j),listUnordered:c(pn),paragraph:c(an),reference:dt,referenceString:d,resourceDestinationString:d,resourceTitleString:d,setextHeading:c(tn),strong:c(Gt),thematicBreak:c(sn)},exit:{atxHeading:g(),atxHeadingSequence:ot,autolink:g(),autolinkEmail:Ct,autolinkProtocol:wt,blockQuote:g(),characterEscapeValue:Et,characterReferenceMarkerHexadecimal:mt,characterReferenceMarkerNumeric:mt,characterReferenceValue:ht,characterReference:yt,codeFenced:g(st),codeFencedFence:nt,codeFencedFenceInfo:_e,codeFencedFenceMeta:rt,codeFlowValue:Et,codeIndented:g(tt),codeText:g(It),codeTextData:Et,data:Et,definition:g(),definitionDestinationString:pt,definitionLabelString:et,definitionTitleString:it,emphasis:g(),hardBreakEscape:g(_t),hardBreakTrailing:g(_t),htmlFlow:g(jt),htmlFlowData:Et,htmlText:g(kt),htmlTextData:Et,image:g(Ht),label:Nt,labelText:St,lineEnding:vt,link:g(Vt),listItem:g(),listOrdered:g(),listUnordered:g(),paragraph:g(),referenceString:ct,resourceDestinationString:bt,resourceTitleString:Qt,resource:nn,setextHeading:g(gt),setextHeadingLineSequence:xt,setextHeadingText:at,strong:g(),thematicBreak:g()}};configure(i,(e||{}).mdastExtensions||[]);const s={};return a;function a(Ft){let Yt={type:"root",children:[]};const fn={stack:[Yt],tokenStack:[],config:i,enter:h,exit:b,buffer:d,resume:_,data:s},bn=[];let wn=-1;for(;++wn<Ft.length;)if(Ft[wn][1].type==="listOrdered"||Ft[wn][1].type==="listUnordered")if(Ft[wn][0]==="enter")bn.push(wn);else{const jn=bn.pop();wn=o(Ft,jn,wn)}for(wn=-1;++wn<Ft.length;){const jn=i[Ft[wn][0]];own$2.call(jn,Ft[wn][1].type)&&jn[Ft[wn][1].type].call(Object.assign({sliceSerialize:Ft[wn][2].sliceSerialize},fn),Ft[wn][1])}if(fn.tokenStack.length>0){const jn=fn.tokenStack[fn.tokenStack.length-1];(jn[1]||defaultOnError).call(fn,void 0,jn[0])}for(Yt.position={start:point(Ft.length>0?Ft[0][1].start:{line:1,column:1,offset:0}),end:point(Ft.length>0?Ft[Ft.length-2][1].end:{line:1,column:1,offset:0})},wn=-1;++wn<i.transforms.length;)Yt=i.transforms[wn](Yt)||Yt;return Yt}function o(Ft,Yt,fn){let bn=Yt-1,wn=-1,jn=!1,Mn,Pn,Nn,en;for(;++bn<=fn;){const zt=Ft[bn];switch(zt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{zt[0]==="enter"?wn++:wn--,en=void 0;break}case"lineEndingBlank":{zt[0]==="enter"&&(Mn&&!en&&!wn&&!Nn&&(Nn=bn),en=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:en=void 0}if(!wn&&zt[0]==="enter"&&zt[1].type==="listItemPrefix"||wn===-1&&zt[0]==="exit"&&(zt[1].type==="listUnordered"||zt[1].type==="listOrdered")){if(Mn){let Ot=bn;for(Pn=void 0;Ot--;){const on=Ft[Ot];if(on[1].type==="lineEnding"||on[1].type==="lineEndingBlank"){if(on[0]==="exit")continue;Pn&&(Ft[Pn][1].type="lineEndingBlank",jn=!0),on[1].type="lineEnding",Pn=Ot}else if(!(on[1].type==="linePrefix"||on[1].type==="blockQuotePrefix"||on[1].type==="blockQuotePrefixWhitespace"||on[1].type==="blockQuoteMarker"||on[1].type==="listItemIndent"))break}Nn&&(!Pn||Nn<Pn)&&(Mn._spread=!0),Mn.end=Object.assign({},Pn?Ft[Pn][1].start:zt[1].end),Ft.splice(Pn||bn,0,["exit",Mn,zt[2]]),bn++,fn++}if(zt[1].type==="listItemPrefix"){const Ot={type:"listItem",_spread:!1,start:Object.assign({},zt[1].start),end:void 0};Mn=Ot,Ft.splice(bn,0,["enter",Ot,zt[2]]),bn++,fn++,Nn=void 0,en=!0}}}return Ft[Yt][1]._spread=jn,fn}function c(Ft,Yt){return fn;function fn(bn){h.call(this,Ft(bn),bn),Yt&&Yt.call(this,bn)}}function d(){this.stack.push({type:"fragment",children:[]})}function h(Ft,Yt,fn){this.stack[this.stack.length-1].children.push(Ft),this.stack.push(Ft),this.tokenStack.push([Yt,fn||void 0]),Ft.position={start:point(Yt.start),end:void 0}}function g(Ft){return Yt;function Yt(fn){Ft&&Ft.call(this,fn),b.call(this,fn)}}function b(Ft,Yt){const fn=this.stack.pop(),bn=this.tokenStack.pop();if(bn)bn[0].type!==Ft.type&&(Yt?Yt.call(this,Ft,bn[0]):(bn[1]||defaultOnError).call(this,Ft,bn[0]));else throw new Error("Cannot close `"+Ft.type+"` ("+stringifyPosition({start:Ft.start,end:Ft.end})+"): its not open");fn.position.end=point(Ft.end)}function _(){return toString$1(this.stack.pop())}function j(){this.data.expectingFirstListItemValue=!0}function $(Ft){if(this.data.expectingFirstListItemValue){const Yt=this.stack[this.stack.length-2];Yt.start=Number.parseInt(this.sliceSerialize(Ft),10),this.data.expectingFirstListItemValue=void 0}}function _e(){const Ft=this.resume(),Yt=this.stack[this.stack.length-1];Yt.lang=Ft}function rt(){const Ft=this.resume(),Yt=this.stack[this.stack.length-1];Yt.meta=Ft}function nt(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function st(){const Ft=this.resume(),Yt=this.stack[this.stack.length-1];Yt.value=Ft.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function tt(){const Ft=this.resume(),Yt=this.stack[this.stack.length-1];Yt.value=Ft.replace(/(\r?\n|\r)$/g,"")}function et(Ft){const Yt=this.resume(),fn=this.stack[this.stack.length-1];fn.label=Yt,fn.identifier=normalizeIdentifier(this.sliceSerialize(Ft)).toLowerCase()}function it(){const Ft=this.resume(),Yt=this.stack[this.stack.length-1];Yt.title=Ft}function pt(){const Ft=this.resume(),Yt=this.stack[this.stack.length-1];Yt.url=Ft}function ot(Ft){const Yt=this.stack[this.stack.length-1];if(!Yt.depth){const fn=this.sliceSerialize(Ft).length;Yt.depth=fn}}function at(){this.data.setextHeadingSlurpLineEnding=!0}function xt(Ft){const Yt=this.stack[this.stack.length-1];Yt.depth=this.sliceSerialize(Ft).codePointAt(0)===61?1:2}function gt(){this.data.setextHeadingSlurpLineEnding=void 0}function ut(Ft){const fn=this.stack[this.stack.length-1].children;let bn=fn[fn.length-1];(!bn||bn.type!=="text")&&(bn=qt(),bn.position={start:point(Ft.start),end:void 0},fn.push(bn)),this.stack.push(bn)}function Et(Ft){const Yt=this.stack.pop();Yt.value+=this.sliceSerialize(Ft),Yt.position.end=point(Ft.end)}function vt(Ft){const Yt=this.stack[this.stack.length-1];if(this.data.atHardBreak){const fn=Yt.children[Yt.children.length-1];fn.position.end=point(Ft.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&i.canContainEols.includes(Yt.type)&&(ut.call(this,Ft),Et.call(this,Ft))}function _t(){this.data.atHardBreak=!0}function jt(){const Ft=this.resume(),Yt=this.stack[this.stack.length-1];Yt.value=Ft}function kt(){const Ft=this.resume(),Yt=this.stack[this.stack.length-1];Yt.value=Ft}function It(){const Ft=this.resume(),Yt=this.stack[this.stack.length-1];Yt.value=Ft}function Vt(){const Ft=this.stack[this.stack.length-1];if(this.data.inReference){const Yt=this.data.referenceType||"shortcut";Ft.type+="Reference",Ft.referenceType=Yt,delete Ft.url,delete Ft.title}else delete Ft.identifier,delete Ft.label;this.data.referenceType=void 0}function Ht(){const Ft=this.stack[this.stack.length-1];if(this.data.inReference){const Yt=this.data.referenceType||"shortcut";Ft.type+="Reference",Ft.referenceType=Yt,delete Ft.url,delete Ft.title}else delete Ft.identifier,delete Ft.label;this.data.referenceType=void 0}function St(Ft){const Yt=this.sliceSerialize(Ft),fn=this.stack[this.stack.length-2];fn.label=decodeString(Yt),fn.identifier=normalizeIdentifier(Yt).toLowerCase()}function Nt(){const Ft=this.stack[this.stack.length-1],Yt=this.resume(),fn=this.stack[this.stack.length-1];if(this.data.inReference=!0,fn.type==="link"){const bn=Ft.children;fn.children=bn}else fn.alt=Yt}function bt(){const Ft=this.resume(),Yt=this.stack[this.stack.length-1];Yt.url=Ft}function Qt(){const Ft=this.resume(),Yt=this.stack[this.stack.length-1];Yt.title=Ft}function nn(){this.data.inReference=void 0}function dt(){this.data.referenceType="collapsed"}function ct(Ft){const Yt=this.resume(),fn=this.stack[this.stack.length-1];fn.label=Yt,fn.identifier=normalizeIdentifier(this.sliceSerialize(Ft)).toLowerCase(),this.data.referenceType="full"}function mt(Ft){this.data.characterReferenceType=Ft.type}function ht(Ft){const Yt=this.sliceSerialize(Ft),fn=this.data.characterReferenceType;let bn;fn?(bn=decodeNumericCharacterReference(Yt,fn==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):bn=decodeNamedCharacterReference(Yt);const wn=this.stack[this.stack.length-1];wn.value+=bn}function yt(Ft){const Yt=this.stack.pop();Yt.position.end=point(Ft.end)}function wt(Ft){Et.call(this,Ft);const Yt=this.stack[this.stack.length-1];Yt.url=this.sliceSerialize(Ft)}function Ct(Ft){Et.call(this,Ft);const Yt=this.stack[this.stack.length-1];Yt.url="mailto:"+this.sliceSerialize(Ft)}function Rt(){return{type:"blockquote",children:[]}}function Mt(){return{type:"code",lang:null,meta:null,value:""}}function Wt(){return{type:"inlineCode",value:""}}function Xt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Zt(){return{type:"emphasis",children:[]}}function tn(){return{type:"heading",depth:0,children:[]}}function dn(){return{type:"break"}}function rn(){return{type:"html",value:""}}function vn(){return{type:"image",title:null,url:"",alt:null}}function Rn(){return{type:"link",title:null,url:"",children:[]}}function pn(Ft){return{type:"list",ordered:Ft.type==="listOrdered",start:null,spread:Ft._spread,children:[]}}function kn(Ft){return{type:"listItem",spread:Ft._spread,checked:null,children:[]}}function an(){return{type:"paragraph",children:[]}}function Gt(){return{type:"strong",children:[]}}function qt(){return{type:"text",value:""}}function sn(){return{type:"thematicBreak"}}}function point(e){return{line:e.line,column:e.column,offset:e.offset}}function configure(e,i){let s=-1;for(;++s<i.length;){const a=i[s];Array.isArray(a)?configure(e,a):extension(e,a)}}function extension(e,i){let s;for(s in i)if(own$2.call(i,s))switch(s){case"canContainEols":{const a=i[s];a&&e[s].push(...a);break}case"transforms":{const a=i[s];a&&e[s].push(...a);break}case"enter":case"exit":{const a=i[s];a&&Object.assign(e[s],a);break}}}function defaultOnError(e,i){throw e?new Error("Cannot close `"+e.type+"` ("+stringifyPosition({start:e.start,end:e.end})+"): a different token (`"+i.type+"`, "+stringifyPosition({start:i.start,end:i.end})+") is open"):new Error("Cannot close document, a token (`"+i.type+"`, "+stringifyPosition({start:i.start,end:i.end})+") is still open")}function remarkParse(e){const i=this;i.parser=s;function s(a){return fromMarkdown(a,{...i.data("settings"),...e,extensions:i.data("micromarkExtensions")||[],mdastExtensions:i.data("fromMarkdownExtensions")||[]})}}function blockquote(e,i){const s={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(i),!0)};return e.patch(i,s),e.applyData(i,s)}function hardBreak(e,i){const s={type:"element",tagName:"br",properties:{},children:[]};return e.patch(i,s),[e.applyData(i,s),{type:"text",value:`
`}]}function code(e,i){const s=i.value?i.value+`
`:"",a={};i.lang&&(a.className=["language-"+i.lang]);let o={type:"element",tagName:"code",properties:a,children:[{type:"text",value:s}]};return i.meta&&(o.data={meta:i.meta}),e.patch(i,o),o=e.applyData(i,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(i,o),o}function strikethrough(e,i){const s={type:"element",tagName:"del",properties:{},children:e.all(i)};return e.patch(i,s),e.applyData(i,s)}function emphasis(e,i){const s={type:"element",tagName:"em",properties:{},children:e.all(i)};return e.patch(i,s),e.applyData(i,s)}function footnoteReference(e,i){const s=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",a=String(i.identifier).toUpperCase(),o=normalizeUri(a.toLowerCase()),c=e.footnoteOrder.indexOf(a);let d,h=e.footnoteCounts.get(a);h===void 0?(h=0,e.footnoteOrder.push(a),d=e.footnoteOrder.length):d=c+1,h+=1,e.footnoteCounts.set(a,h);const g={type:"element",tagName:"a",properties:{href:"#"+s+"fn-"+o,id:s+"fnref-"+o+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(d)}]};e.patch(i,g);const b={type:"element",tagName:"sup",properties:{},children:[g]};return e.patch(i,b),e.applyData(i,b)}function heading(e,i){const s={type:"element",tagName:"h"+i.depth,properties:{},children:e.all(i)};return e.patch(i,s),e.applyData(i,s)}function html(e,i){if(e.options.allowDangerousHtml){const s={type:"raw",value:i.value};return e.patch(i,s),e.applyData(i,s)}}function revert(e,i){const s=i.referenceType;let a="]";if(s==="collapsed"?a+="[]":s==="full"&&(a+="["+(i.label||i.identifier)+"]"),i.type==="imageReference")return[{type:"text",value:"!["+i.alt+a}];const o=e.all(i),c=o[0];c&&c.type==="text"?c.value="["+c.value:o.unshift({type:"text",value:"["});const d=o[o.length-1];return d&&d.type==="text"?d.value+=a:o.push({type:"text",value:a}),o}function imageReference(e,i){const s=String(i.identifier).toUpperCase(),a=e.definitionById.get(s);if(!a)return revert(e,i);const o={src:normalizeUri(a.url||""),alt:i.alt};a.title!==null&&a.title!==void 0&&(o.title=a.title);const c={type:"element",tagName:"img",properties:o,children:[]};return e.patch(i,c),e.applyData(i,c)}function image(e,i){const s={src:normalizeUri(i.url)};i.alt!==null&&i.alt!==void 0&&(s.alt=i.alt),i.title!==null&&i.title!==void 0&&(s.title=i.title);const a={type:"element",tagName:"img",properties:s,children:[]};return e.patch(i,a),e.applyData(i,a)}function inlineCode(e,i){const s={type:"text",value:i.value.replace(/\r?\n|\r/g," ")};e.patch(i,s);const a={type:"element",tagName:"code",properties:{},children:[s]};return e.patch(i,a),e.applyData(i,a)}function linkReference(e,i){const s=String(i.identifier).toUpperCase(),a=e.definitionById.get(s);if(!a)return revert(e,i);const o={href:normalizeUri(a.url||"")};a.title!==null&&a.title!==void 0&&(o.title=a.title);const c={type:"element",tagName:"a",properties:o,children:e.all(i)};return e.patch(i,c),e.applyData(i,c)}function link(e,i){const s={href:normalizeUri(i.url)};i.title!==null&&i.title!==void 0&&(s.title=i.title);const a={type:"element",tagName:"a",properties:s,children:e.all(i)};return e.patch(i,a),e.applyData(i,a)}function listItem(e,i,s){const a=e.all(i),o=s?listLoose(s):listItemLoose(i),c={},d=[];if(typeof i.checked=="boolean"){const _=a[0];let j;_&&_.type==="element"&&_.tagName==="p"?j=_:(j={type:"element",tagName:"p",properties:{},children:[]},a.unshift(j)),j.children.length>0&&j.children.unshift({type:"text",value:" "}),j.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:i.checked,disabled:!0},children:[]}),c.className=["task-list-item"]}let h=-1;for(;++h<a.length;){const _=a[h];(o||h!==0||_.type!=="element"||_.tagName!=="p")&&d.push({type:"text",value:`
`}),_.type==="element"&&_.tagName==="p"&&!o?d.push(..._.children):d.push(_)}const g=a[a.length-1];g&&(o||g.type!=="element"||g.tagName!=="p")&&d.push({type:"text",value:`
`});const b={type:"element",tagName:"li",properties:c,children:d};return e.patch(i,b),e.applyData(i,b)}function listLoose(e){let i=!1;if(e.type==="list"){i=e.spread||!1;const s=e.children;let a=-1;for(;!i&&++a<s.length;)i=listItemLoose(s[a])}return i}function listItemLoose(e){const i=e.spread;return i??e.children.length>1}function list(e,i){const s={},a=e.all(i);let o=-1;for(typeof i.start=="number"&&i.start!==1&&(s.start=i.start);++o<a.length;){const d=a[o];if(d.type==="element"&&d.tagName==="li"&&d.properties&&Array.isArray(d.properties.className)&&d.properties.className.includes("task-list-item")){s.className=["contains-task-list"];break}}const c={type:"element",tagName:i.ordered?"ol":"ul",properties:s,children:e.wrap(a,!0)};return e.patch(i,c),e.applyData(i,c)}function paragraph(e,i){const s={type:"element",tagName:"p",properties:{},children:e.all(i)};return e.patch(i,s),e.applyData(i,s)}function root$1(e,i){const s={type:"root",children:e.wrap(e.all(i))};return e.patch(i,s),e.applyData(i,s)}function strong(e,i){const s={type:"element",tagName:"strong",properties:{},children:e.all(i)};return e.patch(i,s),e.applyData(i,s)}function table(e,i){const s=e.all(i),a=s.shift(),o=[];if(a){const d={type:"element",tagName:"thead",properties:{},children:e.wrap([a],!0)};e.patch(i.children[0],d),o.push(d)}if(s.length>0){const d={type:"element",tagName:"tbody",properties:{},children:e.wrap(s,!0)},h=pointStart(i.children[1]),g=pointEnd(i.children[i.children.length-1]);h&&g&&(d.position={start:h,end:g}),o.push(d)}const c={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(i,c),e.applyData(i,c)}function tableRow(e,i,s){const a=s?s.children:void 0,c=(a?a.indexOf(i):1)===0?"th":"td",d=s&&s.type==="table"?s.align:void 0,h=d?d.length:i.children.length;let g=-1;const b=[];for(;++g<h;){const j=i.children[g],$={},_e=d?d[g]:void 0;_e&&($.align=_e);let rt={type:"element",tagName:c,properties:$,children:[]};j&&(rt.children=e.all(j),e.patch(j,rt),rt=e.applyData(j,rt)),b.push(rt)}const _={type:"element",tagName:"tr",properties:{},children:e.wrap(b,!0)};return e.patch(i,_),e.applyData(i,_)}function tableCell(e,i){const s={type:"element",tagName:"td",properties:{},children:e.all(i)};return e.patch(i,s),e.applyData(i,s)}const tab=9,space=32;function trimLines(e){const i=String(e),s=/\r?\n|\r/g;let a=s.exec(i),o=0;const c=[];for(;a;)c.push(trimLine(i.slice(o,a.index),o>0,!0),a[0]),o=a.index+a[0].length,a=s.exec(i);return c.push(trimLine(i.slice(o),o>0,!1)),c.join("")}function trimLine(e,i,s){let a=0,o=e.length;if(i){let c=e.codePointAt(a);for(;c===tab||c===space;)a++,c=e.codePointAt(a)}if(s){let c=e.codePointAt(o-1);for(;c===tab||c===space;)o--,c=e.codePointAt(o-1)}return o>a?e.slice(a,o):""}function text(e,i){const s={type:"text",value:trimLines(String(i.value))};return e.patch(i,s),e.applyData(i,s)}function thematicBreak(e,i){const s={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(i,s),e.applyData(i,s)}const handlers={blockquote,break:hardBreak,code,delete:strikethrough,emphasis,footnoteReference,heading,html,imageReference,image,inlineCode,linkReference,link,listItem,list,paragraph,root:root$1,strong,table,tableCell,tableRow,text,thematicBreak,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env=typeof self=="object"?self:globalThis,deserializer=(e,i)=>{const s=(o,c)=>(e.set(c,o),o),a=o=>{if(e.has(o))return e.get(o);const[c,d]=i[o];switch(c){case PRIMITIVE:case VOID:return s(d,o);case ARRAY:{const h=s([],o);for(const g of d)h.push(a(g));return h}case OBJECT:{const h=s({},o);for(const[g,b]of d)h[a(g)]=a(b);return h}case DATE:return s(new Date(d),o);case REGEXP:{const{source:h,flags:g}=d;return s(new RegExp(h,g),o)}case MAP:{const h=s(new Map,o);for(const[g,b]of d)h.set(a(g),a(b));return h}case SET:{const h=s(new Set,o);for(const g of d)h.add(a(g));return h}case ERROR:{const{name:h,message:g}=d;return s(new env[h](g),o)}case BIGINT:return s(BigInt(d),o);case"BigInt":return s(Object(BigInt(d)),o);case"ArrayBuffer":return s(new Uint8Array(d).buffer,d);case"DataView":{const{buffer:h}=new Uint8Array(d);return s(new DataView(h),d)}}return s(new env[c](d),o)};return a},deserialize=e=>deserializer(new Map,e)(0),EMPTY="",{toString}={},{keys}=Object,typeOf=e=>{const i=typeof e;if(i!=="object"||!e)return[PRIMITIVE,i];const s=toString.call(e).slice(8,-1);switch(s){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY];case"DataView":return[ARRAY,s]}return s.includes("Array")?[ARRAY,s]:s.includes("Error")?[ERROR,s]:[OBJECT,s]},shouldSkip=([e,i])=>e===PRIMITIVE&&(i==="function"||i==="symbol"),serializer=(e,i,s,a)=>{const o=(d,h)=>{const g=a.push(d)-1;return s.set(h,g),g},c=d=>{if(s.has(d))return s.get(d);let[h,g]=typeOf(d);switch(h){case PRIMITIVE:{let _=d;switch(g){case"bigint":h=BIGINT,_=d.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+g);_=null;break;case"undefined":return o([VOID],d)}return o([h,_],d)}case ARRAY:{if(g){let $=d;return g==="DataView"?$=new Uint8Array(d.buffer):g==="ArrayBuffer"&&($=new Uint8Array(d)),o([g,[...$]],d)}const _=[],j=o([h,_],d);for(const $ of d)_.push(c($));return j}case OBJECT:{if(g)switch(g){case"BigInt":return o([g,d.toString()],d);case"Boolean":case"Number":case"String":return o([g,d.valueOf()],d)}if(i&&"toJSON"in d)return c(d.toJSON());const _=[],j=o([h,_],d);for(const $ of keys(d))(e||!shouldSkip(typeOf(d[$])))&&_.push([c($),c(d[$])]);return j}case DATE:return o([h,d.toISOString()],d);case REGEXP:{const{source:_,flags:j}=d;return o([h,{source:_,flags:j}],d)}case MAP:{const _=[],j=o([h,_],d);for(const[$,_e]of d)(e||!(shouldSkip(typeOf($))||shouldSkip(typeOf(_e))))&&_.push([c($),c(_e)]);return j}case SET:{const _=[],j=o([h,_],d);for(const $ of d)(e||!shouldSkip(typeOf($)))&&_.push(c($));return j}}const{message:b}=d;return o([h,{name:g,message:b}],d)};return c},serialize=(e,{json:i,lossy:s}={})=>{const a=[];return serializer(!(i||s),!!i,new Map,a)(e),a},structuredClone$1=typeof structuredClone=="function"?(e,i)=>i&&("json"in i||"lossy"in i)?deserialize(serialize(e,i)):structuredClone(e):(e,i)=>deserialize(serialize(e,i));function defaultFootnoteBackContent(e,i){const s=[{type:"text",value:""}];return i>1&&s.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(i)}]}),s}function defaultFootnoteBackLabel(e,i){return"Back to reference "+(e+1)+(i>1?"-"+i:"")}function footer(e){const i=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",s=e.options.footnoteBackContent||defaultFootnoteBackContent,a=e.options.footnoteBackLabel||defaultFootnoteBackLabel,o=e.options.footnoteLabel||"Footnotes",c=e.options.footnoteLabelTagName||"h2",d=e.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let g=-1;for(;++g<e.footnoteOrder.length;){const b=e.footnoteById.get(e.footnoteOrder[g]);if(!b)continue;const _=e.all(b),j=String(b.identifier).toUpperCase(),$=normalizeUri(j.toLowerCase());let _e=0;const rt=[],nt=e.footnoteCounts.get(j);for(;nt!==void 0&&++_e<=nt;){rt.length>0&&rt.push({type:"text",value:" "});let et=typeof s=="string"?s:s(g,_e);typeof et=="string"&&(et={type:"text",value:et}),rt.push({type:"element",tagName:"a",properties:{href:"#"+i+"fnref-"+$+(_e>1?"-"+_e:""),dataFootnoteBackref:"",ariaLabel:typeof a=="string"?a:a(g,_e),className:["data-footnote-backref"]},children:Array.isArray(et)?et:[et]})}const st=_[_.length-1];if(st&&st.type==="element"&&st.tagName==="p"){const et=st.children[st.children.length-1];et&&et.type==="text"?et.value+=" ":st.children.push({type:"text",value:" "}),st.children.push(...rt)}else _.push(...rt);const tt={type:"element",tagName:"li",properties:{id:i+"fn-"+$},children:e.wrap(_,!0)};e.patch(b,tt),h.push(tt)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:c,properties:{...structuredClone$1(d),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(h,!0)},{type:"text",value:`
`}]}}const convert=function(e){if(e==null)return ok;if(typeof e=="function")return castFactory(e);if(typeof e=="object")return Array.isArray(e)?anyFactory(e):propertiesFactory(e);if(typeof e=="string")return typeFactory(e);throw new Error("Expected function, string, or object as test")};function anyFactory(e){const i=[];let s=-1;for(;++s<e.length;)i[s]=convert(e[s]);return castFactory(a);function a(...o){let c=-1;for(;++c<i.length;)if(i[c].apply(this,o))return!0;return!1}}function propertiesFactory(e){const i=e;return castFactory(s);function s(a){const o=a;let c;for(c in e)if(o[c]!==i[c])return!1;return!0}}function typeFactory(e){return castFactory(i);function i(s){return s&&s.type===e}}function castFactory(e){return i;function i(s,a,o){return!!(looksLikeANode(s)&&e.call(this,s,typeof a=="number"?a:void 0,o||void 0))}}function ok(){return!0}function looksLikeANode(e){return e!==null&&typeof e=="object"&&"type"in e}function color(e){return e}const empty=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents(e,i,s,a){let o;typeof i=="function"&&typeof s!="function"?(a=s,s=i):o=i;const c=convert(o),d=a?-1:1;h(e,void 0,[])();function h(g,b,_){const j=g&&typeof g=="object"?g:{};if(typeof j.type=="string"){const _e=typeof j.tagName=="string"?j.tagName:typeof j.name=="string"?j.name:void 0;Object.defineProperty($,"name",{value:"node ("+(g.type+(_e?"<"+_e+">":""))+")"})}return $;function $(){let _e=empty,rt,nt,st;if((!i||c(g,b,_[_.length-1]||void 0))&&(_e=toResult(s(g,_)),_e[0]===EXIT))return _e;if("children"in g&&g.children){const tt=g;if(tt.children&&_e[0]!==SKIP)for(nt=(a?tt.children.length:-1)+d,st=_.concat(tt);nt>-1&&nt<tt.children.length;){const et=tt.children[nt];if(rt=h(et,nt,st)(),rt[0]===EXIT)return rt;nt=typeof rt[1]=="number"?rt[1]:nt+d}}return _e}}}function toResult(e){return Array.isArray(e)?e:typeof e=="number"?[CONTINUE,e]:e==null?empty:[e]}function visit(e,i,s,a){let o,c,d;typeof i=="function"&&typeof s!="function"?(c=void 0,d=i,o=s):(c=i,d=s,o=a),visitParents(e,c,h,o);function h(g,b){const _=b[b.length-1],j=_?_.children.indexOf(g):void 0;return d(g,j,_)}}const own$1={}.hasOwnProperty,emptyOptions={};function createState(e,i){const s=i||emptyOptions,a=new Map,o=new Map,c=new Map,d={...handlers,...s.handlers},h={all:b,applyData,definitionById:a,footnoteById:o,footnoteCounts:c,footnoteOrder:[],handlers:d,one:g,options:s,patch,wrap:wrap$1};return visit(e,function(_){if(_.type==="definition"||_.type==="footnoteDefinition"){const j=_.type==="definition"?a:o,$=String(_.identifier).toUpperCase();j.has($)||j.set($,_)}}),h;function g(_,j){const $=_.type,_e=h.handlers[$];if(own$1.call(h.handlers,$)&&_e)return _e(h,_,j);if(h.options.passThrough&&h.options.passThrough.includes($)){if("children"in _){const{children:nt,...st}=_,tt=structuredClone$1(st);return tt.children=h.all(_),tt}return structuredClone$1(_)}return(h.options.unknownHandler||defaultUnknownHandler)(h,_,j)}function b(_){const j=[];if("children"in _){const $=_.children;let _e=-1;for(;++_e<$.length;){const rt=h.one($[_e],_);if(rt){if(_e&&$[_e-1].type==="break"&&(!Array.isArray(rt)&&rt.type==="text"&&(rt.value=trimMarkdownSpaceStart(rt.value)),!Array.isArray(rt)&&rt.type==="element")){const nt=rt.children[0];nt&&nt.type==="text"&&(nt.value=trimMarkdownSpaceStart(nt.value))}Array.isArray(rt)?j.push(...rt):j.push(rt)}}}return j}}function patch(e,i){e.position&&(i.position=position$1(e))}function applyData(e,i){let s=i;if(e&&e.data){const a=e.data.hName,o=e.data.hChildren,c=e.data.hProperties;if(typeof a=="string")if(s.type==="element")s.tagName=a;else{const d="children"in s?s.children:[s];s={type:"element",tagName:a,properties:{},children:d}}s.type==="element"&&c&&Object.assign(s.properties,structuredClone$1(c)),"children"in s&&s.children&&o!==null&&o!==void 0&&(s.children=o)}return s}function defaultUnknownHandler(e,i){const s=i.data||{},a="value"in i&&!(own$1.call(s,"hProperties")||own$1.call(s,"hChildren"))?{type:"text",value:i.value}:{type:"element",tagName:"div",properties:{},children:e.all(i)};return e.patch(i,a),e.applyData(i,a)}function wrap$1(e,i){const s=[];let a=-1;for(i&&s.push({type:"text",value:`
`});++a<e.length;)a&&s.push({type:"text",value:`
`}),s.push(e[a]);return i&&e.length>0&&s.push({type:"text",value:`
`}),s}function trimMarkdownSpaceStart(e){let i=0,s=e.charCodeAt(i);for(;s===9||s===32;)i++,s=e.charCodeAt(i);return e.slice(i)}function toHast(e,i){const s=createState(e,i),a=s.one(e,void 0),o=footer(s),c=Array.isArray(a)?{type:"root",children:a}:a||{type:"root",children:[]};return o&&c.children.push({type:"text",value:`
`},o),c}function remarkRehype(e,i){return e&&"run"in e?async function(s,a){const o=toHast(s,{file:a,...i});await e.run(o,a)}:function(s,a){return toHast(s,{file:a,...e||i})}}function bail(e){if(e)throw e}var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,defineProperty=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor,isArray=function e(i){return typeof Array.isArray=="function"?Array.isArray(i):toStr.call(i)==="[object Array]"},isPlainObject$1=function e(i){if(!i||toStr.call(i)!=="[object Object]")return!1;var s=hasOwn.call(i,"constructor"),a=i.constructor&&i.constructor.prototype&&hasOwn.call(i.constructor.prototype,"isPrototypeOf");if(i.constructor&&!s&&!a)return!1;var o;for(o in i);return typeof o>"u"||hasOwn.call(i,o)},setProperty=function e(i,s){defineProperty&&s.name==="__proto__"?defineProperty(i,s.name,{enumerable:!0,configurable:!0,value:s.newValue,writable:!0}):i[s.name]=s.newValue},getProperty=function e(i,s){if(s==="__proto__")if(hasOwn.call(i,s)){if(gOPD)return gOPD(i,s).value}else return;return i[s]},extend=function e(){var i,s,a,o,c,d,h=arguments[0],g=1,b=arguments.length,_=!1;for(typeof h=="boolean"&&(_=h,h=arguments[1]||{},g=2),(h==null||typeof h!="object"&&typeof h!="function")&&(h={});g<b;++g)if(i=arguments[g],i!=null)for(s in i)a=getProperty(h,s),o=getProperty(i,s),h!==o&&(_&&o&&(isPlainObject$1(o)||(c=isArray(o)))?(c?(c=!1,d=a&&isArray(a)?a:[]):d=a&&isPlainObject$1(a)?a:{},setProperty(h,{name:s,newValue:e(_,d,o)})):typeof o<"u"&&setProperty(h,{name:s,newValue:o}));return h};const extend$1=getDefaultExportFromCjs(extend);function isPlainObject(e){if(typeof e!="object"||e===null)return!1;const i=Object.getPrototypeOf(e);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function trough(){const e=[],i={run:s,use:a};return i;function s(...o){let c=-1;const d=o.pop();if(typeof d!="function")throw new TypeError("Expected function as last argument, not "+d);h(null,...o);function h(g,...b){const _=e[++c];let j=-1;if(g){d(g);return}for(;++j<o.length;)(b[j]===null||b[j]===void 0)&&(b[j]=o[j]);o=b,_?wrap(_,h)(...b):d(null,...b)}}function a(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),i}}function wrap(e,i){let s;return a;function a(...d){const h=e.length>d.length;let g;h&&d.push(o);try{g=e.apply(this,d)}catch(b){const _=b;if(h&&s)throw _;return o(_)}h||(g&&g.then&&typeof g.then=="function"?g.then(c,o):g instanceof Error?o(g):c(g))}function o(d,...h){s||(s=!0,i(d,...h))}function c(d){o(null,d)}}const minpath={basename,dirname,extname,join,sep:"/"};function basename(e,i){if(i!==void 0&&typeof i!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(e);let s=0,a=-1,o=e.length,c;if(i===void 0||i.length===0||i.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(c){s=o+1;break}}else a<0&&(c=!0,a=o+1);return a<0?"":e.slice(s,a)}if(i===e)return"";let d=-1,h=i.length-1;for(;o--;)if(e.codePointAt(o)===47){if(c){s=o+1;break}}else d<0&&(c=!0,d=o+1),h>-1&&(e.codePointAt(o)===i.codePointAt(h--)?h<0&&(a=o):(h=-1,a=d));return s===a?a=d:a<0&&(a=e.length),e.slice(s,a)}function dirname(e){if(assertPath$1(e),e.length===0)return".";let i=-1,s=e.length,a;for(;--s;)if(e.codePointAt(s)===47){if(a){i=s;break}}else a||(a=!0);return i<0?e.codePointAt(0)===47?"/":".":i===1&&e.codePointAt(0)===47?"//":e.slice(0,i)}function extname(e){assertPath$1(e);let i=e.length,s=-1,a=0,o=-1,c=0,d;for(;i--;){const h=e.codePointAt(i);if(h===47){if(d){a=i+1;break}continue}s<0&&(d=!0,s=i+1),h===46?o<0?o=i:c!==1&&(c=1):o>-1&&(c=-1)}return o<0||s<0||c===0||c===1&&o===s-1&&o===a+1?"":e.slice(o,s)}function join(...e){let i=-1,s;for(;++i<e.length;)assertPath$1(e[i]),e[i]&&(s=s===void 0?e[i]:s+"/"+e[i]);return s===void 0?".":normalize(s)}function normalize(e){assertPath$1(e);const i=e.codePointAt(0)===47;let s=normalizeString(e,!i);return s.length===0&&!i&&(s="."),s.length>0&&e.codePointAt(e.length-1)===47&&(s+="/"),i?"/"+s:s}function normalizeString(e,i){let s="",a=0,o=-1,c=0,d=-1,h,g;for(;++d<=e.length;){if(d<e.length)h=e.codePointAt(d);else{if(h===47)break;h=47}if(h===47){if(!(o===d-1||c===1))if(o!==d-1&&c===2){if(s.length<2||a!==2||s.codePointAt(s.length-1)!==46||s.codePointAt(s.length-2)!==46){if(s.length>2){if(g=s.lastIndexOf("/"),g!==s.length-1){g<0?(s="",a=0):(s=s.slice(0,g),a=s.length-1-s.lastIndexOf("/")),o=d,c=0;continue}}else if(s.length>0){s="",a=0,o=d,c=0;continue}}i&&(s=s.length>0?s+"/..":"..",a=2)}else s.length>0?s+="/"+e.slice(o+1,d):s=e.slice(o+1,d),a=d-o-1;o=d,c=0}else h===46&&c>-1?c++:c=-1}return s}function assertPath$1(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const minproc={cwd};function cwd(){return"/"}function isUrl(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function urlToPath(e){if(typeof e=="string")e=new URL(e);else if(!isUrl(e)){const i=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw i.code="ERR_INVALID_ARG_TYPE",i}if(e.protocol!=="file:"){const i=new TypeError("The URL must be of scheme file");throw i.code="ERR_INVALID_URL_SCHEME",i}return getPathFromURLPosix(e)}function getPathFromURLPosix(e){if(e.hostname!==""){const a=new TypeError('File URL host must be "localhost" or empty on darwin');throw a.code="ERR_INVALID_FILE_URL_HOST",a}const i=e.pathname;let s=-1;for(;++s<i.length;)if(i.codePointAt(s)===37&&i.codePointAt(s+1)===50){const a=i.codePointAt(s+2);if(a===70||a===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(i)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(i){let s;i?isUrl(i)?s={path:i}:typeof i=="string"||isUint8Array$1(i)?s={value:i}:s=i:s={},this.cwd="cwd"in s?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let a=-1;for(;++a<order.length;){const c=order[a];c in s&&s[c]!==void 0&&s[c]!==null&&(this[c]=c==="history"?[...s[c]]:s[c])}let o;for(o in s)order.includes(o)||(this[o]=s[o])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(i){assertNonEmpty(i,"basename"),assertPart(i,"basename"),this.path=minpath.join(this.dirname||"",i)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(i){assertPath(this.basename,"dirname"),this.path=minpath.join(i||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(i){if(assertPart(i,"extname"),assertPath(this.dirname,"extname"),i){if(i.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(i.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(i||""))}get path(){return this.history[this.history.length-1]}set path(i){isUrl(i)&&(i=urlToPath(i)),assertNonEmpty(i,"path"),this.path!==i&&this.history.push(i)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(i){assertNonEmpty(i,"stem"),assertPart(i,"stem"),this.path=minpath.join(this.dirname||"",i+(this.extname||""))}fail(i,s,a){const o=this.message(i,s,a);throw o.fatal=!0,o}info(i,s,a){const o=this.message(i,s,a);return o.fatal=void 0,o}message(i,s,a){const o=new VFileMessage(i,s,a);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(i){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(i||void 0).decode(this.value)}}function assertPart(e,i){if(e&&e.includes(minpath.sep))throw new Error("`"+i+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty(e,i){if(!e)throw new Error("`"+i+"` cannot be empty")}function assertPath(e,i){if(!e)throw new Error("Setting `"+i+"` requires `path` to be set too")}function isUint8Array$1(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const CallableInstance=function(e){const a=this.constructor.prototype,o=a[e],c=function(){return o.apply(c,arguments)};return Object.setPrototypeOf(c,a),c},own={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const i=new Processor;let s=-1;for(;++s<this.attachers.length;){const a=this.attachers[s];i.use(...a)}return i.data(extend$1(!0,{},this.namespace)),i}data(i,s){return typeof i=="string"?arguments.length===2?(assertUnfrozen("data",this.frozen),this.namespace[i]=s,this):own.call(this.namespace,i)&&this.namespace[i]||void 0:i?(assertUnfrozen("data",this.frozen),this.namespace=i,this):this.namespace}freeze(){if(this.frozen)return this;const i=this;for(;++this.freezeIndex<this.attachers.length;){const[s,...a]=this.attachers[this.freezeIndex];if(a[0]===!1)continue;a[0]===!0&&(a[0]=void 0);const o=s.call(i,...a);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(i){this.freeze();const s=vfile(i),a=this.parser||this.Parser;return assertParser("parse",a),a(String(s),s)}process(i,s){const a=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),s?o(void 0,s):new Promise(o);function o(c,d){const h=vfile(i),g=a.parse(h);a.run(g,h,function(_,j,$){if(_||!j||!$)return b(_);const _e=j,rt=a.stringify(_e,$);looksLikeAValue(rt)?$.value=rt:$.result=rt,b(_,$)});function b(_,j){_||!j?d(_):c?c(j):s(void 0,j)}}}processSync(i){let s=!1,a;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(i,o),assertDone("processSync","process",s),a;function o(c,d){s=!0,bail(c),a=d}}run(i,s,a){assertNode(i),this.freeze();const o=this.transformers;return!a&&typeof s=="function"&&(a=s,s=void 0),a?c(void 0,a):new Promise(c);function c(d,h){const g=vfile(s);o.run(i,g,b);function b(_,j,$){const _e=j||i;_?h(_):d?d(_e):a(void 0,_e,$)}}}runSync(i,s){let a=!1,o;return this.run(i,s,c),assertDone("runSync","run",a),o;function c(d,h){bail(d),o=h,a=!0}}stringify(i,s){this.freeze();const a=vfile(s),o=this.compiler||this.Compiler;return assertCompiler("stringify",o),assertNode(i),o(i,a)}use(i,...s){const a=this.attachers,o=this.namespace;if(assertUnfrozen("use",this.frozen),i!=null)if(typeof i=="function")g(i,s);else if(typeof i=="object")Array.isArray(i)?h(i):d(i);else throw new TypeError("Expected usable value, not `"+i+"`");return this;function c(b){if(typeof b=="function")g(b,[]);else if(typeof b=="object")if(Array.isArray(b)){const[_,...j]=b;g(_,j)}else d(b);else throw new TypeError("Expected usable value, not `"+b+"`")}function d(b){if(!("plugins"in b)&&!("settings"in b))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(b.plugins),b.settings&&(o.settings=extend$1(!0,o.settings,b.settings))}function h(b){let _=-1;if(b!=null)if(Array.isArray(b))for(;++_<b.length;){const j=b[_];c(j)}else throw new TypeError("Expected a list of plugins, not `"+b+"`")}function g(b,_){let j=-1,$=-1;for(;++j<a.length;)if(a[j][0]===b){$=j;break}if($===-1)a.push([b,..._]);else if(_.length>0){let[_e,...rt]=_;const nt=a[$][1];isPlainObject(nt)&&isPlainObject(_e)&&(_e=extend$1(!0,nt,_e)),a[$]=[b,_e,...rt]}}}}const unified=new Processor().freeze();function assertParser(e,i){if(typeof i!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function assertCompiler(e,i){if(typeof i!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function assertUnfrozen(e,i){if(i)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(e){if(!isPlainObject(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function assertDone(e,i,s){if(!s)throw new Error("`"+e+"` finished async. Use `"+i+"` instead")}function vfile(e){return looksLikeAVFile(e)?e:new VFile(e)}function looksLikeAVFile(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function looksLikeAValue(e){return typeof e=="string"||isUint8Array(e)}function isUint8Array(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",emptyPlugins=[],emptyRemarkRehypeOptions={allowDangerousHtml:!0},safeProtocol=/^(https?|ircs?|mailto|xmpp)$/i,deprecations=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown(e){const i=createProcessor(e),s=createFile(e);return post(i.runSync(i.parse(s),s),e)}function createProcessor(e){const i=e.rehypePlugins||emptyPlugins,s=e.remarkPlugins||emptyPlugins,a=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...emptyRemarkRehypeOptions}:emptyRemarkRehypeOptions;return unified().use(remarkParse).use(s).use(remarkRehype,a).use(i)}function createFile(e){const i=e.children||"",s=new VFile;return typeof i=="string"&&(s.value=i),s}function post(e,i){const s=i.allowedElements,a=i.allowElement,o=i.components,c=i.disallowedElements,d=i.skipHtml,h=i.unwrapDisallowed,g=i.urlTransform||defaultUrlTransform;for(const _ of deprecations)Object.hasOwn(i,_.from)&&(""+_.from+(_.to?"use `"+_.to+"` instead":"remove it")+changelog+_.id,void 0);return visit(e,b),toJsxRuntime(e,{Fragment:jsxRuntimeExports.Fragment,components:o,ignoreInvalidStyle:!0,jsx:jsxRuntimeExports.jsx,jsxs:jsxRuntimeExports.jsxs,passKeys:!0,passNode:!0});function b(_,j,$){if(_.type==="raw"&&$&&typeof j=="number")return d?$.children.splice(j,1):$.children[j]={type:"text",value:_.value},j;if(_.type==="element"){let _e;for(_e in urlAttributes)if(Object.hasOwn(urlAttributes,_e)&&Object.hasOwn(_.properties,_e)){const rt=_.properties[_e],nt=urlAttributes[_e];(nt===null||nt.includes(_.tagName))&&(_.properties[_e]=g(String(rt||""),_e,_))}}if(_.type==="element"){let _e=s?!s.includes(_.tagName):c?c.includes(_.tagName):!1;if(!_e&&a&&typeof j=="number"&&(_e=!a(_,j,$)),_e&&$&&typeof j=="number")return h&&_.children?$.children.splice(j,1,..._.children):$.children.splice(j,1),j}}}function defaultUrlTransform(e){const i=e.indexOf(":"),s=e.indexOf("?"),a=e.indexOf("#"),o=e.indexOf("/");return i===-1||o!==-1&&i>o||s!==-1&&i>s||a!==-1&&i>a||safeProtocol.test(e.slice(0,i))?e:""}function usePollinationsChat(e={}){var nt;const[i,s]=reactExports.useState([]),[a,o]=reactExports.useState(!1),[c,d]=reactExports.useState(null),h=reactExports.useRef(null),{model:g=((nt={}.VITE_POLLINATIONS_MODEL)==null?void 0:nt.trim())||"turbo",temperature:b=.7,maxTokens:_=500,systemPrompt:j="You are a helpful language learning assistant."}=e,$=reactExports.useCallback(async st=>{var tt,et,it;if(st.trim()&&!a){o(!0),d(null),h.current=new AbortController;try{const pt={role:"user",content:st},ot=[...i,pt];s(ot);const at=ot.map(vt=>({role:vt.role,content:vt.content})),xt=await fetch("https://text.pollinations.ai/openai",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:g,messages:[{role:"system",content:j},...at],temperature:b,max_tokens:_}),signal:h.current.signal});if(!xt.ok)throw new Error(`API error: ${xt.status}`);const gt=await xt.json(),Et={role:"assistant",content:typeof gt=="string"?gt:((it=(et=(tt=gt.choices)==null?void 0:tt[0])==null?void 0:et.message)==null?void 0:it.content)||"Sem resposta do servidor."};s(vt=>[...vt,Et])}catch(pt){if(pt instanceof Error&&pt.name==="AbortError"){console.debug("Chat request cancelled");return}const ot=pt instanceof Error?pt.message:"Erro desconhecido ao buscar resposta.";d(ot),console.error("Chat error:",pt),s(at=>at.slice(0,-1))}finally{o(!1)}}},[i,a,g,b,_,j]),_e=reactExports.useCallback(()=>{s([]),d(null)},[]),rt=reactExports.useCallback(()=>{h.current&&h.current.abort()},[]);return{messages:i,isLoading:a,error:c,sendMessage:$,clearHistory:_e,cancelRequest:rt}}function StudyAssistant({language:e="English",context:i="",visible:s=!1,onClose:a}){const[o,c]=reactExports.useState(""),[d,h]=reactExports.useState(!1),g=reactExports.useRef(null),{push:b}=useToast(),{messages:_,isLoading:j,error:$,sendMessage:_e,clearHistory:rt}=usePollinationsChat({systemPrompt:`You are a friendly language learning assistant helping students learn ${e}.${i?` Context: ${i}`:""} Answer questions clearly, provide pronunciation tips, suggest examples, and encourage practice. Keep responses concise and encouraging.`,temperature:.8,maxTokens:400});reactExports.useEffect(()=>{h(!0)},[]),reactExports.useEffect(()=>{var tt;(tt=g.current)==null||tt.scrollIntoView({behavior:"smooth"})},[_]);const nt=async()=>{const tt=o.trim();if(tt){c("");try{await _e(tt)}catch{b("Erro ao enviar mensagem. Tente novamente.","error")}}},st=tt=>{tt.key==="Enter"&&!tt.shiftKey&&!j&&(tt.preventDefault(),nt())};return!d||!s?null:jsxRuntimeExports.jsxs("div",{className:"surface-glass fixed bottom-6 right-6 z-50 flex h-[500px] w-[400px] flex-col rounded-2xl border border-white/10 shadow-2xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between border-b border-white/10 bg-accent/10 px-5 py-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-display text-lg font-semibold text-text-primary",children:"Assistente de Estudo"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-tertiary",children:e})]}),jsxRuntimeExports.jsx("button",{onClick:a,className:"rounded-lg p-2 hover:bg-white/10 transition-colors","aria-label":"Fechar",children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4 text-text-secondary"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 p-4",children:[_.length===0?jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-col items-center justify-center text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl mb-3",children:""}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-text-secondary",children:["Faa uma pergunta sobre ",e,"!"]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-tertiary mt-2",children:"Pronuncia, gramtica, vocabulrio..."})]}):_.map((tt,et)=>jsxRuntimeExports.jsx("div",{className:cn("flex",tt.role==="user"?"justify-end":"justify-start"),children:jsxRuntimeExports.jsx("div",{className:cn("max-w-[80%] rounded-xl p-3 text-sm",tt.role==="user"?"bg-accent/30 text-text-primary":"bg-white/5 text-text-secondary"),children:jsxRuntimeExports.jsx(Markdown,{className:"prose prose-sm dark:prose-invert",children:tt.content})})},et)),j&&jsxRuntimeExports.jsx("div",{className:"flex justify-start",children:jsxRuntimeExports.jsx("div",{className:"rounded-xl bg-white/5 p-3",children:jsxRuntimeExports.jsx(Loader2,{className:"h-4 w-4 animate-spin text-accent"})})}),$&&jsxRuntimeExports.jsx("div",{className:"rounded-lg bg-red-900/20 p-3 text-sm text-red-200",children:$}),jsxRuntimeExports.jsx("div",{ref:g})]}),jsxRuntimeExports.jsxs("div",{className:"border-t border-white/10 bg-white/5 p-4 space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:o,onChange:tt=>c(tt.target.value),onKeyPress:st,placeholder:"Faa uma pergunta...",disabled:j,className:"focus-ring flex-1 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-sm text-text-primary placeholder-text-tertiary disabled:opacity-50"}),jsxRuntimeExports.jsx(Button,{intent:"accent",onClick:nt,disabled:j||!o.trim(),className:"p-2",children:jsxRuntimeExports.jsx(Send,{className:"h-4 w-4"})})]}),_.length>0&&jsxRuntimeExports.jsxs("button",{onClick:()=>{rt(),b("Histrico limpo.","info")},className:"flex items-center gap-2 text-xs text-text-tertiary hover:text-text-secondary transition-colors w-full justify-center py-1",children:[jsxRuntimeExports.jsx(Trash2,{className:"h-3 w-3"}),"Limpar histrico"]})]})]})}const WORD_CAPTURE_REGEX=/([\p{L}\p{M}][\p{L}\p{M}'\-\u2019]*)/gu,WORD_MATCH_REGEX=/^[\p{L}\p{M}][\p{L}\p{M}'\-\u2019]*$/u;function getParagraphs(e){return e.replace(/\r\n/g,`
`).split(/\n{2,}/).map(i=>i.trim()).filter(i=>i.length>0)}function getSentenceForWord(e,i){const s=i.trim().toLowerCase(),a=e.match(/[^.!?]+[.!?]?/g);return a?(a.find(c=>c.toLowerCase().includes(s))??e).trim():e.trim()}function ReaderPage(){const{id:e}=useParams(),i=useNavigate(),{texts:s,isLoading:a}=useLibraryStore(ut=>({texts:ut.texts,isLoading:ut.isLoading})),o=useLibraryStore(ut=>ut.updateText),c=usePrefsStore(ut=>ut.prefs),d=useVocabStore(ut=>ut.vocab),[h,g]=reactExports.useState(null),[b,_]=reactExports.useState(!1),[j,$]=reactExports.useState(0),[_e,rt]=reactExports.useState(!1),[nt,st]=reactExports.useState(!1),tt=reactExports.useRef(null),et=reactExports.useMemo(()=>s.find(ut=>ut.id===e),[s,e]),it=reactExports.useMemo(()=>new Set(d.map(ut=>ut.term.toLowerCase())),[d]),pt=reactExports.useMemo(()=>et?getParagraphs(et.content):[],[et]);reactExports.useEffect(()=>{et&&$(et.progress??0)},[et]),reactExports.useEffect(()=>{const ut=tt.current;if(!ut)return;const Et=()=>{const{scrollTop:vt,scrollHeight:_t,clientHeight:jt}=ut;if(_t<=jt){$(1);return}const kt=Math.min(1,Math.max(0,vt/(_t-jt)));$(kt)};return ut.addEventListener("scroll",Et,{passive:!0}),Et(),()=>{ut.removeEventListener("scroll",Et)}},[pt.length,et==null?void 0:et.id]),reactExports.useEffect(()=>{!et||!e||Number(j.toFixed(3))===Number((et.progress??0).toFixed(3))||o(e,{progress:j})},[j,o,e,et]),reactExports.useEffect(()=>{et&&(document.title=`${et.title}  LeFlux`)},[et]);const ot=(ut,Et)=>{const vt=ut.trim();if(!vt)return;const _t=getSentenceForWord(Et,vt);g({term:vt,sentence:_t}),_(!0)},at=()=>{_(!1),g(null)},xt=()=>{if(!et||!isSpeechSynthesisSupported())return;const ut=new SpeechSynthesisUtterance(et.content);et.lang&&(ut.lang=et.lang),ut.onend=()=>rt(!1),ut.onerror=()=>rt(!1),window.speechSynthesis.cancel(),window.speechSynthesis.speak(ut),rt(!0)},gt=()=>{isSpeechSynthesisSupported()&&(window.speechSynthesis.cancel(),rt(!1))};return reactExports.useEffect(()=>()=>{isSpeechSynthesisSupported()&&window.speechSynthesis.cancel()},[]),a&&!et?jsxRuntimeExports.jsx("div",{className:"mx-auto flex min-h-[calc(100vh-6rem)] w-full max-w-5xl flex-col gap-8 px-6 py-10",children:jsxRuntimeExports.jsx("div",{className:"surface-glass flex flex-1 items-center justify-center px-6 py-16",children:jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"Carregando contedo"})})}):et?jsxRuntimeExports.jsxs("div",{className:"mx-auto flex min-h-[calc(100vh-6rem)] w-full max-w-5xl flex-col gap-6 px-6 py-10",children:[jsxRuntimeExports.jsx(ReaderHeader,{title:et.title,progress:j,onBack:()=>i(-1),onSpeak:xt,onStopSpeak:gt,isSpeaking:_e}),jsxRuntimeExports.jsx("div",{ref:tt,className:"surface-glass flex-1 overflow-y-auto px-6 py-8",style:{fontSize:`${c.fontSize}px`,lineHeight:c.lineHeight},children:jsxRuntimeExports.jsx("div",{className:"space-y-6 text-text-primary",children:pt.map((ut,Et)=>{const vt=ut.split(WORD_CAPTURE_REGEX);return jsxRuntimeExports.jsx("p",{className:"leading-relaxed",children:vt.map((_t,jt)=>{if(!_t)return null;if(WORD_MATCH_REGEX.test(_t)){const kt=_t.toLowerCase(),It=it.has(kt);return jsxRuntimeExports.jsx("button",{type:"button",className:cn("inline rounded-md px-[2px] py-0.5 transition-colors hover:bg-accent/10 focus:outline-none focus:ring-2 focus:ring-accent/50",It&&"bg-accent/15 text-accent"),onClick:()=>ot(_t,ut),children:_t},`${Et}-${jt}`)}return jsxRuntimeExports.jsx("span",{children:_t},`${Et}-${jt}`)})},`${Et}-${ut.slice(0,10)}`)})})}),jsxRuntimeExports.jsx(WordModal,{term:(h==null?void 0:h.term)??"",lang:et.lang,isOpen:b&&!!h,onClose:at,contextSentence:h==null?void 0:h.sentence}),jsxRuntimeExports.jsx("button",{onClick:()=>st(!nt),className:"fixed bottom-20 right-6 rounded-full bg-accent p-3 hover:bg-accent/80 transition-colors shadow-lg z-40",title:"Assistente de Estudo",children:jsxRuntimeExports.jsx(MessageCircle,{className:"h-6 w-6 text-white"})}),jsxRuntimeExports.jsx(StudyAssistant,{language:et.lang==="pt"?"Portugus":et.lang==="es"?"Espanhol":"English",context:`Estou lendo: "${et.title}"`,visible:nt,onClose:()=>st(!1)})]}):jsxRuntimeExports.jsx("div",{className:"mx-auto flex min-h-[calc(100vh-6rem)] w-full max-w-4xl flex-col gap-8 px-6 py-10",children:jsxRuntimeExports.jsxs("div",{className:"surface-glass flex flex-1 flex-col items-center justify-center gap-4 px-6 py-16 text-center",children:[jsxRuntimeExports.jsx("h1",{className:"font-display text-2xl text-text-primary",children:"Contedo no encontrado"}),jsxRuntimeExports.jsx("p",{className:"max-w-md text-text-secondary",children:"No encontramos o texto solicitado. Ele pode ter sido removido ou no sincronizou corretamente."}),jsxRuntimeExports.jsx(Button,{intent:"ghost",onClick:()=>i(-1),children:"Voltar"})]})})}function VocabModal({entry:e,isOpen:i,onClose:s}){const{push:a}=useToast(),o=useVocabStore(ot=>ot.updateVocab),c=useVocabStore(ot=>ot.deleteVocab),[d,h]=reactExports.useState(e.translation??""),[g,b]=reactExports.useState(e.definition??""),[_,j]=reactExports.useState(""),[$,_e]=reactExports.useState(e.userSentences);reactExports.useEffect(()=>{i&&(h(e.translation??""),b(e.definition??""),_e(e.userSentences),j(""))},[e,i]);const rt=()=>{o(e.id,{translation:d||void 0,definition:g||void 0,userSentences:$}),a("Vocabulrio atualizado.","success"),s()},nt=()=>{if(!_.trim())return;const ot=[...$,_.trim()];_e(ot),j("")},st=ot=>{_e(at=>at.filter((xt,gt)=>gt!==ot))},tt=()=>{o(e.id,{srs:{...e.srs,nextReview:Date.now(),stage:"learning"}}),a("Agendado para reviso.","info")},et=()=>{const ot=`Hoje, usei ${e.term} para descrever algo importante.`;j(ot)},it=()=>{isSpeechSynthesisSupported()&&speak(e.term,{lang:e.lang})},pt=()=>{confirm("Remover esta palavra do vocabulrio?")&&(c(e.id),a("Palavra removida.","info"),s())};return jsxRuntimeExports.jsx(Modal,{isOpen:i,onClose:s,title:e.term,children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[isSpeechSynthesisSupported()&&jsxRuntimeExports.jsx(Button,{intent:"ghost",onClick:it,"aria-label":"Ouvir pronncia",children:jsxRuntimeExports.jsx(Volume2,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{intent:"ghost",onClick:tt,children:"Adicionar  reviso"}),jsxRuntimeExports.jsxs(Button,{intent:"ghost",onClick:et,children:[jsxRuntimeExports.jsx(Sparkle,{className:"mr-2 h-4 w-4"})," Gerar sugesto"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[jsxRuntimeExports.jsxs("label",{className:"flex flex-col gap-2 text-sm text-text-secondary",children:["Traduo",jsxRuntimeExports.jsx("input",{value:d,onChange:ot=>h(ot.target.value),className:"focus-ring rounded-3xl border border-white/10 bg-white/5 px-4 py-3 text-text-primary",placeholder:"Traduo opcional"})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col gap-2 text-sm text-text-secondary",children:["Definio",jsxRuntimeExports.jsx("textarea",{value:g,onChange:ot=>b(ot.target.value),className:"focus-ring min-h-[120px] rounded-3xl border border-white/10 bg-white/5 px-4 py-3 text-text-primary",placeholder:"Como voc entende este termo"})]})]}),jsxRuntimeExports.jsxs("section",{className:"space-y-3",children:[jsxRuntimeExports.jsx("h3",{className:"font-display text-lg text-text-primary",children:"Minhas frases"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 md:flex-row",children:[jsxRuntimeExports.jsx("input",{value:_,onChange:ot=>j(ot.target.value),className:"focus-ring flex-1 rounded-3xl border border-white/10 bg-white/5 px-4 py-3 text-text-primary",placeholder:"Escreva uma frase usando a palavra"}),jsxRuntimeExports.jsx(Button,{intent:"accent",onClick:nt,children:"Salvar frase"})]}),$.length?jsxRuntimeExports.jsx("ul",{className:"space-y-2 text-sm text-text-secondary",children:$.map((ot,at)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-3 rounded-2xl bg-white/5 px-4 py-3",children:[jsxRuntimeExports.jsx("span",{className:"flex-1",children:ot}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>st(at),className:"text-text-tertiary transition-colors duration-200 hover:text-red-300","aria-label":"Remover frase",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]},`${ot}-${at}`))}):jsxRuntimeExports.jsx("p",{className:"text-sm text-text-tertiary",children:"Nenhuma frase ainda  crie uma para ativar a produo."})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-between gap-3 sm:flex-row",children:[jsxRuntimeExports.jsxs(Button,{intent:"ghost",onClick:pt,className:"text-red-300 hover:text-red-200",children:[jsxRuntimeExports.jsx(Trash2,{className:"mr-2 h-4 w-4"})," Remover"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx(Button,{intent:"ghost",onClick:s,children:"Fechar"}),jsxRuntimeExports.jsx(Button,{intent:"accent",onClick:rt,children:"Salvar alteraes"})]})]})]})})}const stageLabels$1={new:"Nova",learning:"Aprendendo",mastered:"Dominada"};function VocabCard({entry:e}){const[i,s]=reactExports.useState(!1),a=Math.min(1,Math.max(0,e.srs.correctStreak/5)),o=e.srs.stage==="mastered"?"border-emerald-300/50":e.srs.stage==="learning"?"border-accent/50":"border-white/10";return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(motion.button,{type:"button",onClick:()=>s(!0),className:cn("surface-glass relative flex w-full flex-col overflow-hidden text-left transition-transform duration-200 ease-in-out hover:scale-[1.02] focus-ring",o,"border"),initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},transition:{duration:.18,ease:"easeInOut"},"aria-label":`Abrir ${e.term}`,children:[jsxRuntimeExports.jsxs("div",{className:"relative h-36 w-full overflow-hidden",children:[e.imageUrl?jsxRuntimeExports.jsx("img",{src:e.imageUrl,alt:"",className:"h-full w-full object-cover",loading:"lazy"}):jsxRuntimeExports.jsx("div",{className:"flex h-full w-full items-center justify-center text-4xl",children:""}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/0"}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex items-center justify-between text-xs text-white/70",children:[jsxRuntimeExports.jsx("span",{className:"rounded-full bg-black/40 px-3 py-1 backdrop-blur-sm",children:stageLabels$1[e.srs.stage]}),jsxRuntimeExports.jsxs("span",{className:"rounded-full bg-black/40 px-3 py-1 backdrop-blur-sm",children:[Math.round(e.srs.ease*100)/100," ease"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 flex-col gap-3 px-5 pb-6 pt-4",children:[jsxRuntimeExports.jsxs("header",{className:"space-y-1",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-text-tertiary",children:e.lang}),jsxRuntimeExports.jsx("h3",{className:"font-display text-2xl text-text-primary",children:e.term}),e.translation&&jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:e.translation})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-secondary",children:[jsxRuntimeExports.jsxs("span",{className:"rounded-full bg-white/5 px-3 py-1",children:["Revises: ",e.srs.reviews]}),jsxRuntimeExports.jsxs("span",{className:"rounded-full bg-white/5 px-3 py-1",children:["Produo: ",e.srs.produced]})]}),jsxRuntimeExports.jsx("div",{className:"h-2 rounded-full bg-white/10",children:jsxRuntimeExports.jsx("div",{className:"h-full rounded-full bg-accent",style:{width:`${Math.round(a*100)}%`}})})]})]}),jsxRuntimeExports.jsx(VocabModal,{entry:e,isOpen:i,onClose:()=>s(!1)})]})}const stageLabels={new:"Nova",learning:"Aprendendo",mastered:"Dominada"};function VocabularyPage(){const{vocab:e,isLoading:i}=useVocabStore(nt=>({vocab:nt.vocab,isLoading:nt.isLoading})),[s,a]=reactExports.useState(""),[o,c]=reactExports.useState("all"),[d,h]=reactExports.useState("recent"),[g,b]=reactExports.useState(!1),[_,j]=reactExports.useState(!1),$=reactExports.useMemo(()=>e.reduce((nt,st)=>(nt.total+=1,nt[st.srs.stage]+=1,st.srs.nextReview<=Date.now()&&(nt.due+=1),nt),{total:0,new:0,learning:0,mastered:0,due:0}),[e]),_e=reactExports.useMemo(()=>{const nt=s.trim().toLowerCase();return e.filter(st=>o!=="all"&&st.srs.stage!==o||g&&st.srs.nextReview>Date.now()?!1:nt?[st.term,st.translation??"",st.definition??""].some(tt=>tt.toLowerCase().includes(nt)):!0).sort((st,tt)=>{switch(d){case"alphabetical":return st.term.localeCompare(tt.term,void 0,{sensitivity:"base"});case"review":return st.srs.nextReview-tt.srs.nextReview;case"recent":default:return tt.updatedAt-st.updatedAt}})},[e,o,g,s,d]),rt=["all","new","learning","mastered"];return jsxRuntimeExports.jsxs("div",{className:"mx-auto flex min-h-[calc(100vh-6rem)] w-full max-w-6xl flex-col gap-8 px-6 py-10",children:[jsxRuntimeExports.jsxs("header",{className:"space-y-2",children:[jsxRuntimeExports.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-text-tertiary",children:"Vocabulrio"}),jsxRuntimeExports.jsx("h1",{className:"font-display text-3xl font-semibold text-text-primary md:text-4xl",children:"Palavras vivas no seu contexto"}),jsxRuntimeExports.jsx("p",{className:"max-w-2xl text-text-secondary",children:"Explore, filtre e refine seu vocabulrio salvo com imagens, exemplos e pronncia."})]}),jsxRuntimeExports.jsxs("section",{className:"grid gap-4 md:grid-cols-4",children:[jsxRuntimeExports.jsxs("div",{className:"surface-glass rounded-3xl px-6 py-5",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-text-tertiary",children:"Total"}),jsxRuntimeExports.jsx("p",{className:"font-display text-3xl text-text-primary",children:$.total}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Palavras salvas"})]}),jsxRuntimeExports.jsxs("div",{className:"surface-glass rounded-3xl px-6 py-5",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-text-tertiary",children:"Para revisar"}),jsxRuntimeExports.jsx("p",{className:"font-display text-3xl text-text-primary",children:$.due}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Disponveis agora"})]}),jsxRuntimeExports.jsxs("div",{className:"surface-glass rounded-3xl px-6 py-5",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-text-tertiary",children:"Aprendendo"}),jsxRuntimeExports.jsx("p",{className:"font-display text-3xl text-text-primary",children:$.learning}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Na fase ativa"})]}),jsxRuntimeExports.jsxs("div",{className:"surface-glass rounded-3xl px-6 py-5",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-text-tertiary",children:"Dominadas"}),jsxRuntimeExports.jsx("p",{className:"font-display text-3xl text-text-primary",children:$.mastered}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Prontas para uso"})]})]}),jsxRuntimeExports.jsxs("div",{className:"surface-glass flex flex-col gap-6 px-6 py-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-1 items-center gap-3 rounded-full border border-white/10 bg-white/5 px-4 py-2",children:[jsxRuntimeExports.jsx(Search,{className:"h-4 w-4 text-text-tertiary"}),jsxRuntimeExports.jsx("input",{type:"search",value:s,onChange:nt=>a(nt.target.value),placeholder:"Buscar por termo, traduo ou definio",className:"flex-1 bg-transparent text-sm text-text-primary placeholder:text-text-tertiary focus:outline-none"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsxs(Button,{intent:"ghost",onClick:()=>b(nt=>!nt),className:cn(g&&"bg-accent/15 text-accent"),children:[jsxRuntimeExports.jsx(Clock,{className:"mr-2 h-4 w-4"})," Due agora"]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("select",{value:d,onChange:nt=>h(nt.target.value),className:"focus-ring appearance-none rounded-full border border-white/10 bg-white/5 px-4 py-2 pr-10 text-sm text-text-primary",children:[jsxRuntimeExports.jsx("option",{value:"recent",children:"Mais recentes"}),jsxRuntimeExports.jsx("option",{value:"alphabetical",children:"A-Z"}),jsxRuntimeExports.jsx("option",{value:"review",children:"Prxima reviso"})]}),jsxRuntimeExports.jsx(Filter,{className:"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-text-tertiary"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-3",children:rt.map(nt=>jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>c(nt),className:cn("inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2 text-sm text-text-secondary transition hover:text-text-primary",o===nt&&"border-accent/60 bg-accent/15 text-accent"),children:[nt==="all"?jsxRuntimeExports.jsx(Layers,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Sparkles,{className:"h-4 w-4"}),nt==="all"?"Todas":stageLabels[nt]]},nt))}),i?jsxRuntimeExports.jsx("div",{className:"flex flex-1 items-center justify-center py-16",children:jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"Carregando vocabulrio"})}):_e.length===0?jsxRuntimeExports.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-3 py-24 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"font-display text-2xl text-text-primary",children:"Nada por aqui ainda"}),jsxRuntimeExports.jsx("p",{className:"max-w-md text-text-secondary",children:"Salve palavras pelo leitor ou importador para v-las organizadas aqui. Use a busca e filtros para encontrar exatamente o que precisa."})]}):jsxRuntimeExports.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:_e.map(nt=>jsxRuntimeExports.jsx(VocabCard,{entry:nt},nt.id))})]}),jsxRuntimeExports.jsx("button",{onClick:()=>j(!_),className:"fixed bottom-20 right-6 rounded-full bg-accent p-3 hover:bg-accent/80 transition-colors shadow-lg z-40",title:"Assistente de Estudo",children:jsxRuntimeExports.jsx(MessageCircle,{className:"h-6 w-6 text-white"})}),jsxRuntimeExports.jsx(StudyAssistant,{language:"Portugus",context:"Estou estudando vocabulrio. Ajude com pronuncia, exemplos, sinonimos e pratica.",visible:_,onClose:()=>j(!1)})]})}const useReviewStore=create$1((e,i)=>({session:[],currentIndex:0,isComplete:!1,results:[],startSession:s=>{const a=useVocabStore.getState().getDueVocab().slice(0,s);e({session:a,currentIndex:0,isComplete:a.length===0,results:[]})},answer:(s,a)=>{const{session:o,currentIndex:c}=i(),d=o[c];if(!d)return;const h=applySRS(d.srs,s);useVocabStore.getState().updateVocab(d.id,{srs:h,userSentences:a?[...d.userSentences,a]:d.userSentences}),e(g=>({results:[...g.results,{entryId:d.id,term:d.term,response:s,userSentence:a,timestamp:Date.now()}]})),c+1>=o.length?e({isComplete:!0}):e({currentIndex:c+1})},reset:()=>e({session:[],currentIndex:0,isComplete:!1,results:[]})})),answerLabels={0:"Errei",1:"Difcil",2:"Fcil"};function ReviewCard({entry:e,index:i,total:s,onAnswer:a}){const[o,c]=reactExports.useState(""),[d,h]=reactExports.useState(!1),g=isSpeechSynthesisSupported(),b=reactExports.useMemo(()=>{var nt;const $=((nt=e.examples)==null?void 0:nt[0])??e.definition??`Crie uma frase usando "${e.term}"`,_e=new RegExp(e.term,"ig"),rt=$.replace(_e,"____");return rt.includes("____")?rt:`${rt}  complete com ${e.term}`},[e]),_=()=>{g&&speak(e.term,{lang:e.lang})},j=$=>{a($,o.trim()||void 0),c(""),h(!1)};return jsxRuntimeExports.jsxs("article",{className:"surface-glass flex flex-col gap-6 px-6 py-8",children:[jsxRuntimeExports.jsxs("header",{className:"flex flex-col gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-xs uppercase tracking-[0.3em] text-text-tertiary",children:[jsxRuntimeExports.jsxs("span",{children:[i+1," / ",s]}),jsxRuntimeExports.jsx("span",{children:e.lang})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("h2",{className:"font-display text-3xl text-text-primary",children:e.term}),g&&jsxRuntimeExports.jsx(Button,{intent:"ghost",onClick:_,"aria-label":"Ouvir pronncia",children:jsxRuntimeExports.jsx(Volume2,{className:"h-4 w-4"})})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:b})]}),jsxRuntimeExports.jsx("textarea",{value:o,onChange:$=>c($.target.value),className:"focus-ring min-h-[140px] rounded-3xl border border-white/10 bg-white/5 px-4 py-3 text-text-primary",placeholder:"Escreva sua frase aqui"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-text-secondary",children:[jsxRuntimeExports.jsx(Button,{intent:"ghost",onClick:()=>h($=>!$),children:d?"Ocultar pistas":"Mostrar pistas"}),d&&jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.translation&&jsxRuntimeExports.jsx("span",{className:"rounded-full bg-white/5 px-3 py-1",children:e.translation}),e.definition&&jsxRuntimeExports.jsx("span",{className:"rounded-full bg-white/5 px-3 py-1",children:e.definition})]})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-3 md:grid-cols-3",children:Object.keys(answerLabels).map($=>{const _e=Number($),rt=_e===2?"accent":_e===1?"neutral":"ghost";return jsxRuntimeExports.jsx(Button,{intent:rt,onClick:()=>j(_e),fullWidth:!0,children:answerLabels[_e]},$)})})]})}const SESSION_LIMIT=20,responseLabels={0:"Errei",1:"Difcil",2:"Fcil"};function ReviewPage(){const{vocab:e,isLoading:i}=useVocabStore(xt=>({vocab:xt.vocab,isLoading:xt.isLoading})),{push:s}=useToast(),[a,o]=reactExports.useState(10),{session:c,currentIndex:d,isComplete:h,startSession:g,answer:b,results:_,reset:j}=useReviewStore(xt=>({session:xt.session,currentIndex:xt.currentIndex,isComplete:xt.isComplete,startSession:xt.startSession,answer:xt.answer,results:xt.results,reset:xt.reset})),$=reactExports.useMemo(()=>e.filter(xt=>xt.srs.nextReview<=Date.now()),[e]),_e=reactExports.useMemo(()=>e.filter(xt=>xt.srs.stage==="mastered").length,[e]),rt=reactExports.useMemo(()=>e.filter(xt=>xt.srs.stage==="learning").length,[e]);reactExports.useEffect(()=>{if(!$.length){o(5);return}o(xt=>Math.min(Math.max(1,xt),Math.min(SESSION_LIMIT,$.length)))},[$.length]);const nt=c[d],st=c.length?d/c.length:0,tt=()=>{if($.length===0){s("Nenhuma palavra est pronta para reviso agora. Volte mais tarde ou salve novas palavras.","info");return}const xt=Math.min(Math.max(1,a),Math.min(SESSION_LIMIT,$.length));g(xt)},et=()=>{j()},it=reactExports.useMemo(()=>_.reduce((xt,gt)=>(xt[gt.response]+=1,gt.userSentence&&(xt.produced+=1),xt),{0:0,1:0,2:0,produced:0}),[_]),pt=c.length>0,ot=pt&&h,at=ot?1:st;return jsxRuntimeExports.jsxs("div",{className:"mx-auto flex min-h-[calc(100vh-6rem)] w-full max-w-5xl flex-col gap-8 px-6 py-10",children:[jsxRuntimeExports.jsxs("header",{className:"space-y-2 text-center md:text-left",children:[jsxRuntimeExports.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-text-tertiary",children:"Reviso Zen"}),jsxRuntimeExports.jsx("h1",{className:"font-display text-3xl font-semibold text-text-primary md:text-4xl",children:"Consolide com calma"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"Revise at 20 itens por sesso com repetio espaada v2 e produo ativa."})]}),jsxRuntimeExports.jsxs("section",{className:"grid gap-4 md:grid-cols-4",children:[jsxRuntimeExports.jsxs("div",{className:"surface-glass rounded-3xl px-6 py-5",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-text-tertiary",children:"Disponveis"}),jsxRuntimeExports.jsx("p",{className:"font-display text-3xl text-text-primary",children:$.length}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Prontos para revisar"})]}),jsxRuntimeExports.jsxs("div",{className:"surface-glass rounded-3xl px-6 py-5",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-text-tertiary",children:"Aprendendo"}),jsxRuntimeExports.jsx("p",{className:"font-display text-3xl text-text-primary",children:rt}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Em fase ativa"})]}),jsxRuntimeExports.jsxs("div",{className:"surface-glass rounded-3xl px-6 py-5",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-text-tertiary",children:"Dominadas"}),jsxRuntimeExports.jsx("p",{className:"font-display text-3xl text-text-primary",children:_e}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Esto slidas"})]}),jsxRuntimeExports.jsxs("div",{className:"surface-glass flex flex-col justify-between rounded-3xl px-6 py-5",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-text-tertiary",children:"Progresso"}),jsxRuntimeExports.jsx("div",{className:"mt-2",children:jsxRuntimeExports.jsx(ProgressRing,{value:at,size:72})}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-secondary",children:"Sesso atual"})]})]}),jsxRuntimeExports.jsxs("div",{className:"surface-glass flex flex-1 flex-col gap-6 px-6 py-8",children:[!pt&&!ot&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-text-secondary",children:[jsxRuntimeExports.jsx(Flame,{className:"h-5 w-5 text-accent"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-text-primary",children:"Prepare a sesso"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-text-secondary",children:["Selecione quantos cartes quer revisar agora. Recomendado: at ",SESSION_LIMIT," itens."]})]})]}),jsxRuntimeExports.jsxs(Button,{intent:"accent",onClick:tt,disabled:i,children:[jsxRuntimeExports.jsx(RefreshCw,{className:"mr-2 h-4 w-4"})," Iniciar sesso"]})]}),jsxRuntimeExports.jsx("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-5",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col gap-3 text-sm text-text-secondary",children:["Quantidade",jsxRuntimeExports.jsx("input",{type:"range",min:$.length?1:0,max:Math.min(SESSION_LIMIT,Math.max(1,$.length)),value:$.length?a:0,disabled:$.length===0,onChange:xt=>o(Number(xt.target.value))}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs text-text-tertiary",children:[jsxRuntimeExports.jsx("span",{children:"1"}),jsxRuntimeExports.jsx("span",{children:Math.min(SESSION_LIMIT,Math.max(1,$.length))})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm text-text-secondary",children:[jsxRuntimeExports.jsx("span",{children:"Selecionados"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-text-primary",children:$.length?a:0})]})]})}),$.length===0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 rounded-3xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-text-secondary",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-4 w-4 text-accent"}),"Voc est em dia! Volte depois ou adicione novas palavras no leitor."]})]}),pt&&!ot&&nt&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-between gap-3 md:flex-row",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-sm text-text-secondary",children:[jsxRuntimeExports.jsx(Clock,{className:"h-4 w-4 text-text-tertiary"}),jsxRuntimeExports.jsxs("span",{children:["Progresso ",d+1," de ",c.length]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-tertiary",children:[jsxRuntimeExports.jsx("span",{className:"rounded-full bg-white/5 px-3 py-1",children:nt.srs.stage}),jsxRuntimeExports.jsxs("span",{className:"rounded-full bg-white/5 px-3 py-1",children:["Ease ",nt.srs.ease.toFixed(2)]})]})]}),jsxRuntimeExports.jsx(ReviewCard,{entry:nt,index:d,total:c.length,onAnswer:(xt,gt)=>b(xt,gt)})]}),ot&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-3 text-center",children:[jsxRuntimeExports.jsx(CheckCircle2,{className:"h-12 w-12 text-accent"}),jsxRuntimeExports.jsx("h2",{className:"font-display text-2xl text-text-primary",children:"Sesso concluda"}),jsxRuntimeExports.jsx("p",{className:"max-w-md text-text-secondary",children:"Bom trabalho! Continue praticando para manter o vocabulrio vivo."})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[Object.keys(responseLabels).map(xt=>{const gt=Number(xt);return jsxRuntimeExports.jsxs("div",{className:cn("rounded-3xl border border-white/10 bg-white/5 px-4 py-4 text-center text-text-secondary",gt===2&&"border-accent/40"),children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-text-tertiary",children:responseLabels[gt]}),jsxRuntimeExports.jsx("p",{className:"font-display text-3xl text-text-primary",children:it[gt]})]},xt)}),jsxRuntimeExports.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/5 px-4 py-4 text-center text-text-secondary",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-text-tertiary",children:"Produo"}),jsxRuntimeExports.jsx("p",{className:"font-display text-3xl text-text-primary",children:it.produced})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[jsxRuntimeExports.jsxs(Button,{intent:"ghost",onClick:et,children:[jsxRuntimeExports.jsx(ArrowLeftCircle,{className:"mr-2 h-4 w-4"})," Nova sesso"]}),jsxRuntimeExports.jsxs(Button,{intent:"accent",onClick:tt,disabled:$.length===0,children:[jsxRuntimeExports.jsx(RefreshCw,{className:"mr-2 h-4 w-4"})," Revisar mais"]})]}),_.length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("h3",{className:"font-display text-lg text-text-primary",children:"Registro rpido"}),jsxRuntimeExports.jsx("ul",{className:"grid gap-2 text-sm text-text-secondary md:grid-cols-2",children:_.map(xt=>jsxRuntimeExports.jsxs("li",{className:"rounded-3xl border border-white/5 bg-white/5 px-4 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-text-primary",children:xt.term}),jsxRuntimeExports.jsx("span",{className:"text-xs uppercase tracking-[0.2em] text-text-tertiary",children:responseLabels[xt.response]})]}),xt.userSentence&&jsxRuntimeExports.jsxs("p",{className:"mt-2 text-xs text-text-secondary",children:["",xt.userSentence,""]})]},`${xt.entryId}-${xt.timestamp}`))})]})]})]})]})}const LENGTH_OPTIONS=[120,220,360];function interpolate(e,i){return e.replace(/\{(\w+)\}/g,(s,a)=>i[a]??"")}function pickRandom(e,i){return i>=e.length?[...e]:[...e].sort(()=>Math.random()-.5).slice(0,i)}function buildStory(e,i,s,a,o){var j;const c=[],d=pickRandom(e,Math.min(6,e.length));for(d.map($=>{var nt;const _e=(nt=$.examples)==null?void 0:nt[0];if(_e)return _e;if($.definition)return`${$.term}: ${$.definition}`;const rt=$.translation?interpolate(a.translationClause,{translation:$.translation}):"";return interpolate(a.fallbackSentence,{term:$.term,translationClause:rt,language:s})});c.join(" ").length<i;){const $=d[Math.floor(Math.random()*d.length)]??e[Math.floor(Math.random()*e.length)];if(!$)break;$.translation&&`${$.translation}`;const _e=((j=$.examples)==null?void 0:j[Math.floor(Math.random()*($.examples.length||1))])??"",rt=_e||interpolate(a.fallbackSentence,{term:$.term,translationClause:$.translation?interpolate(a.translationClause,{translation:$.translation}):"",language:s});c.push(rt)}const h=interpolate(a.intro,{language:s}),g=d.map($=>`- ${$.term}${$.translation?` (${$.translation})`:""}`).join(`
`),b=c.join(" "),_=o?`
${o.trim()}`:"";return`${h}${_?`
${_}`:""}

${a.vocabHeading}
${g}

${a.storyHeading}
${b}`.trim()}function buildStoryFromPrompt(e,i,s){const a=interpolate(s.promptIntro,{prompt:e}),o=interpolate(s.promptMiddle,{language:i}),c=interpolate(s.promptEnding,{language:i});return`${a}

${o}

${c}`.trim()}function TextsPage(){const{vocab:e}=useVocabStore(),i=useLibraryStore(St=>St.addText),s=usePrefsStore(St=>St.prefs),{push:a}=useToast(),o=useNavigate(),{locale:c}=useI18n(),[d,h]=reactExports.useState([]),[g,b]=reactExports.useState(1),[_,j]=reactExports.useState(""),[$,_e]=reactExports.useState(!1),[rt,nt]=reactExports.useState("vocab"),[st,tt]=reactExports.useState(""),[et,it]=reactExports.useState(""),[pt,ot]=reactExports.useState(!1),at=reactExports.useMemo(()=>[...e].sort((St,Nt)=>Nt.updatedAt-St.updatedAt),[e]),xt=reactExports.useMemo(()=>at.filter(St=>d.includes(St.id)),[at,d]),gt=s.targetLang||"en",ut=c.meta.languageLabel||gt.toUpperCase(),Et=St=>{h(Nt=>Nt.includes(St)?Nt.filter(bt=>bt!==St):[...Nt,St])},vt=()=>{d.length===at.length?h([]):h(at.map(St=>St.id))},_t=()=>{const St=pickRandom(at,Math.min(at.length,6)).map(Nt=>Nt.id);h(St)},jt=async()=>{if(pt)return;const St=LENGTH_OPTIONS[g];if(rt==="prompt"){const ct=st.trim();if(!ct){a(c.texts.messages.promptRequired,"info");return}ot(!0);try{const mt=(await generatePollinationsStory(ct,ut,St)).trim();if(!mt)throw new Error("Empty story from Pollinations");j(mt)}catch(mt){console.error(mt);const ht=buildStoryFromPrompt(ct,ut,c.texts.story);j(ht),a(c.texts.messages.fallback,"info")}finally{ot(!1)}_e(!1);return}if(!at.length){a(c.texts.messages.needVocab,"info");return}const Nt=xt.length?xt:at.slice(0,5),bt=et.trim(),dt=[`Create a story that naturally incorporates these vocabulary items: ${Nt.map(ct=>`${ct.term}${ct.translation?` (${ct.translation})`:""}`).join(", ")}.`,bt?`Additional guidance: ${bt}.`:null,`Keep the tone accessible for ${ut} learners.`].filter(ct=>!!ct).join(" ");ot(!0);try{const ct=(await generatePollinationsStory(dt,ut,St)).trim();if(!ct)throw new Error("Empty story from Pollinations");j(ct)}catch(ct){console.error(ct);const mt=buildStory(Nt,St,ut,c.texts.story,bt);j(mt),a(c.texts.messages.fallback,"info")}finally{ot(!1)}_e(!1)},kt=async()=>{if(_)try{await navigator.clipboard.writeText(_),_e(!0),a(c.texts.messages.copied,"success"),window.setTimeout(()=>_e(!1),2e3)}catch(St){console.error(St),a(c.texts.messages.copyError,"error")}},It=()=>{if(!_.trim()){a(c.texts.messages.emptyGenerated,"info");return}const St=interpolate(c.texts.story.promptTitle,{date:new Date().toLocaleDateString()}),Nt=i({title:St,lang:gt,content:_,coverUrl:void 0,progress:0});a(c.texts.messages.saved,"success"),setTimeout(()=>{o(`/read/${Nt}`)},250)},Vt=reactExports.useMemo(()=>{const St=xt.length,Nt=xt.filter(Qt=>Qt.srs.nextReview<=Date.now()).length,bt=xt.filter(Qt=>Qt.srs.stage==="mastered").length;return{totalSelected:St,dueSoon:Nt,mastered:bt}},[xt]),Ht=$?c.texts.actions.copied:c.texts.actions.copy;return jsxRuntimeExports.jsxs("div",{className:"mx-auto flex min-h-[calc(100vh-6rem)] w-full max-w-6xl flex-col gap-8 px-6 py-10",children:[jsxRuntimeExports.jsxs("header",{className:"space-y-2",children:[jsxRuntimeExports.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-text-tertiary",children:c.texts.tag}),jsxRuntimeExports.jsx("h1",{className:"font-display text-3xl font-semibold text-text-primary md:text-4xl",children:c.texts.title}),jsxRuntimeExports.jsx("p",{className:"max-w-2xl text-text-secondary",children:c.texts.description})]}),jsxRuntimeExports.jsxs("section",{className:"grid gap-4 md:grid-cols-4",children:[jsxRuntimeExports.jsxs("div",{className:"surface-glass rounded-3xl px-6 py-5",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-text-tertiary",children:c.texts.summary.selected}),jsxRuntimeExports.jsx("p",{className:"font-display text-3xl text-text-primary",children:Vt.totalSelected})]}),jsxRuntimeExports.jsxs("div",{className:"surface-glass rounded-3xl px-6 py-5",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-text-tertiary",children:c.texts.summary.due}),jsxRuntimeExports.jsx("p",{className:"font-display text-3xl text-text-primary",children:Vt.dueSoon})]}),jsxRuntimeExports.jsxs("div",{className:"surface-glass rounded-3xl px-6 py-5",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-text-tertiary",children:c.texts.summary.mastered}),jsxRuntimeExports.jsx("p",{className:"font-display text-3xl text-text-primary",children:Vt.mastered})]}),jsxRuntimeExports.jsxs("div",{className:"surface-glass rounded-3xl px-6 py-5",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-text-tertiary",children:c.texts.summary.length}),jsxRuntimeExports.jsx("p",{className:"font-display text-3xl text-text-primary",children:LENGTH_OPTIONS[g]})]})]}),jsxRuntimeExports.jsxs("div",{className:"surface-glass flex flex-1 flex-col gap-8 px-6 py-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-text-secondary",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-5 w-5 text-accent"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-text-primary",children:c.texts.modeLabel}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:rt==="prompt"?c.texts.promptHint:c.texts.extraPromptHint})]})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:["vocab","prompt"].map(St=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>nt(St),className:cn("rounded-full border border-white/10 px-4 py-2 text-sm transition hover:text-text-primary",rt===St?"border-accent/60 bg-accent/15 text-accent":"text-text-secondary"),children:c.meta.storyModes[St]},St))})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-3",children:[jsxRuntimeExports.jsxs(Button,{intent:"ghost",onClick:vt,disabled:rt==="prompt",children:[jsxRuntimeExports.jsx(Filter,{className:"mr-2 h-4 w-4"}),d.length===at.length?c.texts.controls.clear:c.texts.controls.selectAll]}),jsxRuntimeExports.jsxs(Button,{intent:"ghost",onClick:_t,disabled:rt==="prompt"||!at.length,children:[jsxRuntimeExports.jsx(Shuffle,{className:"mr-2 h-4 w-4"})," ",c.texts.controls.shuffle]})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col gap-2 text-sm text-text-secondary",children:[c.texts.promptLabel,jsxRuntimeExports.jsx("textarea",{value:rt==="prompt"?st:et,onChange:St=>rt==="prompt"?tt(St.target.value):it(St.target.value),placeholder:rt==="prompt"?c.texts.promptPlaceholder:c.texts.extraPromptHint,className:"focus-ring min-h-[120px] rounded-3xl border border-white/10 bg-white/5 px-4 py-3 text-text-primary"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-text-tertiary",children:rt==="prompt"?c.texts.promptHint:c.texts.extraPromptHint})]}),rt==="prompt"?jsxRuntimeExports.jsx("div",{className:"rounded-3xl border border-white/10 bg-white/5 px-5 py-6 text-sm text-text-secondary",children:c.texts.promptHint}):at.length===0?jsxRuntimeExports.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-3 py-16 text-center",children:[jsxRuntimeExports.jsx(Wand2,{className:"h-12 w-12 text-accent"}),jsxRuntimeExports.jsx("h2",{className:"font-display text-2xl text-text-primary",children:c.texts.messages.needVocab}),jsxRuntimeExports.jsx("p",{className:"max-w-md text-text-secondary",children:c.texts.extraPromptHint})]}):jsxRuntimeExports.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:at.map(St=>{var Nt;return jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>Et(St.id),className:cn("rounded-3xl border border-white/10 bg-white/5 px-4 py-4 text-left transition hover:border-accent/40 hover:text-text-primary focus:outline-none focus:ring-2 focus:ring-accent/40",d.includes(St.id)&&"border-accent/60 bg-accent/15 text-accent"),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-xs uppercase tracking-[0.3em] text-text-tertiary",children:[jsxRuntimeExports.jsx("span",{children:St.lang}),jsxRuntimeExports.jsx("span",{children:St.srs.stage})]}),jsxRuntimeExports.jsx("h3",{className:"mt-2 font-display text-xl text-text-primary",children:St.term}),St.translation&&jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:St.translation}),jsxRuntimeExports.jsx("p",{className:"mt-3 line-clamp-2 text-sm text-text-tertiary",children:((Nt=St.examples)==null?void 0:Nt[0])??St.definition??c.common.noContent})]},St.id)})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4 rounded-3xl border border-white/10 bg-white/5 p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-text-secondary",children:[jsxRuntimeExports.jsx(GaugeCircle,{className:"h-5 w-5 text-accent"}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:LENGTH_OPTIONS.map((St,Nt)=>jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>b(Nt),className:cn("rounded-full border border-white/10 px-4 py-2 text-sm text-text-secondary transition hover:text-text-primary",g===Nt&&"border-accent/60 bg-accent/15 text-accent"),children:[St," ",c.texts.summary.lengthUnit]},St))})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-3",children:[jsxRuntimeExports.jsxs(Button,{intent:"ghost",onClick:kt,disabled:!_,children:[$?jsxRuntimeExports.jsx(Check,{className:"mr-2 h-4 w-4"}):jsxRuntimeExports.jsx(Copy,{className:"mr-2 h-4 w-4"})," ",Ht]}),jsxRuntimeExports.jsxs(Button,{intent:"accent",onClick:jt,disabled:pt,children:[pt?jsxRuntimeExports.jsx(Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Sparkles,{className:"mr-2 h-4 w-4"}),pt?c.texts.actions.generating:c.texts.actions.generate]}),jsxRuntimeExports.jsxs(Button,{intent:"neutral",onClick:It,disabled:!_,children:[jsxRuntimeExports.jsx(BookOpen,{className:"mr-2 h-4 w-4"})," ",c.texts.actions.export]})]})]}),jsxRuntimeExports.jsx("textarea",{value:_,onChange:St=>j(St.target.value),className:"focus-ring min-h-[240px] rounded-3xl border border-white/10 bg-[#090909] px-4 py-4 font-mono text-sm text-text-primary",placeholder:c.texts.storyPlaceholder}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-xs text-text-tertiary",children:[jsxRuntimeExports.jsx(Clock,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:c.texts.footerNote})]})]})]})]})}function createJSONStorage(e,i){let s;try{s=e()}catch{return}return{getItem:o=>{var c;const d=g=>g===null?null:JSON.parse(g,i==null?void 0:i.reviver),h=(c=s.getItem(o))!=null?c:null;return h instanceof Promise?h.then(d):d(h)},setItem:(o,c)=>s.setItem(o,JSON.stringify(c,i==null?void 0:i.replacer)),removeItem:o=>s.removeItem(o)}}const toThenable=e=>i=>{try{const s=e(i);return s instanceof Promise?s:{then(a){return toThenable(a)(s)},catch(a){return this}}}catch(s){return{then(a){return this},catch(a){return toThenable(a)(s)}}}},oldImpl=(e,i)=>(s,a,o)=>{let c={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:st=>st,version:0,merge:(st,tt)=>({...tt,...st}),...i},d=!1;const h=new Set,g=new Set;let b;try{b=c.getStorage()}catch{}if(!b)return e((...st)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),s(...st)},a,o);const _=toThenable(c.serialize),j=()=>{const st=c.partialize({...a()});let tt;const et=_({state:st,version:c.version}).then(it=>b.setItem(c.name,it)).catch(it=>{tt=it});if(tt)throw tt;return et},$=o.setState;o.setState=(st,tt)=>{$(st,tt),j()};const _e=e((...st)=>{s(...st),j()},a,o);let rt;const nt=()=>{var st;if(!b)return;d=!1,h.forEach(et=>et(a()));const tt=((st=c.onRehydrateStorage)==null?void 0:st.call(c,a()))||void 0;return toThenable(b.getItem.bind(b))(c.name).then(et=>{if(et)return c.deserialize(et)}).then(et=>{if(et)if(typeof et.version=="number"&&et.version!==c.version){if(c.migrate)return c.migrate(et.state,et.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return et.state}).then(et=>{var it;return rt=c.merge(et,(it=a())!=null?it:_e),s(rt,!0),j()}).then(()=>{tt==null||tt(rt,void 0),d=!0,g.forEach(et=>et(rt))}).catch(et=>{tt==null||tt(void 0,et)})};return o.persist={setOptions:st=>{c={...c,...st},st.getStorage&&(b=st.getStorage())},clearStorage:()=>{b==null||b.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>nt(),hasHydrated:()=>d,onHydrate:st=>(h.add(st),()=>{h.delete(st)}),onFinishHydration:st=>(g.add(st),()=>{g.delete(st)})},nt(),rt||_e},newImpl=(e,i)=>(s,a,o)=>{let c={storage:createJSONStorage(()=>localStorage),partialize:nt=>nt,version:0,merge:(nt,st)=>({...st,...nt}),...i},d=!1;const h=new Set,g=new Set;let b=c.storage;if(!b)return e((...nt)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),s(...nt)},a,o);const _=()=>{const nt=c.partialize({...a()});return b.setItem(c.name,{state:nt,version:c.version})},j=o.setState;o.setState=(nt,st)=>{j(nt,st),_()};const $=e((...nt)=>{s(...nt),_()},a,o);o.getInitialState=()=>$;let _e;const rt=()=>{var nt,st;if(!b)return;d=!1,h.forEach(et=>{var it;return et((it=a())!=null?it:$)});const tt=((st=c.onRehydrateStorage)==null?void 0:st.call(c,(nt=a())!=null?nt:$))||void 0;return toThenable(b.getItem.bind(b))(c.name).then(et=>{if(et)if(typeof et.version=="number"&&et.version!==c.version){if(c.migrate)return[!0,c.migrate(et.state,et.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,et.state];return[!1,void 0]}).then(et=>{var it;const[pt,ot]=et;if(_e=c.merge(ot,(it=a())!=null?it:$),s(_e,!0),pt)return _()}).then(()=>{tt==null||tt(_e,void 0),_e=a(),d=!0,g.forEach(et=>et(_e))}).catch(et=>{tt==null||tt(void 0,et)})};return o.persist={setOptions:nt=>{c={...c,...nt},nt.storage&&(b=nt.storage)},clearStorage:()=>{b==null||b.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>rt(),hasHydrated:()=>d,onHydrate:nt=>(h.add(nt),()=>{h.delete(nt)}),onFinishHydration:nt=>(g.add(nt),()=>{g.delete(nt)})},c.skipHydration||rt(),_e||$},persistImpl=(e,i)=>"getStorage"in i||"serialize"in i||"deserialize"in i?oldImpl(e,i):newImpl(e,i),persist=persistImpl,useAuthStore=create$1()(persist(e=>({user:void 0,isAuthenticated:!1,setUser:i=>e({user:i,isAuthenticated:!0}),signOut:()=>e({user:void 0,isAuthenticated:!1})}),{name:"leflux-auth",version:1,partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})}));function useLoadGsiScript(e={}){const{nonce:i,onScriptLoadSuccess:s,onScriptLoadError:a}=e,[o,c]=reactExports.useState(!1),d=reactExports.useRef(s);d.current=s;const h=reactExports.useRef(a);return h.current=a,reactExports.useEffect(()=>{const g=document.createElement("script");return g.src="https://accounts.google.com/gsi/client",g.async=!0,g.defer=!0,g.nonce=i,g.onload=()=>{var b;c(!0),(b=d.current)===null||b===void 0||b.call(d)},g.onerror=()=>{var b;c(!1),(b=h.current)===null||b===void 0||b.call(h)},document.body.appendChild(g),()=>{document.body.removeChild(g)}},[i]),o}const GoogleOAuthContext=reactExports.createContext(null);function GoogleOAuthProvider({clientId:e,nonce:i,onScriptLoadSuccess:s,onScriptLoadError:a,children:o}){const c=useLoadGsiScript({nonce:i,onScriptLoadSuccess:s,onScriptLoadError:a}),d=reactExports.useMemo(()=>({clientId:e,scriptLoadedSuccessfully:c}),[e,c]);return React$2.createElement(GoogleOAuthContext.Provider,{value:d},o)}function useGoogleOAuth(){const e=reactExports.useContext(GoogleOAuthContext);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function useGoogleLogin({flow:e="implicit",scope:i="",onSuccess:s,onError:a,onNonOAuthError:o,overrideScope:c,state:d,...h}){const{clientId:g,scriptLoadedSuccessfully:b}=useGoogleOAuth(),_=reactExports.useRef(),j=reactExports.useRef(s);j.current=s;const $=reactExports.useRef(a);$.current=a;const _e=reactExports.useRef(o);_e.current=o,reactExports.useEffect(()=>{var st;if(!b)return;const tt=e==="implicit"?"initTokenClient":"initCodeClient",et=(st=window==null?void 0:window.google)===null||st===void 0?void 0:st.accounts.oauth2[tt]({client_id:g,scope:c?i:`openid profile email ${i}`,callback:it=>{var pt,ot;if(it.error)return(pt=$.current)===null||pt===void 0?void 0:pt.call($,it);(ot=j.current)===null||ot===void 0||ot.call(j,it)},error_callback:it=>{var pt;(pt=_e.current)===null||pt===void 0||pt.call(_e,it)},state:d,...h});_.current=et},[g,b,e,i,d]);const rt=reactExports.useCallback(st=>{var tt;return(tt=_.current)===null||tt===void 0?void 0:tt.requestAccessToken(st)},[]),nt=reactExports.useCallback(()=>{var st;return(st=_.current)===null||st===void 0?void 0:st.requestCode()},[]);return e==="implicit"?rt:nt}function GoogleAuthButton({variant:e="solid",className:i}){var _e;const a=!!((_e={}.VITE_GOOGLE_CLIENT_ID)==null?void 0:_e.trim()),{user:o,setUser:c,signOut:d}=useAuthStore(),{push:h}=useToast(),[g,b]=reactExports.useState(!1),_=useGoogleLogin({flow:"implicit",scope:"openid profile email",onSuccess:async rt=>{try{const{access_token:nt,expires_in:st}=rt,tt=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${nt}`}});if(!tt.ok)throw new Error("Falha ao obter perfil");const et=await tt.json();c({id:et.sub,name:et.name,email:et.email,picture:et.picture,accessToken:nt,expiresAt:Date.now()+(st??3600)*1e3}),h("Conta Google conectada.","success")}catch(nt){console.error(nt),h("No conseguimos finalizar o login com Google.","error")}finally{b(!1)}},onError:rt=>{console.error("Google login error",rt),h("No foi possvel concluir o login agora.","error"),b(!1)}});if(!a)return null;const j=()=>{g||(b(!0),_())},$=()=>{g||(d(),h("Conta Google desconectada.","info"))};return o?jsxRuntimeExports.jsxs(Button,{intent:e==="solid"?"accent":"ghost",onClick:$,className:i,disabled:g,children:[jsxRuntimeExports.jsx(LogOut,{className:"mr-2 h-4 w-4"})," Sair do Google"]}):jsxRuntimeExports.jsxs(Button,{intent:e==="solid"?"accent":"ghost",onClick:j,disabled:g,className:i,children:[g?jsxRuntimeExports.jsx(Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(LogIn,{className:"mr-2 h-4 w-4"}),"Entrar com Google"]})}const THEME_OPTIONS=[{value:"auto",label:"Automtico",icon:Monitor},{value:"dark",label:"Escuro",icon:Moon},{value:"light",label:"Claro",icon:Sun}],LANGUAGE_OPTIONS=[{value:"en",label:"Ingls"},{value:"pt",label:"Portugus"},{value:"es",label:"Espanhol"},{value:"fr",label:"Francs"},{value:"de",label:"Alemo"},{value:"it",label:"Italiano"}],AMBIENT_OPTIONS=[{value:"none",label:"Silncio",icon:Volume2},{value:"rain",label:"Chuva",icon:CloudRain},{value:"library",label:"Biblioteca",icon:Info$1},{value:"nature",label:"Natureza",icon:Trees}];function AccountPage(){var Nt;const e=useNavigate(),{push:i}=useToast(),{prefs:s,updatePrefs:a,hydrate:o,isLoading:c}=usePrefsStore(),{texts:d,hydrate:h}=useLibraryStore(),{vocab:g,hydrate:b}=useVocabStore(),{user:_,isAuthenticated:j}=useAuthStore(),[$,_e]=reactExports.useState(s.fontSize),[rt,nt]=reactExports.useState(s.lineHeight),[st,tt]=reactExports.useState(!1),[et,it]=reactExports.useState(!1),[pt,ot]=reactExports.useState(!1),at=reactExports.useRef(null);reactExports.useEffect(()=>{_e(s.fontSize),nt(s.lineHeight)},[s.fontSize,s.lineHeight]);const xt=g.length,gt=d.length,ut=reactExports.useMemo(()=>g.filter(bt=>bt.srs.stage==="mastered").length,[g]),Et=!!((Nt={}.VITE_GOOGLE_CLIENT_ID)!=null&&Nt.trim()),vt=bt=>{a({theme:bt})},_t=bt=>{_e(bt),a({fontSize:bt})},jt=bt=>{nt(bt),a({lineHeight:bt})},kt=bt=>{a({targetLang:bt.target.value})},It=bt=>{a({ambientSound:bt})},Vt=async()=>{tt(!0);try{const[bt,Qt,nn]=await Promise.all([db.getAllTexts(),db.getAllVocab(),db.getPrefs()]),dt={meta:{exportedAt:new Date().toISOString(),version:DB_VERSION},texts:bt,vocab:Qt,prefs:nn??s},ct=new Blob([JSON.stringify(dt,null,2)],{type:"application/json"}),mt=URL.createObjectURL(ct),ht=document.createElement("a");ht.href=mt,ht.download=`leflux-backup-${new Date().toISOString().split("T")[0]}.json`,ht.click(),URL.revokeObjectURL(mt),i("Backup exportado.","success")}catch(bt){console.error(bt),i("No foi possvel exportar agora.","error")}finally{tt(!1)}},Ht=async bt=>{var nn;const Qt=(nn=bt.target.files)==null?void 0:nn[0];if(Qt){it(!0);try{const dt=await Qt.text(),ct=JSON.parse(dt);if(!ct||typeof ct!="object")throw new Error("invalid-backup");const mt=Array.isArray(ct.texts)?ct.texts:[],ht=Array.isArray(ct.vocab)?ct.vocab:[],yt=ct.prefs&&typeof ct.prefs=="object"?ct.prefs:void 0;await db.clearTexts(),await db.clearVocab(),await db.clearPrefs();const wt=mt.filter(Rt=>!!Rt&&typeof Rt=="object"&&"id"in Rt&&"content"in Rt),Ct=ht.filter(Rt=>!!Rt&&typeof Rt=="object"&&"id"in Rt&&"term"in Rt);await Promise.all(wt.map(Rt=>db.putText(Rt))),await Promise.all(Ct.map(Rt=>db.putVocab(Rt))),yt&&await db.putPrefs(yt),await Promise.all([h(),b(),o()]),i("Backup importado.","success")}catch(dt){console.error(dt),i("Arquivo invlido ou corrompido.","error")}finally{it(!1),at.current&&(at.current.value="")}}},St=async()=>{if(window.confirm("Isso vai remover biblioteca, vocabulrio e preferncias. Continuar?")){ot(!0);try{await db.clearTexts(),await db.clearVocab(),await db.clearPrefs(),await Promise.all([h(),b(),o()]),i("Todos os dados foram removidos.","info"),e("/")}catch(bt){console.error(bt),i("No foi possvel limpar agora.","error")}finally{ot(!1)}}};return jsxRuntimeExports.jsxs("div",{className:"mx-auto flex min-h-[calc(100vh-6rem)] w-full max-w-5xl flex-col gap-8 px-6 py-10",children:[jsxRuntimeExports.jsxs("header",{className:"space-y-2",children:[jsxRuntimeExports.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-text-tertiary",children:"Conta"}),jsxRuntimeExports.jsx("h1",{className:"font-display text-3xl font-semibold text-text-primary md:text-4xl",children:"Preferncias & backups"}),jsxRuntimeExports.jsx("p",{className:"max-w-2xl text-text-secondary",children:"Ajuste a experincia de leitura, controle udio ambiente e faa exportao/restore dos seus dados offline."})]}),Et&&jsxRuntimeExports.jsxs("section",{className:"surface-glass flex flex-col gap-4 rounded-3xl px-6 py-6",children:[jsxRuntimeExports.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-text-tertiary",children:"Conta Google"}),jsxRuntimeExports.jsx("h2",{className:"font-display text-xl text-text-primary",children:"Sincronizao opcional"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Conecte-se com o Google para identificar seus backups e sincronizar preferncias em mltiplos dispositivos."})]}),jsxRuntimeExports.jsx(GoogleAuthButton,{variant:"solid"})]}),j&&_?jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-4 rounded-3xl border border-white/10 bg-white/5 p-4",children:[_.picture?jsxRuntimeExports.jsx("img",{src:_.picture,alt:"Avatar do Google",className:"h-12 w-12 rounded-full object-cover"}):jsxRuntimeExports.jsx(UserCircle,{className:"h-12 w-12 text-text-secondary"}),jsxRuntimeExports.jsxs("div",{className:"min-w-[200px] flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-text-primary",children:_.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-text-secondary",children:_.email}),jsxRuntimeExports.jsxs("p",{className:"mt-1 text-xs text-text-tertiary",children:["Token expira em ",new Date(_.expiresAt).toLocaleString()]})]})]}):null]}),jsxRuntimeExports.jsxs("section",{className:"grid gap-4 md:grid-cols-4",children:[jsxRuntimeExports.jsxs("div",{className:"surface-glass rounded-3xl px-6 py-5",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-text-tertiary",children:"Textos"}),jsxRuntimeExports.jsx("p",{className:"font-display text-3xl text-text-primary",children:gt}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Na sua biblioteca"})]}),jsxRuntimeExports.jsxs("div",{className:"surface-glass rounded-3xl px-6 py-5",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-text-tertiary",children:"Vocabulrio"}),jsxRuntimeExports.jsx("p",{className:"font-display text-3xl text-text-primary",children:xt}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Palavras salvas"})]}),jsxRuntimeExports.jsxs("div",{className:"surface-glass rounded-3xl px-6 py-5",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-text-tertiary",children:"Dominadas"}),jsxRuntimeExports.jsx("p",{className:"font-display text-3xl text-text-primary",children:ut}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Prontas para uso"})]}),jsxRuntimeExports.jsxs("div",{className:"surface-glass rounded-3xl px-6 py-5",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-text-tertiary",children:"Fonte"}),jsxRuntimeExports.jsxs("p",{className:"font-display text-3xl text-text-primary",children:[$,"px"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Aplicado ao leitor"})]})]}),jsxRuntimeExports.jsxs("div",{className:"surface-glass flex flex-1 flex-col gap-8 px-6 py-8",children:[jsxRuntimeExports.jsxs("section",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("header",{className:"space-y-1",children:[jsxRuntimeExports.jsx("h2",{className:"font-display text-xl text-text-primary",children:"Tema & idioma"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Sincronizamos automaticamente com o sistema, mas voc pode escolher."})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-3",children:THEME_OPTIONS.map(({value:bt,label:Qt,icon:nn})=>jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>vt(bt),className:cn("inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2 text-sm text-text-secondary transition hover:text-text-primary focus:outline-none focus:ring-2 focus:ring-accent/40",s.theme===bt&&"border-accent/60 bg-accent/15 text-accent"),children:[jsxRuntimeExports.jsx(nn,{className:"h-4 w-4"})," ",Qt]},bt))}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col gap-2 text-sm text-text-secondary",children:["Idioma alvo",jsxRuntimeExports.jsx("select",{value:s.targetLang,onChange:kt,className:"focus-ring rounded-3xl border border-white/10 bg-white/5 px-4 py-3 text-text-primary",disabled:c,children:LANGUAGE_OPTIONS.map(bt=>jsxRuntimeExports.jsx("option",{value:bt.value,children:bt.label},bt.value))})]})]}),jsxRuntimeExports.jsxs("section",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("header",{className:"space-y-1",children:[jsxRuntimeExports.jsx("h2",{className:"font-display text-xl text-text-primary",children:"Tipografia"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Defina o conforto visual para suas sesses de leitura."})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 text-sm text-text-secondary",children:[jsxRuntimeExports.jsx("span",{className:"uppercase tracking-[0.3em] text-text-tertiary",children:"Tamanho"}),jsxRuntimeExports.jsx("input",{type:"range",min:14,max:24,value:$,onChange:bt=>_t(Number(bt.target.value))}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-text-tertiary",children:[$,"px"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 text-sm text-text-secondary",children:[jsxRuntimeExports.jsx("span",{className:"uppercase tracking-[0.3em] text-text-tertiary",children:"Altura da linha"}),jsxRuntimeExports.jsx("input",{type:"range",min:1.4,max:1.9,step:.05,value:rt,onChange:bt=>jt(Number(bt.target.value))}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-text-tertiary",children:[rt.toFixed(2),"x"]})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("header",{className:"space-y-1",children:[jsxRuntimeExports.jsx("h2",{className:"font-display text-xl text-text-primary",children:"Som ambiente"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Escolha um rudo de fundo leve para manter o foco."})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-3",children:AMBIENT_OPTIONS.map(({value:bt,label:Qt,icon:nn})=>jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>It(bt),className:cn("inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2 text-sm text-text-secondary transition hover:text-text-primary focus:outline-none focus:ring-2 focus:ring-accent/40",s.ambientSound===bt&&"border-accent/60 bg-accent/15 text-accent"),children:[jsxRuntimeExports.jsx(nn,{className:"h-4 w-4"})," ",Qt]},bt))})]}),jsxRuntimeExports.jsxs("section",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("header",{className:"space-y-1",children:[jsxRuntimeExports.jsx("h2",{className:"font-display text-xl text-text-primary",children:"Backup & restaurao"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-text-secondary",children:"Seus dados ficam no seu dispositivo. Exporte um snapshot ou importe um arquivo salvo."})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-3",children:[jsxRuntimeExports.jsxs(Button,{intent:"accent",onClick:Vt,disabled:st,children:[st?jsxRuntimeExports.jsx(Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(FileDown,{className:"mr-2 h-4 w-4"})," Exportar backup"]}),jsxRuntimeExports.jsxs(Button,{intent:"neutral",onClick:()=>{var bt;return(bt=at.current)==null?void 0:bt.click()},disabled:et,children:[et?jsxRuntimeExports.jsx(Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(FileUp,{className:"mr-2 h-4 w-4"})," Importar backup"]}),jsxRuntimeExports.jsx("input",{ref:at,type:"file",accept:"application/json",className:"hidden",onChange:Ht})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-text-tertiary",children:["Exportado com verso ",DB_VERSION,". Arquivos de outra verso sero reconciliados automaticamente sempre que possvel."]})]}),jsxRuntimeExports.jsxs("section",{className:"space-y-4 rounded-3xl border border-red-400/30 bg-red-500/10 p-6",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center gap-2 text-red-100",children:[jsxRuntimeExports.jsx(Trash2,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("h2",{className:"font-display text-xl",children:"rea de risco"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-red-200",children:"Limpe tudo e volte ao estado inicial. til se quiser comear outro idioma do zero."}),jsxRuntimeExports.jsxs(Button,{intent:"ghost",onClick:St,disabled:pt,className:"border-red-400/60 text-red-100 hover:bg-red-400/20",children:[pt?jsxRuntimeExports.jsx(Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Trash2,{className:"mr-2 h-4 w-4"})," Apagar dados locais"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-200",children:[jsxRuntimeExports.jsx(CheckCircle2,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:"Nenhum dado  enviado para servidores  exporte antes se quiser guardar uma cpia."})]})]})]})]})}function AppRoutes(){return jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(LibraryHome,{})}),jsxRuntimeExports.jsx(Route,{path:"import",element:jsxRuntimeExports.jsx(ImportPage,{})}),jsxRuntimeExports.jsx(Route,{path:"read/:id",element:jsxRuntimeExports.jsx(ReaderPage,{})}),jsxRuntimeExports.jsx(Route,{path:"vocabulary",element:jsxRuntimeExports.jsx(VocabularyPage,{})}),jsxRuntimeExports.jsx(Route,{path:"review",element:jsxRuntimeExports.jsx(ReviewPage,{})}),jsxRuntimeExports.jsx(Route,{path:"texts",element:jsxRuntimeExports.jsx(TextsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"account",element:jsxRuntimeExports.jsx(AccountPage,{})})]})}function BottomNav(){const{locale:e}=useI18n(),i=[{to:"/",label:e.nav.library,icon:Library},{to:"/import",label:e.nav.import,icon:UploadCloud},{to:"/vocabulary",label:e.nav.vocabulary,icon:BookMarked},{to:"/review",label:e.nav.review,icon:Sparkle},{to:"/account",label:e.nav.account,icon:User}];return jsxRuntimeExports.jsx("nav",{className:"fixed inset-x-0 bottom-4 z-20 flex justify-center px-4",children:jsxRuntimeExports.jsx(AnimatePresence,{children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},exit:{opacity:0,y:16},transition:{duration:.2,ease:"easeInOut"},className:"surface-glass flex w-full max-w-2xl items-center justify-around px-4 py-3 backdrop-blur-xl",children:i.map(({to:s,label:a,icon:o})=>jsxRuntimeExports.jsxs(NavLink,{to:s,className:({isActive:c})=>c?"flex flex-col items-center text-accent":"flex flex-col items-center text-text-secondary hover:text-text-primary transition-colors duration-200","aria-label":a,children:[jsxRuntimeExports.jsx(o,{className:"h-5 w-5","aria-hidden":!0}),jsxRuntimeExports.jsx("span",{className:"mt-1 text-xs font-medium",children:a})]},s))})})})}const OPTIONS=[{value:"none",label:"Silncio",icon:VolumeX},{value:"rain",label:"Chuva suave",icon:CloudRain},{value:"library",label:"Biblioteca",icon:Library},{value:"nature",label:"Natureza",icon:Leaf}];function AmbientToggle(){const{prefs:e,updatePrefs:i}=usePrefsStore(),s=reactExports.useMemo(()=>OPTIONS.find(o=>o.value===e.ambientSound)??OPTIONS[0],[e.ambientSound]),a=()=>{const o=OPTIONS.findIndex(d=>d.value===s.value),c=OPTIONS[(o+1)%OPTIONS.length];i({ambientSound:c.value})};return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-4 w-4 text-accent","aria-hidden":!0}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-text-secondary",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-text-primary",children:"Som ambiente"}),jsxRuntimeExports.jsx("p",{children:s.label})]}),jsxRuntimeExports.jsx(Button,{intent:"ghost",onClick:a,"aria-label":"Alternar som ambiente",children:jsxRuntimeExports.jsx(s.icon,{className:"h-4 w-4","aria-hidden":!0})})]})}function Header(){const{locale:e}=useI18n(),i=[{to:"/",label:e.nav.library,exact:!0},{to:"/import",label:e.nav.import},{to:"/vocabulary",label:e.nav.vocabulary},{to:"/review",label:e.nav.review},{to:"/texts",label:e.nav.stories},{to:"/account",label:e.nav.account}];return jsxRuntimeExports.jsx("header",{className:"sticky top-0 z-30 hidden border-b border-white/5 bg-dark-base/80 backdrop-blur-xl lg:block",children:jsxRuntimeExports.jsxs("div",{className:"mx-auto flex h-20 w-full max-w-6xl items-center justify-between px-8",children:[jsxRuntimeExports.jsx(NavLink,{to:"/",className:"font-display text-2xl font-semibold text-text-primary",children:"LeFlux"}),jsxRuntimeExports.jsx("nav",{className:"flex items-center gap-1 text-sm",children:i.map(({to:s,label:a,exact:o})=>jsxRuntimeExports.jsx(NavLink,{to:s,end:!!o,className:({isActive:c})=>cn("rounded-2xl px-4 py-2 text-text-secondary transition hover:bg-white/5 hover:text-text-primary",c&&"bg-white/10 text-text-primary"),children:a},s))}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:jsxRuntimeExports.jsx(AmbientToggle,{})})]})})}function ThemeWatcher(){const{prefs:e}=usePrefsStore();return reactExports.useEffect(()=>{if(typeof document>"u"||typeof window>"u")return;const i=window.matchMedia("(prefers-color-scheme: dark)").matches,s=e.theme==="auto"?i?"dark":"light":e.theme;document.body.dataset.theme=s,document.documentElement.classList.toggle("dark",s==="dark")},[e.theme]),null}function LanguageWatcher(){const{locale:e,isRTL:i}=useI18n();return reactExports.useEffect(()=>{typeof document>"u"||(document.documentElement.lang=e.meta.code,document.documentElement.dir=i?"rtl":"ltr")},[e.meta.code,i]),null}function App(){return jsxRuntimeExports.jsx(ToastProvider,{children:jsxRuntimeExports.jsxs(BrowserRouter,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[jsxRuntimeExports.jsx(ThemeWatcher,{}),jsxRuntimeExports.jsx(LanguageWatcher,{}),jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsxs("div",{className:"relative min-h-screen bg-gradient-to-b from-dark-base to-dark-base-secondary text-text-primary transition-colors duration-300 dark:from-dark-base dark:to-dark-base-secondary",children:[jsxRuntimeExports.jsx("div",{className:"pointer-events-none fixed inset-0 bg-[radial-gradient(circle_at_top,_rgba(255,209,102,0.08),_transparent_55%)]","aria-hidden":!0}),jsxRuntimeExports.jsx("div",{className:"relative flex min-h-screen flex-col",children:jsxRuntimeExports.jsx("main",{className:"flex-1",children:jsxRuntimeExports.jsx(AppRoutes,{})})}),jsxRuntimeExports.jsx(BottomNav,{})]})]})})}const latin$1="",latin="",globals="",scriptRel="modulepreload",assetsURL=function(e){return"/"+e},seen={},__vitePreload=function e(i,s,a){if(!s||s.length===0)return i();const o=document.getElementsByTagName("link");return Promise.all(s.map(c=>{if(c=assetsURL(c),c in seen)return;seen[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(!!a)for(let _=o.length-1;_>=0;_--){const j=o[_];if(j.href===c&&(!d||j.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${h}`))return;const b=document.createElement("link");if(b.rel=d?"stylesheet":scriptRel,d||(b.as="script",b.crossOrigin=""),b.href=c,document.head.appendChild(b),d)return new Promise((_,j)=>{b.addEventListener("load",_),b.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${c}`)))})})).then(()=>i()).catch(c=>{const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c})};function registerSW(e={}){const{immediate:i=!1,onNeedRefresh:s,onOfflineReady:a,onRegistered:o,onRegisteredSW:c,onRegisterError:d}=e;let h,g;const b=async(j=!0)=>{await g};async function _(){if("serviceWorker"in navigator){const{Workbox:j}=await __vitePreload(()=>import("./workbox-window.prod.es5-5ffdab76.js"),[]);h=new j("/sw.js",{scope:"/",type:"classic"}),h.addEventListener("activated",$=>{($.isUpdate||$.isExternal)&&window.location.reload()}),h.addEventListener("installed",$=>{$.isUpdate||a==null||a()}),h.register({immediate:i}).then($=>{c?c("/sw.js",$):o==null||o($)}).catch($=>{d==null||d($)})}}return g=_(),b}const FIVE_MINUTES=1e3*60*5;function registerServiceWorker(){return registerSW({immediate:!0,onOfflineReady(){console.info("LeFlux is ready to work offline.")},onRegisteredSW(i,s){s&&setInterval(()=>{s.update().catch(()=>{})},FIVE_MINUTES)}})}const root=client.createRoot(document.getElementById("root"));var ls;const googleClientId=(ls={}.VITE_GOOGLE_CLIENT_ID)==null?void 0:ls.trim(),appTree=jsxRuntimeExports.jsx(React$2.StrictMode,{children:jsxRuntimeExports.jsx(App,{})});googleClientId?root.render(jsxRuntimeExports.jsx(GoogleOAuthProvider,{clientId:googleClientId,children:appTree})):(console.warn("Google OAuth client ID not configured. Google sign-in is disabled."),root.render(appTree));registerServiceWorker();
